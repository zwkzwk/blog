<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">




  
  
    
      
    
    
      
    
  <script src="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/pace.min.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.min.css">























<link rel="stylesheet" href="/blog/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/blog/css/main.css?v=7.0.1">


  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png?v=7.0.1">


  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png?v=7.0.1">


  <link rel="mask-icon" href="/blog/images/logo.svg?v=7.0.1" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/blog/',
    scheme: 'Muse',
    version: '7.0.1',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true,"dimmer":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="JDK8 å¿«é€ŸæŒ‡å—  JDK8 å‡çº§å¸¸è§é—®é¢˜ç« èŠ‚æ˜¯æˆ‘ä¸ªäººçš„ç»éªŒæ•´ç†ã€‚å…¶ä»–å†…å®¹åŸºæœ¬ç¿»è¯‘è‡ª java8-tutorial ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œblogã€    Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•) Lambda expressions(Lambda è¡¨è¾¾å¼) Functional Interfaces(å‡½æ•°æ¥å£) Method and Constructo">
<meta name="keywords" content="programming,java,javacore,jdk8,encode">
<meta property="og:type" content="article">
<meta property="og:title" content="JDK8 å¿«é€ŸæŒ‡å—">
<meta property="og:url" content="https://dunwu.github.io/2017/11/14/programming/java/javacore/advanced/jdk8-quickstart/index.html">
<meta property="og:site_name" content="é™é»˜è™šç©ºçš„åšå®¢">
<meta property="og:description" content="JDK8 å¿«é€ŸæŒ‡å—  JDK8 å‡çº§å¸¸è§é—®é¢˜ç« èŠ‚æ˜¯æˆ‘ä¸ªäººçš„ç»éªŒæ•´ç†ã€‚å…¶ä»–å†…å®¹åŸºæœ¬ç¿»è¯‘è‡ª java8-tutorial ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œblogã€    Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•) Lambda expressions(Lambda è¡¨è¾¾å¼) Functional Interfaces(å‡½æ•°æ¥å£) Method and Constructo">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-03-15T09:22:18.492Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JDK8 å¿«é€ŸæŒ‡å—">
<meta name="twitter:description" content="JDK8 å¿«é€ŸæŒ‡å—  JDK8 å‡çº§å¸¸è§é—®é¢˜ç« èŠ‚æ˜¯æˆ‘ä¸ªäººçš„ç»éªŒæ•´ç†ã€‚å…¶ä»–å†…å®¹åŸºæœ¬ç¿»è¯‘è‡ª java8-tutorial ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œblogã€    Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•) Lambda expressions(Lambda è¡¨è¾¾å¼) Functional Interfaces(å‡½æ•°æ¥å£) Method and Constructo">



  <link rel="alternate" href="/blog/atom.xml" title="é™é»˜è™šç©ºçš„åšå®¢" type="application/atom+xml">




  <link rel="canonical" href="https://dunwu.github.io/2017/11/14/programming/java/javacore/advanced/jdk8-quickstart/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>JDK8 å¿«é€ŸæŒ‡å— | é™é»˜è™šç©ºçš„åšå®¢</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/blog/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">é™é»˜è™šç©ºçš„åšå®¢</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <h1 class="site-subtitle" itemprop="description">å¤§é“è‡³ç®€ï¼ŒçŸ¥æ˜“è¡Œéš¾</h1>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/blog/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>é¦–é¡µ</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">

    
    
    
      
    

    

    <a href="/blog/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>å…³äº</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/blog/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>æ ‡ç­¾</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    

    <a href="/blog/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>åˆ†ç±»</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/blog/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>å½’æ¡£</a>

  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    
  
  
  
  

  

  <a href="https://github.com/dunwu" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewbox="0 0 250 250" style="fill: #222; color: #fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a>



    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  
    <div class="reading-progress-bar"></div>
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://dunwu.github.io/blog/2017/11/14/programming/java/javacore/advanced/jdk8-quickstart/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zhang Peng">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/blog/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="é™é»˜è™šç©ºçš„åšå®¢">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">JDK8 å¿«é€ŸæŒ‡å—<a href="https://github.com/dunwu/blog/blob/master/source/_posts/programming/java/javacore/advanced/jdk8-quickstart.md" class="post-edit-link" title="ç¼–è¾‘" rel="noopener" target="_blank"><i class="fa fa-pencil"></i></a>

              
            
          </h2>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-11-14 17:37:00" itemprop="dateCreated datePublished" datetime="2017-11-14T17:37:00+08:00">2017-11-14</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2019-03-15 17:22:18" itemprop="dateModified" datetime="2019-03-15T17:22:18+08:00">2019-03-15</time>
              
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/programming/" itemprop="url" rel="index"><span itemprop="name">programming</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/programming/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/programming/java/javacore/" itemprop="url" rel="index"><span itemprop="name">javacore</span></a></span>

                
                
                  ï¼Œ
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/blog/categories/programming/java/javacore/advanced/" itemprop="url" rel="index"><span itemprop="name">advanced</span></a></span>

                
                
              
            </span>
          

          
            
            
          

          
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æœ¬æ–‡å­—æ•°ï¼š</span>
                
                <span title="æœ¬æ–‡å­—æ•°">20k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">19 åˆ†é’Ÿ</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="jdk8-å¿«é€ŸæŒ‡å—"><a class="markdownIt-Anchor" href="#jdk8-å¿«é€ŸæŒ‡å—"></a> JDK8 å¿«é€ŸæŒ‡å—</h1>
<blockquote>
<p>JDK8 å‡çº§å¸¸è§é—®é¢˜ç« èŠ‚æ˜¯æˆ‘ä¸ªäººçš„ç»éªŒæ•´ç†ã€‚å…¶ä»–å†…å®¹åŸºæœ¬ç¿»è¯‘è‡ª <a href="https://github.com/winterbe/java8-tutorial" target="_blank" rel="noopener">java8-tutorial</a></p>
<p>ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ<a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">blog</a>ã€</p>
</blockquote>
<!-- TOC depthFrom:2 depthTo:2 -->
<ul>
<li><a href="#default-methods-for-interfaces%E6%8E%A5%E5%8F%A3%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%B9%E6%B3%95">Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)</a></li>
<li><a href="#lambda-expressionslambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F">Lambda expressions(Lambda è¡¨è¾¾å¼)</a></li>
<li><a href="#functional-interfaces%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%A3">Functional Interfaces(å‡½æ•°æ¥å£)</a></li>
<li><a href="#method-and-constructor-references%E6%96%B9%E6%B3%95%E5%92%8C%E6%9E%84%E9%80%A0%E5%99%A8%E5%BC%95%E7%94%A8">Method and Constructor References(æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨)</a></li>
<li><a href="#lambda-scopeslambda-%E4%BD%9C%E7%94%A8%E5%9F%9F">Lambda Scopes(Lambda ä½œç”¨åŸŸ)</a></li>
<li><a href="#built-in-functional-interfaces%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%E6%8E%A5%E5%8F%A3">Built-in Functional Interfaces(å†…ç½®å‡½æ•°æ¥å£)</a></li>
<li><a href="#optionals">Optionals</a></li>
<li><a href="#streams">Streams</a></li>
<li><a href="#parallel-streams">Parallel Streams</a></li>
<li><a href="#maps">Maps</a></li>
<li><a href="#date-api">Date API</a></li>
<li><a href="#annotations">Annotations</a></li>
<li><a href="#jdk8-%E5%8D%87%E7%BA%A7%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98">JDK8 å‡çº§å¸¸è§é—®é¢˜</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li>
</ul>
<!-- /TOC -->
<h2 id="default-methods-for-interfacesæ¥å£çš„é»˜è®¤æ–¹æ³•"><a class="markdownIt-Anchor" href="#default-methods-for-interfacesæ¥å£çš„é»˜è®¤æ–¹æ³•"></a> Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)</h2>
<p>Java 8 ä½¿æˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä½¿ç”¨ <code>default</code> å…³é”®å­—å°†éæŠ½è±¡æ–¹æ³•å®ç°æ·»åŠ åˆ°æ¥å£ã€‚è¿™ä¸ªåŠŸèƒ½ä¹Ÿè¢«ç§°ä¸ºè™šæ‹Ÿæ‰©å±•æ–¹æ³•ã€‚</p>
<p>è¿™æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Formula</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">double</span> <span class="title">calculate</span><span class="params">(<span class="keyword">int</span> a)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">double</span> <span class="title">sqrt</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Math.sqrt(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é™¤äº†æŠ½è±¡æ–¹æ³• <code>calculate</code> ï¼Œæ¥å£ <code>Formula</code> è¿˜å®šä¹‰äº†é»˜è®¤æ–¹æ³• <code>sqrt</code>ã€‚å…·ä½“ç±»åªéœ€è¦æ‰§è¡ŒæŠ½è±¡æ–¹æ³•è®¡ç®—ã€‚é»˜è®¤çš„æ–¹æ³• <code>sqrt</code> å¯ä»¥ç”¨äºå¼€ç®±å³ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Formula formula = <span class="keyword">new</span> Formula() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">calculate</span><span class="params">(<span class="keyword">int</span> a)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sqrt(a * <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">formula.calculate(<span class="number">100</span>);     <span class="comment">// 100.0</span></span><br><span class="line">formula.sqrt(<span class="number">16</span>);           <span class="comment">// 4.0</span></span><br></pre></td></tr></table></figure>
<p><code>Formula</code> è¢«å®ç°ä¸ºä¸€ä¸ªåŒ¿åå¯¹è±¡ã€‚ä»£ç éå¸¸å†—é•¿ï¼šç”¨äº <code>sqrt(a * 100)</code> è¿™æ ·ç®€å•çš„è®¡ç®—çš„ 6 è¡Œä»£ç ã€‚æ­£å¦‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­çœ‹åˆ°çš„ï¼Œåœ¨ Java 8 ä¸­å®ç°å•ä¸ªæ–¹æ³•å¯¹è±¡æœ‰æ›´å¥½çš„æ–¹æ³•ã€‚</p>
<h2 id="lambda-expressionslambda-è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#lambda-expressionslambda-è¡¨è¾¾å¼"></a> Lambda expressions(Lambda è¡¨è¾¾å¼)</h2>
<p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•åœ¨ä»¥å‰ç‰ˆæœ¬çš„ Java ä¸­å¯¹å­—ç¬¦ä¸²åˆ—è¡¨è¿›è¡Œæ’åºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; names = Arrays.asList(<span class="string">"peter"</span>, <span class="string">"anna"</span>, <span class="string">"mike"</span>, <span class="string">"xenia"</span>);</span><br><span class="line"></span><br><span class="line">Collections.sort(names, <span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String a, String b)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b.compareTo(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>é™æ€å·¥å…·æ–¹æ³• <code>Collections.sort</code> ä¸ºäº†å¯¹æŒ‡å®šçš„åˆ—è¡¨è¿›è¡Œæ’åºï¼Œæ¥å—ä¸€ä¸ªåˆ—è¡¨å’Œä¸€ä¸ªæ¯”è¾ƒå™¨ã€‚æ‚¨ä¼šå‘ç°è‡ªå·±ç»å¸¸éœ€è¦åˆ›å»ºåŒ¿åæ¯”è¾ƒå™¨å¹¶å°†å…¶ä¼ é€’ç»™æ’åºæ–¹æ³•ã€‚</p>
<p>Java 8 ä½¿ç”¨æ›´ç®€çŸ­çš„ <strong>lambda è¡¨è¾¾å¼</strong>æ¥é¿å…å¸¸å¸¸åˆ›å»ºåŒ¿åå¯¹è±¡çš„é—®é¢˜ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Collections.sort(names, (String a, String b) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> b.compareTo(a);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>å¦‚æ‚¨ç¼©å‡ï¼Œè¿™æ®µä»£ç æ¯”ä¸Šæ®µä»£ç ç®€æ´å¾ˆå¤šã€‚ä½†æ˜¯ï¼Œè¿˜å¯ä»¥æ›´åŠ ç®€æ´ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Collections.sort(names, (String a, String b) -&gt; b.compareTo(a));</span><br></pre></td></tr></table></figure>
<p>è¿™è¡Œä»£ç ä¸­ï¼Œä½ çœå»äº†èŠ±æ‹¬å· <code>{}</code> å’Œ return å…³é”®å­—ã€‚ä½†æ˜¯ï¼Œè¿™è¿˜ä¸ç®—å®Œï¼Œå®ƒè¿˜å¯ä»¥å†è¿›ä¸€æ­¥ç®€æ´ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">names.sort((a, b) -&gt; b.compareTo(a));</span><br></pre></td></tr></table></figure>
<p>åˆ—è¡¨ç°åœ¨æœ‰ä¸€ä¸ª <code>sort</code> æ–¹æ³•ã€‚æ­¤å¤–ï¼Œjava ç¼–è¯‘å™¨çŸ¥é“å‚æ•°ç±»å‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¸æŒ‡å®šå…¥å‚çš„æ•°æ®ç±»å‹ã€‚è®©æˆ‘ä»¬æ·±å…¥æ¢è®¨å¦‚ä½•ä½¿ç”¨ lambda è¡¨è¾¾å¼ã€‚</p>
<h2 id="functional-interfaceså‡½æ•°æ¥å£"><a class="markdownIt-Anchor" href="#functional-interfaceså‡½æ•°æ¥å£"></a> Functional Interfaces(å‡½æ•°æ¥å£)</h2>
<p>lambda è¡¨è¾¾å¼å¦‚ä½•é€‚åº” Java çš„ç±»å‹ç³»ç»Ÿï¼Ÿæ¯ä¸ª lambda å¯¹åº”ä¸€ä¸ªç”±æ¥å£æŒ‡å®šçš„ç±»å‹ã€‚ä¸€ä¸ªæ‰€è°“çš„<em>å‡½æ•°æ¥å£</em>å¿…é¡»åŒ…å«ä¸€ä¸ª<strong>æŠ½è±¡æ–¹æ³•å£°æ˜</strong>ã€‚è¯¥ç±»å‹çš„æ¯ä¸ª lambda è¡¨è¾¾å¼éƒ½å°†ä¸æ­¤æŠ½è±¡æ–¹æ³•åŒ¹é…ã€‚ç”±äºé»˜è®¤æ–¹æ³•ä¸æ˜¯æŠ½è±¡çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥è‡ªç”±åœ°æ·»åŠ é»˜è®¤æ–¹æ³•åˆ°ä½ çš„å‡½æ•°æ¥å£ã€‚</p>
<p>åªè¦ä¿è¯æ¥å£ä»…åŒ…å«ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå°±å¯ä»¥ä½¿ç”¨ä»»æ„çš„æ¥å£ä½œä¸º lambda è¡¨è¾¾å¼ã€‚ä¸ºç¡®ä¿æ‚¨çš„æ¥å£ç¬¦åˆè¦æ±‚ï¼Œæ‚¨åº”è¯¥æ·»åŠ  <code>@FunctionalInterface</code> æ³¨è§£ã€‚ç¼–è¯‘å™¨æ³¨æ„åˆ°è¿™ä¸ªæ³¨è§£åï¼Œä¸€æ—¦æ‚¨å°è¯•åœ¨æ¥å£ä¸­æ·»åŠ ç¬¬äºŒä¸ªæŠ½è±¡æ–¹æ³•å£°æ˜ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ›å‡ºç¼–è¯‘å™¨é”™è¯¯ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Converter</span>&lt;<span class="title">F</span>, <span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">T <span class="title">convert</span><span class="params">(F from)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Converter&lt;String, Integer&gt; converter = (from) -&gt; Integer.valueOf(from);</span><br><span class="line">Integer converted = converter.convert(<span class="string">"123"</span>);</span><br><span class="line">System.out.println(converted);    <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>
<p>è¯·è®°ä½ï¼Œå¦‚æœ <code>@FunctionalInterface</code> æ³¨è§£è¢«çœç•¥ï¼Œä»£ç ä¹Ÿæ˜¯æœ‰æ•ˆçš„ã€‚</p>
<h2 id="method-and-constructor-referencesæ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨"><a class="markdownIt-Anchor" href="#method-and-constructor-referencesæ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨"></a> Method and Constructor References(æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨)</h2>
<p>ä¸Šé¢çš„ç¤ºä¾‹ä»£ç å¯ä»¥é€šè¿‡ä½¿ç”¨é™æ€æ–¹æ³•å¼•ç”¨è¿›ä¸€æ­¥ç®€åŒ–ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Converter&lt;String, Integer&gt; converter = Integer::valueOf;</span><br><span class="line">Integer converted = converter.convert(<span class="string">"123"</span>);</span><br><span class="line">System.out.println(converted);   <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>
<p>Java 8 å…è®¸æ‚¨é€šè¿‡ <code>::</code> å…³é”®å­—ä¼ é€’æ–¹æ³•æˆ–æ„é€ å‡½æ•°çš„å¼•ç”¨ã€‚ä¸Šé¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•å¼•ç”¨ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚ä½†æ˜¯æˆ‘ä»¬ä¹Ÿå¯ä»¥å¼•ç”¨å¯¹è±¡æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Something</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">startsWith</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> String.valueOf(s.charAt(<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Something something = <span class="keyword">new</span> Something();</span><br><span class="line">Converter&lt;String, String&gt; converter = something::startsWith;</span><br><span class="line">String converted = converter.convert(<span class="string">"Java"</span>);</span><br><span class="line">System.out.println(converted);    <span class="comment">// "J"</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ¥è§‚å¯Ÿä¸€ä¸‹ <code>::</code> å…³é”®å­—æ˜¯å¦‚ä½•ä½œç”¨äºæ„é€ å™¨çš„ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæœ‰å¤šä¸ªæ„é€ å™¨çš„ç¤ºä¾‹ç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String firstName;</span><br><span class="line">    String lastName;</span><br><span class="line"></span><br><span class="line">    Person() &#123;&#125;</span><br><span class="line"></span><br><span class="line">    Person(String firstName, String lastName) &#123;</span><br><span class="line">        <span class="keyword">this</span>.firstName = firstName;</span><br><span class="line">        <span class="keyword">this</span>.lastName = lastName;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ç€ï¼Œæˆ‘ä»¬æŒ‡å®šä¸€ä¸ªç”¨äºåˆ›å»º Person å¯¹è±¡çš„ PersonFactory æ¥å£ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">PersonFactory</span>&lt;<span class="title">P</span> <span class="keyword">extends</span> <span class="title">Person</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">P <span class="title">create</span><span class="params">(String firstName, String lastName)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬ä¸æ˜¯æ‰‹åŠ¨å®ç°å·¥å‚ï¼Œè€Œæ˜¯é€šè¿‡æ„é€ å¼•ç”¨å°†æ‰€æœ‰ä¸œè¥¿ç²˜åˆåœ¨ä¸€èµ·ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">PersonFactory&lt;Person&gt; personFactory = Person::<span class="keyword">new</span>;</span><br><span class="line">Person person = personFactory.create(<span class="string">"Peter"</span>, <span class="string">"Parker"</span>);</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬é€šè¿‡ <code>Person::new</code> æ¥åˆ›å»ºä¸€ä¸ª Person æ„é€ å™¨çš„å¼•ç”¨ã€‚Java ç¼–è¯‘å™¨ä¼šæ ¹æ®<code>PersonFactory.create</code> çš„ç­¾åè‡ªåŠ¨åŒ¹é…æ­£ç¡®çš„æ„é€ å™¨ã€‚</p>
<h2 id="lambda-scopeslambda-ä½œç”¨åŸŸ"><a class="markdownIt-Anchor" href="#lambda-scopeslambda-ä½œç”¨åŸŸ"></a> Lambda Scopes(Lambda ä½œç”¨åŸŸ)</h2>
<p>ä» lambda è¡¨è¾¾å¼è®¿é—®å¤–éƒ¨ä½œç”¨åŸŸå˜é‡ä¸åŒ¿åå¯¹è±¡éå¸¸ç›¸ä¼¼ã€‚æ‚¨å¯ä»¥è®¿é—®æœ¬åœ°å¤–éƒ¨ä½œç”¨åŸŸçš„å¸¸é‡ä»¥åŠå®ä¾‹çš„æˆå‘˜å˜é‡å’Œé™æ€å˜é‡ã€‚</p>
<h3 id="accessing-local-variablesè®¿é—®æœ¬åœ°å˜é‡"><a class="markdownIt-Anchor" href="#accessing-local-variablesè®¿é—®æœ¬åœ°å˜é‡"></a> Accessing local variables(è®¿é—®æœ¬åœ°å˜é‡)</h3>
<p>æˆ‘ä»¬å¯ä»¥è®¿é—® lambda è¡¨è¾¾å¼ä½œç”¨åŸŸå¤–éƒ¨çš„å¸¸é‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line"></span><br><span class="line">stringConverter.convert(<span class="number">2</span>);     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>ä¸åŒäºåŒ¿åå¯¹è±¡çš„æ˜¯ï¼šè¿™ä¸ªå˜é‡ <code>num</code> ä¸æ˜¯ä¸€å®šè¦è¢« <code>final</code> ä¿®é¥°ã€‚ä¸‹é¢çš„ä»£ç ä¸€æ ·åˆæ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line"></span><br><span class="line">stringConverter.convert(<span class="number">2</span>);     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼Œ<code>num</code> å¿…é¡»æ˜¯éšå¼å¸¸é‡çš„ã€‚ä¸‹é¢çš„ä»£ç ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line">Converter&lt;Integer, String&gt; stringConverter =</span><br><span class="line">        (from) -&gt; String.valueOf(from + num);</span><br><span class="line">num = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤–ï¼Œåœ¨ lambda è¡¨è¾¾å¼ä¸­å¯¹ <code>num</code> åšå†™æ“ä½œä¹Ÿæ˜¯è¢«ç¦æ­¢çš„ã€‚</p>
<h3 id="accessing-fields-and-static-variablesè®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡"><a class="markdownIt-Anchor" href="#accessing-fields-and-static-variablesè®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡"></a> Accessing fields and static variables(è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡)</h3>
<p>ä¸å±€éƒ¨å˜é‡ç›¸æ¯”ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åœ¨ lambda è¡¨è¾¾å¼ä¸­è¯»å†™å®ä¾‹çš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå¯ä»¥è¯»å†™å®ä¾‹çš„é™æ€å˜é‡ã€‚è¿™ç§è¡Œä¸ºåœ¨åŒ¿åå¯¹è±¡ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lambda4</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> outerStaticNum;</span><br><span class="line">    <span class="keyword">int</span> outerNum;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">testScopes</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Converter&lt;Integer, String&gt; stringConverter1 = (from) -&gt; &#123;</span><br><span class="line">            outerNum = <span class="number">23</span>;</span><br><span class="line">            <span class="keyword">return</span> String.valueOf(from);</span><br><span class="line">        &#125;;</span><br><span class="line"></span><br><span class="line">        Converter&lt;Integer, String&gt; stringConverter2 = (from) -&gt; &#123;</span><br><span class="line">            outerStaticNum = <span class="number">72</span>;</span><br><span class="line">            <span class="keyword">return</span> String.valueOf(from);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="accessing-default-interface-methodsè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•"><a class="markdownIt-Anchor" href="#accessing-default-interface-methodsè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•"></a> Accessing Default Interface Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰</h3>
<p>è¿˜è®°å¾—ç¬¬ä¸€èŠ‚çš„ formula ä¾‹å­å—ï¼Ÿ <code>Formula</code> æ¥å£å®šä¹‰äº†ä¸€ä¸ªé»˜è®¤æ–¹æ³• <code>sqrt</code>ï¼Œå®ƒå¯ä»¥è¢«æ¯ä¸ª formula å®ä¾‹ï¼ˆåŒ…æ‹¬åŒ¿åå¯¹è±¡ï¼‰è®¿é—®ã€‚è¿™ä¸ªç‰¹æ€§ä¸é€‚ç”¨äº lambda è¡¨è¾¾å¼ã€‚</p>
<p>é»˜è®¤æ–¹æ³•<strong>ä¸èƒ½</strong>è¢« lambda è¡¨è¾¾å¼è®¿é—®ã€‚ä¸‹é¢çš„ä»£ç ä¸èƒ½ç¼–è¯‘é€šè¿‡ï¼š</p>
<figure class="highlight gcode"><table><tr><td class="code"><pre><span class="line">Formula formula = <span class="comment">(a)</span> -&gt; sqrt<span class="comment">(a * 100)</span>;</span><br></pre></td></tr></table></figure>
<h2 id="built-in-functional-interfaceså†…ç½®å‡½æ•°æ¥å£"><a class="markdownIt-Anchor" href="#built-in-functional-interfaceså†…ç½®å‡½æ•°æ¥å£"></a> Built-in Functional Interfaces(å†…ç½®å‡½æ•°æ¥å£)</h2>
<p>JDK 1.8 API åŒ…å«è®¸å¤šå†…ç½®çš„åŠŸèƒ½æ¥å£ã€‚å®ƒä»¬ä¸­çš„ä¸€äº›åœ¨è¾ƒæ—©çš„ Java ç‰ˆæœ¬ï¼ˆæ¯”å¦‚ <code>Comparator</code> æˆ– <code>Runnable</code>ï¼‰ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚è¿™äº›ç°æœ‰çš„æ¥å£é€šè¿‡ <code>@FunctionalInterfaceannotation</code> æ³¨è§£è¢«æ‰©å±•ä¸ºæ”¯æŒ Lambdaã€‚</p>
<p>ä½†æ˜¯ï¼ŒJava 8 API ä¹Ÿæä¾›äº†ä¸å°‘æ–°çš„å‡½æ•°æ¥å£ã€‚å…¶ä¸­ä¸€äº›æ–°æ¥å£åœ¨ <a href="https://code.google.com/p/guava-libraries/" target="_blank" rel="noopener">Google Guava</a> åº“ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚å³ä½¿æ‚¨ç†Ÿæ‚‰è¿™ä¸ªåº“ï¼Œä¹Ÿåº”è¯¥å¯†åˆ‡å…³æ³¨å¦‚ä½•é€šè¿‡ä¸€äº›æœ‰ç”¨çš„æ–¹æ³•æ‰©å±•æ¥æ‰©å±•è¿™äº›æ¥å£ã€‚</p>
<h3 id="predicates"><a class="markdownIt-Anchor" href="#predicates"></a> Predicates</h3>
<p><code>Predicate</code> æ˜¯åªæœ‰ä¸€ä¸ªå‚æ•°çš„å¸ƒå°”å€¼å‡½æ•°ã€‚è¯¥æ¥å£åŒ…å«å„ç§é»˜è®¤æ–¹æ³•ï¼Œç”¨äºå°†è°“è¯ç»„åˆæˆå¤æ‚çš„é€»è¾‘æœ¯è¯­ï¼ˆä¸ã€æˆ–ã€éï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Predicate&lt;String&gt; predicate = (s) -&gt; s.length() &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">predicate.test(<span class="string">"foo"</span>);              <span class="comment">// true</span></span><br><span class="line">predicate.negate().test(<span class="string">"foo"</span>);     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">Predicate&lt;Boolean&gt; nonNull = Objects::nonNull;</span><br><span class="line">Predicate&lt;Boolean&gt; isNull = Objects::isNull;</span><br><span class="line"></span><br><span class="line">Predicate&lt;String&gt; isEmpty = String::isEmpty;</span><br><span class="line">Predicate&lt;String&gt; isNotEmpty = isEmpty.negate();</span><br></pre></td></tr></table></figure>
<h3 id="functions"><a class="markdownIt-Anchor" href="#functions"></a> Functions</h3>
<p><code>Function</code> æ¥å—ä¸€ä¸ªå‚æ•°å¹¶äº§ç”Ÿä¸€ä¸ªç»“æœã€‚å¯ä»¥ä½¿ç”¨é»˜è®¤æ–¹æ³•å°†å¤šä¸ªå‡½æ•°é“¾æ¥åœ¨ä¸€èµ·ï¼ˆcomposeã€andThenï¼‰ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Function&lt;String, Integer&gt; toInteger = Integer::valueOf;</span><br><span class="line">Function&lt;String, String&gt; backToString = toInteger.andThen(String::valueOf);</span><br><span class="line"></span><br><span class="line">backToString.apply(<span class="string">"123"</span>);     <span class="comment">// "123"</span></span><br></pre></td></tr></table></figure>
<h3 id="suppliers"><a class="markdownIt-Anchor" href="#suppliers"></a> Suppliers</h3>
<p><code>Supplier</code> äº§ç”Ÿä¸€ä¸ªæ³›å‹ç»“æœã€‚ä¸ <code>Function</code> ä¸åŒï¼Œ<code>Supplier</code> ä¸æ¥å—å‚æ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Supplier&lt;Person&gt; personSupplier = Person::<span class="keyword">new</span>;</span><br><span class="line">personSupplier.get();   <span class="comment">// new Person</span></span><br></pre></td></tr></table></figure>
<h3 id="consumers"><a class="markdownIt-Anchor" href="#consumers"></a> Consumers</h3>
<p>Consumer è¡¨ç¤ºè¦åœ¨ä¸€ä¸ªè¾“å…¥å‚æ•°ä¸Šæ‰§è¡Œçš„æ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Consumer&lt;Person&gt; greeter = (p) -&gt; System.out.println(<span class="string">"Hello, "</span> + p.firstName);</span><br><span class="line">greeter.accept(<span class="keyword">new</span> Person(<span class="string">"Luke"</span>, <span class="string">"Skywalker"</span>));</span><br></pre></td></tr></table></figure>
<h3 id="comparators"><a class="markdownIt-Anchor" href="#comparators"></a> Comparators</h3>
<p>æ¯”è¾ƒå™¨åœ¨è€ç‰ˆæœ¬çš„ Java ä¸­æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚ Java 8 ä¸ºæ¥å£æ·»åŠ äº†å„ç§é»˜è®¤æ–¹æ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Comparator&lt;Person&gt; comparator = (p1, p2) -&gt; p1.firstName.compareTo(p2.firstName);</span><br><span class="line"></span><br><span class="line">Person p1 = <span class="keyword">new</span> Person(<span class="string">"John"</span>, <span class="string">"Doe"</span>);</span><br><span class="line">Person p2 = <span class="keyword">new</span> Person(<span class="string">"Alice"</span>, <span class="string">"Wonderland"</span>);</span><br><span class="line"></span><br><span class="line">comparator.compare(p1, p2);             <span class="comment">// &gt; 0</span></span><br><span class="line">comparator.reversed().compare(p1, p2);  <span class="comment">// &lt; 0</span></span><br></pre></td></tr></table></figure>
<h2 id="optionals"><a class="markdownIt-Anchor" href="#optionals"></a> Optionals</h2>
<p><code>Optional</code> ä¸æ˜¯åŠŸèƒ½æ€§æ¥å£ï¼Œè€Œæ˜¯é˜²æ­¢ <code>NullPointerException</code> çš„å¥½å·¥å…·ã€‚è¿™æ˜¯ä¸‹ä¸€èŠ‚çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¿«é€Ÿçœ‹çœ‹ <code>Optional</code> æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<p>å¯é€‰æ˜¯ä¸€ä¸ªç®€å•çš„å®¹å™¨ï¼Œå…¶å€¼å¯ä»¥æ˜¯ null æˆ–é nullã€‚æƒ³æƒ³ä¸€ä¸ªå¯èƒ½è¿”å›ä¸€ä¸ªéç©ºç»“æœçš„æ–¹æ³•ï¼Œä½†æœ‰æ—¶å€™ä»€ä¹ˆéƒ½ä¸è¿”å›ã€‚ä¸æ˜¯è¿”å› nullï¼Œè€Œæ˜¯è¿”å› Java 8 ä¸­çš„ <code>Optional</code>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;String&gt; optional = Optional.of(<span class="string">"bam"</span>);</span><br><span class="line"></span><br><span class="line">optional.isPresent();           <span class="comment">// true</span></span><br><span class="line">optional.get();                 <span class="comment">// "bam"</span></span><br><span class="line">optional.orElse(<span class="string">"fallback"</span>);    <span class="comment">// "bam"</span></span><br><span class="line"></span><br><span class="line">optional.ifPresent((s) -&gt; System.out.println(s.charAt(<span class="number">0</span>)));     <span class="comment">// "b"</span></span><br></pre></td></tr></table></figure>
<h2 id="streams"><a class="markdownIt-Anchor" href="#streams"></a> Streams</h2>
<p><code>java.util.Stream</code> è¡¨ç¤ºå¯ä»¥åœ¨å…¶ä¸Šæ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œçš„å…ƒç´ åºåˆ—ã€‚æµæ“ä½œæ˜¯ä¸­é—´æˆ–ç»ˆç«¯ã€‚å½“ç»ˆç«¯æ“ä½œè¿”å›ä¸€ä¸ªç‰¹å®šç±»å‹çš„ç»“æœæ—¶ï¼Œä¸­é—´æ“ä½œè¿”å›æµæœ¬èº«ï¼Œæ‰€ä»¥ä½ å¯ä»¥é“¾æ¥å¤šä¸ªæ–¹æ³•è°ƒç”¨ã€‚æµåœ¨æºä¸Šåˆ›å»ºï¼Œä¾‹å¦‚ä¸€ä¸ª <code>java.util.Collection</code> åƒåˆ—è¡¨æˆ–é›†åˆï¼ˆä¸æ”¯æŒæ˜ å°„ï¼‰ã€‚æµæ“ä½œæ—¢å¯ä»¥æŒ‰é¡ºåºæ‰§è¡Œï¼Œä¹Ÿå¯ä»¥å¹¶è¡Œæ‰§è¡Œã€‚</p>
<blockquote>
<p>æµæ˜¯éå¸¸å¼ºå¤§çš„ï¼Œæ‰€ä»¥ï¼Œæˆ‘å†™äº†ä¸€ä¸ªç‹¬ç«‹çš„ <a href="http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/" target="_blank" rel="noopener">Java 8 Streams æ•™ç¨‹</a> ã€‚<strong>æ‚¨è¿˜åº”è¯¥æŸ¥çœ‹ Sequentï¼Œå°†å…¶ä½œä¸º Web çš„ç±»ä¼¼åº“ã€‚</strong></p>
</blockquote>
<p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹é¡ºåºæµå¦‚ä½•å·¥ä½œã€‚é¦–å…ˆï¼Œæˆ‘ä»¬ä»¥å­—ç¬¦ä¸²åˆ—è¡¨çš„å½¢å¼åˆ›å»ºä¸€ä¸ªç¤ºä¾‹æºä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; stringCollection = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">stringCollection.add(<span class="string">"ddd2"</span>);</span><br><span class="line">stringCollection.add(<span class="string">"aaa2"</span>);</span><br><span class="line">stringCollection.add(<span class="string">"bbb1"</span>);</span><br><span class="line">stringCollection.add(<span class="string">"aaa1"</span>);</span><br><span class="line">stringCollection.add(<span class="string">"bbb3"</span>);</span><br><span class="line">stringCollection.add(<span class="string">"ccc"</span>);</span><br><span class="line">stringCollection.add(<span class="string">"bbb2"</span>);</span><br><span class="line">stringCollection.add(<span class="string">"ddd1"</span>);</span><br></pre></td></tr></table></figure>
<p>Java 8 ä¸­çš„é›†åˆå·²è¢«æ‰©å±•ï¼Œå› æ­¤æ‚¨å¯ä»¥é€šè¿‡è°ƒç”¨ <code>Collection.stream()</code> æˆ–<code>Collection.parallelStream()</code> æ¥ç®€å•åœ°åˆ›å»ºæµã€‚ä»¥ä¸‹å„èŠ‚ä»‹ç»æœ€å¸¸è§çš„æµæ“ä½œã€‚</p>
<h3 id="filter"><a class="markdownIt-Anchor" href="#filter"></a> Filter</h3>
<p>è¿‡æ»¤å™¨æ¥å—ä¸€ä¸ªè°“è¯æ¥è¿‡æ»¤æµçš„æ‰€æœ‰å…ƒç´ ã€‚è¿™ä¸ªæ“ä½œæ˜¯ä¸­é—´çš„ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨å¦ä¸€ä¸ªæµæ“ä½œï¼ˆ<code>forEach</code>ï¼‰çš„ç»“æœã€‚ ForEach æ¥å—ä¸€ä¸ªæ¶ˆè´¹è€…è¢«æ‰§è¡Œçš„è¿‡æ»¤æµä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚ ForEach æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œã€‚å®ƒæ˜¯æ— æ•ˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è°ƒç”¨å¦ä¸€ä¸ªæµæ“ä½œã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .filter((s) -&gt; s.startsWith(<span class="string">"a"</span>))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// "aaa2", "aaa1"</span></span><br></pre></td></tr></table></figure>
<h3 id="sorted"><a class="markdownIt-Anchor" href="#sorted"></a> Sorted</h3>
<p>æ’åºæ˜¯ä¸€ä¸ªä¸­é—´æ“ä½œï¼Œè¿”å›æµçš„æ’åºè§†å›¾ã€‚å…ƒç´ æŒ‰è‡ªç„¶é¡ºåºæ’åºï¼Œé™¤éæ‚¨ä¼ é€’è‡ªå®šä¹‰æ¯”è¾ƒå™¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .sorted()</span><br><span class="line">    .filter((s) -&gt; s.startsWith(<span class="string">"a"</span>))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// "aaa1", "aaa2"</span></span><br></pre></td></tr></table></figure>
<p>è¯·è®°ä½ï¼Œæ’åºåªä¼šåˆ›å»ºæµçš„æ’åºè§†å›¾ï¼Œè€Œä¸ä¼šæ“çºµæ”¯æŒçš„é›†åˆçš„æ’åºã€‚ <code>stringCollection</code> çš„æ’åºæ˜¯ä¸å˜çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(stringCollection);</span><br><span class="line"><span class="comment">// ddd2, aaa2, bbb1, aaa1, bbb3, ccc, bbb2, ddd1</span></span><br></pre></td></tr></table></figure>
<h3 id="map"><a class="markdownIt-Anchor" href="#map"></a> Map</h3>
<p>ä¸­é—´æ“ä½œæ˜ å°„é€šè¿‡ç»™å®šå‡½æ•°å°†æ¯ä¸ªå…ƒç´ è½¬æ¢ä¸ºå¦ä¸€ä¸ªå¯¹è±¡ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†æ¯ä¸ªå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™å­—æ¯å­—ç¬¦ä¸²ã€‚ä½†æ˜¯æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>map</code> å°†æ¯ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹ã€‚ç»“æœæµçš„æ³›å‹ç±»å‹å–å†³äºæ‚¨ä¼ é€’ç»™ <code>map</code> çš„å‡½æ•°çš„æ³›å‹ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">stringCollection</span><br><span class="line">    .stream()</span><br><span class="line">    .map(String::toUpperCase)</span><br><span class="line">    .sorted((a, b) -&gt; b.compareTo(a))</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// "DDD2", "DDD1", "CCC", "BBB3", "BBB2", "AAA2", "AAA1"</span></span><br></pre></td></tr></table></figure>
<h3 id="match"><a class="markdownIt-Anchor" href="#match"></a> Match</h3>
<p>å¯ä»¥ä½¿ç”¨å„ç§åŒ¹é…æ“ä½œæ¥æ£€æŸ¥æŸä¸ªè°“è¯æ˜¯å¦ä¸æµåŒ¹é…ã€‚æ‰€æœ‰è¿™äº›æ“ä½œéƒ½æ˜¯ç»ˆç«¯å¹¶è¿”å›å¸ƒå°”ç»“æœã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">boolean</span> anyStartsWithA =</span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .anyMatch((s) -&gt; s.startsWith(<span class="string">"a"</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(anyStartsWithA);      <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> allStartsWithA =</span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .allMatch((s) -&gt; s.startsWith(<span class="string">"a"</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(allStartsWithA);      <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">boolean</span> noneStartsWithZ =</span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .noneMatch((s) -&gt; s.startsWith(<span class="string">"z"</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(noneStartsWithZ);      <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h4 id="count"><a class="markdownIt-Anchor" href="#count"></a> Count</h4>
<p>Count æ˜¯ä¸€ä¸ªç»ˆç«¯æ“ä½œï¼Œè¿”å›æµä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">long</span> startsWithB =</span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .filter((s) -&gt; s.startsWith(<span class="string">"b"</span>))</span><br><span class="line">        .count();</span><br><span class="line"></span><br><span class="line">System.out.println(startsWithB);    <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<h3 id="reduce"><a class="markdownIt-Anchor" href="#reduce"></a> Reduce</h3>
<p>è¯¥ç»ˆç«¯æ“ä½œä½¿ç”¨ç»™å®šçš„åŠŸèƒ½å¯¹æµçš„å…ƒç´ è¿›è¡Œç¼©å‡ã€‚ç»“æœæ˜¯ä¸€ä¸ª <code>Optional</code> æŒæœ‰ç¼©å°åçš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;String&gt; reduced =</span><br><span class="line">    stringCollection</span><br><span class="line">        .stream()</span><br><span class="line">        .sorted()</span><br><span class="line">        .reduce((s1, s2) -&gt; s1 + <span class="string">"#"</span> + s2);</span><br><span class="line"></span><br><span class="line">reduced.ifPresent(System.out::println);</span><br><span class="line"><span class="comment">// "aaa1##aaa2##bbb1##bbb2##bbb3##ccc##ddd1##ddd2"</span></span><br></pre></td></tr></table></figure>
<h2 id="parallel-streams"><a class="markdownIt-Anchor" href="#parallel-streams"></a> Parallel Streams</h2>
<p>å¦‚ä¸Šæ‰€è¿°ï¼Œæµå¯ä»¥æ˜¯é¡ºåºçš„ä¹Ÿå¯ä»¥æ˜¯å¹¶è¡Œçš„ã€‚é¡ºåºæµä¸Šçš„æ“ä½œåœ¨å•ä¸ªçº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œè€Œå¹¶è¡Œæµä¸Šçš„æ“ä½œåœ¨å¤šä¸ªçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œã€‚</p>
<p>ä»¥ä¸‹ç¤ºä¾‹æ¼”ç¤ºäº†é€šè¿‡ä½¿ç”¨å¹¶è¡Œæµæé«˜æ€§èƒ½æ˜¯å¤šä¹ˆå®¹æ˜“ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªè¾ƒå¤§çš„ç‹¬ç‰¹å…ƒç´ çš„åˆ—è¡¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span> max = <span class="number">1000000</span>;</span><br><span class="line">List&lt;String&gt; values = <span class="keyword">new</span> ArrayList&lt;&gt;(max);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; max; i++) &#123;</span><br><span class="line">    UUID uuid = UUID.randomUUID();</span><br><span class="line">    values.add(uuid.toString());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æˆ‘ä»¬æµ‹é‡å¯¹è¿™ä¸ªé›†åˆè¿›è¡Œæ’åºæ‰€èŠ±è´¹çš„æ—¶é—´ã€‚</p>
<h3 id="sequential-sort"><a class="markdownIt-Anchor" href="#sequential-sort"></a> Sequential Sort</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">long</span> t0 = System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> count = values.stream().sorted().count();</span><br><span class="line">System.out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> t1 = System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> millis = TimeUnit.NANOSECONDS.toMillis(t1 - t0);</span><br><span class="line">System.out.println(String.format(<span class="string">"sequential sort took: %d ms"</span>, millis));</span><br><span class="line"></span><br><span class="line"><span class="comment">// sequential sort took: 899 ms</span></span><br></pre></td></tr></table></figure>
<h3 id="parallel-sort"><a class="markdownIt-Anchor" href="#parallel-sort"></a> Parallel Sort</h3>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">long</span> t0 = System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> count = values.parallelStream().sorted().count();</span><br><span class="line">System.out.println(count);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> t1 = System.nanoTime();</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> millis = TimeUnit.NANOSECONDS.toMillis(t1 - t0);</span><br><span class="line">System.out.println(String.format(<span class="string">"parallel sort took: %d ms"</span>, millis));</span><br><span class="line"></span><br><span class="line"><span class="comment">// parallel sort took: 472 ms</span></span><br></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œä¸¤ä¸ªä»£ç æ®µå·®ä¸å¤šï¼Œä½†æ˜¯å¹¶è¡Œæ’åºå¿«äº†è¿‘ 50%ã€‚ä½ æ‰€éœ€åšçš„ä»…ä»…æ˜¯å°† <code>stream()</code> æ”¹ä¸º <code>parallelStream()</code> ã€‚</p>
<h2 id="maps"><a class="markdownIt-Anchor" href="#maps"></a> Maps</h2>
<p>å¦‚å‰æ‰€è¿°ï¼Œmap ä¸ç›´æ¥æ”¯æŒæµã€‚Map æ¥å£æœ¬èº«æ²¡æœ‰å¯ç”¨çš„ <code>stream()</code> æ–¹æ³•ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡ <code>map.keySet().stream()</code> ã€ <code>map.values().stream()</code> å’Œ <code>map.entrySet().stream()</code> åˆ›å»ºæŒ‡å®šçš„æµã€‚</p>
<p>æ­¤å¤–ï¼Œmap æ”¯æŒå„ç§æ–°çš„ã€æœ‰ç”¨çš„æ–¹æ³•æ¥å¤„ç†å¸¸è§ä»»åŠ¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map&lt;Integer, String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    map.putIfAbsent(i, <span class="string">"val"</span> + i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">map.forEach((id, val) -&gt; System.out.println(val));</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç åº”è¯¥æ˜¯è‡ªæˆ‘è§£é‡Šçš„ï¼š<code>putIfAbsent</code> é˜»æ­¢æˆ‘ä»¬å†™å…¥é¢å¤–çš„ç©ºå€¼æ£€æŸ¥ï¼›<code>forEach</code> æ¥å—æ¶ˆè´¹è€…ä¸º map çš„æ¯ä¸ªå€¼å®ç°æ“ä½œã€‚</p>
<p>è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨å‡½æ•°æ¥è®¡ç®— map ä¸Šçš„ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map.computeIfPresent(<span class="number">3</span>, (num, val) -&gt; val + num);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br><span class="line"></span><br><span class="line">map.computeIfPresent(<span class="number">9</span>, (num, val) -&gt; <span class="keyword">null</span>);</span><br><span class="line">map.containsKey(<span class="number">9</span>);     <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">map.computeIfAbsent(<span class="number">23</span>, num -&gt; <span class="string">"val"</span> + num);</span><br><span class="line">map.containsKey(<span class="number">23</span>);    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">map.computeIfAbsent(<span class="number">3</span>, num -&gt; <span class="string">"bam"</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•åˆ é™¤ç»™å®šé”®çš„æ¡ç›®ï¼Œåªæœ‰å½“å‰é”®æ˜ å°„åˆ°ç»™å®šå€¼æ—¶ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map.remove(<span class="number">3</span>, <span class="string">"val3"</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// val33</span></span><br><span class="line"></span><br><span class="line">map.remove(<span class="number">3</span>, <span class="string">"val33"</span>);</span><br><span class="line">map.get(<span class="number">3</span>);             <span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<p>å¦ä¸€ä¸ªæœ‰ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map.getOrDefault(<span class="number">42</span>, <span class="string">"not found"</span>);  <span class="comment">// not found</span></span><br></pre></td></tr></table></figure>
<p>åˆå¹¶ä¸€ä¸ª map çš„ entry å¾ˆç®€å•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">map.merge(<span class="number">9</span>, <span class="string">"val9"</span>, (value, newValue) -&gt; value.concat(newValue));</span><br><span class="line">map.get(<span class="number">9</span>);             <span class="comment">// val9</span></span><br><span class="line"></span><br><span class="line">map.merge(<span class="number">9</span>, <span class="string">"concat"</span>, (value, newValue) -&gt; value.concat(newValue));</span><br><span class="line">map.get(<span class="number">9</span>);             <span class="comment">// val9concat</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸å­˜åœ¨è¯¥é”®çš„æ¡ç›®ï¼Œåˆå¹¶æˆ–è€…å°†é”®/å€¼æ”¾å…¥ map ä¸­ï¼›å¦åˆ™å°†è°ƒç”¨åˆå¹¶å‡½æ•°æ¥æ›´æ”¹ç°æœ‰å€¼ã€‚</p>
<h2 id="date-api"><a class="markdownIt-Anchor" href="#date-api"></a> Date API</h2>
<p>Java 8 åœ¨ <code>java.time</code> åŒ…ä¸‹æ–°å¢äº†ä¸€ä¸ªå…¨æ–°çš„æ—¥æœŸå’Œæ—¶é—´ APIã€‚æ–°çš„æ—¥æœŸ API ä¸ <a href="http://www.joda.org/joda-time/" target="_blank" rel="noopener">Joda-Time</a> åº“ç›¸ä¼¼ï¼Œä½†ä¸ä¸€æ ·ã€‚ä»¥ä¸‹ç¤ºä¾‹æ¶µç›–äº†æ­¤æ–° API çš„æœ€é‡è¦éƒ¨åˆ†ã€‚</p>
<h3 id="clock"><a class="markdownIt-Anchor" href="#clock"></a> Clock</h3>
<p><code>Clock</code> æä¾›å¯¹å½“å‰æ—¥æœŸå’Œæ—¶é—´çš„è®¿é—®ã€‚<code>Clock</code> çŸ¥é“ä¸€ä¸ªæ—¶åŒºï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥ä»£æ›¿ <code>System.currentTimeMillis()</code> ï¼Œè·å–ä» <strong>Unix EPOCH</strong> å¼€å§‹çš„ä»¥æ¯«ç§’ä¸ºå•ä½çš„å½“å‰æ—¶é—´ã€‚æ—¶é—´çº¿ä¸Šçš„æŸä¸€æ—¶åˆ»ä¹Ÿç”±ç±» <code>Instant</code> è¡¨ç¤ºã€‚ Instants å¯ä»¥ç”¨æ¥åˆ›å»ºé—ç•™çš„ <code>java.util.Date</code> å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Clock clock = Clock.systemDefaultZone();</span><br><span class="line"><span class="keyword">long</span> millis = clock.millis();</span><br><span class="line"></span><br><span class="line">Instant instant = clock.instant();</span><br><span class="line">Date legacyDate = Date.from(instant);   <span class="comment">// legacy java.util.Date</span></span><br></pre></td></tr></table></figure>
<h3 id="timezones"><a class="markdownIt-Anchor" href="#timezones"></a> Timezones</h3>
<p>æ—¶åŒºç”± <code>ZoneId</code> è¡¨ç¤ºã€‚ä»–ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°é€šè¿‡é™æ€å·¥å‚æ–¹æ³•è®¿é—®ã€‚æ—¶åŒºå®šä¹‰äº†æŸä¸€æ—¶åˆ»å’Œå½“åœ°æ—¥æœŸã€æ—¶é—´ä¹‹é—´è½¬æ¢çš„é‡è¦åç§»é‡ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(ZoneId.getAvailableZoneIds());</span><br><span class="line"><span class="comment">// prints all available timezone ids</span></span><br><span class="line"></span><br><span class="line">ZoneId zone1 = ZoneId.of(<span class="string">"Europe/Berlin"</span>);</span><br><span class="line">ZoneId zone2 = ZoneId.of(<span class="string">"Brazil/East"</span>);</span><br><span class="line">System.out.println(zone1.getRules());</span><br><span class="line">System.out.println(zone2.getRules());</span><br><span class="line"></span><br><span class="line"><span class="comment">// ZoneRules[currentStandardOffset=+01:00]</span></span><br><span class="line"><span class="comment">// ZoneRules[currentStandardOffset=-03:00]</span></span><br></pre></td></tr></table></figure>
<h3 id="localtime"><a class="markdownIt-Anchor" href="#localtime"></a> LocalTime</h3>
<p><code>LocalTime</code> ä»£è¡¨æ²¡æœ‰æ—¶åŒºçš„æ—¶é—´ï¼Œä¾‹å¦‚æ™šä¸Š 10 ç‚¹æˆ– 17:30:15ã€‚ä»¥ä¸‹ç¤ºä¾‹ä¸ºä¸Šé¢å®šä¹‰çš„æ—¶åŒºåˆ›å»ºä¸¤ä¸ªæœ¬åœ°æ—¶é—´ã€‚ç„¶åæˆ‘ä»¬æ¯”è¾ƒä¸¤æ¬¡ï¼Œå¹¶è®¡ç®—ä¸¤æ¬¡ä¹‹é—´çš„å°æ—¶å’Œåˆ†é’Ÿçš„å·®å¼‚ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LocalTime now1 = LocalTime.now(zone1);</span><br><span class="line">LocalTime now2 = LocalTime.now(zone2);</span><br><span class="line"></span><br><span class="line">System.out.println(now1.isBefore(now2));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> hoursBetween = ChronoUnit.HOURS.between(now1, now2);</span><br><span class="line"><span class="keyword">long</span> minutesBetween = ChronoUnit.MINUTES.between(now1, now2);</span><br><span class="line"></span><br><span class="line">System.out.println(hoursBetween);       <span class="comment">// -3</span></span><br><span class="line">System.out.println(minutesBetween);     <span class="comment">// -239</span></span><br></pre></td></tr></table></figure>
<p><code>LocalTime</code> å¸¦æœ‰å„ç§å·¥å‚æ–¹æ³•ï¼Œä»¥ç®€åŒ–æ–°å®ä¾‹çš„åˆ›å»ºï¼ŒåŒ…æ‹¬è§£ææ—¶é—´å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LocalTime late = LocalTime.of(<span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line">System.out.println(late);       <span class="comment">// 23:59:59</span></span><br><span class="line"></span><br><span class="line">DateTimeFormatter germanFormatter =</span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .ofLocalizedTime(FormatStyle.SHORT)</span><br><span class="line">        .withLocale(Locale.GERMAN);</span><br><span class="line"></span><br><span class="line">LocalTime leetTime = LocalTime.parse(<span class="string">"13:37"</span>, germanFormatter);</span><br><span class="line">System.out.println(leetTime);   <span class="comment">// 13:37</span></span><br></pre></td></tr></table></figure>
<h3 id="localdate"><a class="markdownIt-Anchor" href="#localdate"></a> LocalDate</h3>
<p><code>LocalDate</code> è¡¨ç¤ºä¸åŒçš„æ—¥æœŸï¼Œä¾‹å¦‚ï¼š2014 å¹´ 3 æœˆ 11 æ—¥ã€‚å®ƒæ˜¯ä¸å¯å˜çš„ï¼Œå¹¶ä¸”ä¸ <code>LocalTime</code> å®Œå…¨ç±»ä¼¼ã€‚è¯¥ç¤ºä¾‹æ¼”ç¤ºå¦‚ä½•é€šè¿‡åŠ å‡æ—¥ã€æœˆæˆ–å¹´æ¥è®¡ç®—æ–°æ—¥æœŸã€‚è¯·è®°ä½ï¼Œæ¯ä¸ªæ“ä½œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹ã€‚</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">LocalDate today = <span class="module-access"><span class="module"><span class="identifier">LocalDate</span>.</span></span>now<span class="literal">()</span>;</span><br><span class="line">LocalDate tomorrow = today.plus(<span class="number">1</span>, ChronoUnit.DAYS);</span><br><span class="line">LocalDate yesterday = tomorrow.minus<span class="constructor">Days(2)</span>;</span><br><span class="line"></span><br><span class="line">LocalDate independenceDay = <span class="module-access"><span class="module"><span class="identifier">LocalDate</span>.</span></span><span class="keyword">of</span>(<span class="number">2014</span>, Month.JULY, <span class="number">4</span>);</span><br><span class="line">DayOfWeek dayOfWeek = independenceDay.get<span class="constructor">DayOfWeek()</span>;</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(dayOfWeek);    <span class="comment">// FRIDAY</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­è§£æå‡º LocalDate å¯¹è±¡ï¼Œå’Œè§£æ LocalTime ä¸€æ ·çš„ç®€å•ï¼š</p>
<figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">DateTimeFormatter germanFormatter =</span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .<span class="keyword">of</span><span class="constructor">LocalizedDate(FormatStyle.MEDIUM)</span></span><br><span class="line">        .<span class="keyword">with</span><span class="constructor">Locale(Locale.GERMAN)</span>;</span><br><span class="line"></span><br><span class="line">LocalDate xmas = <span class="module-access"><span class="module"><span class="identifier">LocalDate</span>.</span></span>parse(<span class="string">"24.12.2014"</span>, germanFormatter);</span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">System</span>.</span></span>out.println(xmas);   <span class="comment">// 2014-12-24</span></span><br></pre></td></tr></table></figure>
<h3 id="localdatetime"><a class="markdownIt-Anchor" href="#localdatetime"></a> LocalDateTime</h3>
<p>LocalDateTime è¡¨ç¤ºæ—¥æœŸæ—¶é—´ã€‚å®ƒå°†æ—¥æœŸå’Œæ—¶é—´ç»„åˆæˆä¸€ä¸ªå®ä¾‹ã€‚ <code>LocalDateTime</code> æ˜¯ä¸å¯å˜çš„ï¼Œå…¶ä½œç”¨ç±»ä¼¼äº <code>LocalTime</code> å’Œ <code>LocalDate</code>ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ–¹æ³•å»è·å–æ—¥æœŸæ—¶é—´ä¸­æŸä¸ªå•ä½çš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">LocalDateTime sylvester = LocalDateTime.of(<span class="number">2014</span>, Month.DECEMBER, <span class="number">31</span>, <span class="number">23</span>, <span class="number">59</span>, <span class="number">59</span>);</span><br><span class="line"></span><br><span class="line">DayOfWeek dayOfWeek = sylvester.getDayOfWeek();</span><br><span class="line">System.out.println(dayOfWeek);      <span class="comment">// WEDNESDAY</span></span><br><span class="line"></span><br><span class="line">Month month = sylvester.getMonth();</span><br><span class="line">System.out.println(month);          <span class="comment">// DECEMBER</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> minuteOfDay = sylvester.getLong(ChronoField.MINUTE_OF_DAY);</span><br><span class="line">System.out.println(minuteOfDay);    <span class="comment">// 1439</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸€ä¸ªæ—¶åŒºçš„é™„åŠ ä¿¡æ¯å¯ä»¥è½¬ä¸ºä¸€ä¸ªå®ä¾‹ã€‚è¿™ä¸ªå®ä¾‹å¾ˆå®¹æ˜“è½¬ä¸º<code>java.util.Date</code> ç±»å‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Instant instant = sylvester</span><br><span class="line">        .atZone(ZoneId.systemDefault())</span><br><span class="line">        .toInstant();</span><br><span class="line"></span><br><span class="line">Date legacyDate = Date.from(instant);</span><br><span class="line">System.out.println(legacyDate);     <span class="comment">// Wed Dec 31 23:59:59 CET 2014</span></span><br></pre></td></tr></table></figure>
<p>æ—¥æœŸæ—¶é—´çš„æ ¼å¼åŒ–ç±»ä¼¼äº Date æˆ– Timeã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰æ¨¡å¼åˆ›å»ºæ ¼å¼åŒ–ç¨‹åºï¼Œè€Œä¸æ˜¯ä½¿ç”¨é¢„å®šä¹‰çš„æ ¼å¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">DateTimeFormatter formatter =</span><br><span class="line">    DateTimeFormatter</span><br><span class="line">        .ofPattern(<span class="string">"MMM dd, yyyy - HH:mm"</span>);</span><br><span class="line"></span><br><span class="line">LocalDateTime parsed = LocalDateTime.parse(<span class="string">"Nov 03, 2014 - 07:13"</span>, formatter);</span><br><span class="line">String string = formatter.format(parsed);</span><br><span class="line">System.out.println(string);     <span class="comment">// Nov 03, 2014 - 07:13</span></span><br></pre></td></tr></table></figure>
<p>ä¸åŒäº <code>java.text.NumberFormat</code> ï¼Œ <code>DateTimeFormatter</code> æ˜¯ä¸å¯å˜ä¸”<strong>çº¿ç¨‹å®‰å…¨çš„</strong> ã€‚</p>
<p>æ›´å¤šå…³äºæ—¥æœŸæ ¼å¼åŒ–çš„å†…å®¹å¯ä»¥å‚è€ƒ<a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html" target="_blank" rel="noopener">è¿™é‡Œ</a>.</p>
<h2 id="annotations"><a class="markdownIt-Anchor" href="#annotations"></a> Annotations</h2>
<p>Java 8 ä¸­çš„æ³¨é‡Šæ˜¯å¯é‡å¤çš„ã€‚è®©æˆ‘ä»¬ç›´æ¥çœ‹ä¸€ä¸ªä¾‹å­æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåŒ…å«å®é™…æ³¨é‡Šæ•°ç»„çš„å¤–å±‚æ³¨é‡Šï¼š</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">@<span class="keyword">interface</span> Hints &#123;</span><br><span class="line">    <span class="selector-tag">Hint</span><span class="selector-attr">[]</span> <span class="selector-tag">value</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">Repeatable</span>(<span class="keyword">Hints</span>.<span class="keyword">class</span>)</span><br><span class="line">@<span class="keyword">interface</span> Hint &#123;</span><br><span class="line">    <span class="selector-tag">String</span> <span class="selector-tag">value</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Java8 å…è®¸æˆ‘ä»¬é€šè¿‡ä½¿ç”¨ <code>@Repeatable</code> æ³¨è§£æ¥å¼•å…¥å¤šä¸ªåŒç±»å‹çš„æ³¨è§£ã€‚</p>
<h3 id="variant-1-ä½¿ç”¨å®¹å™¨æ³¨è§£-è€å¥—è·¯"><a class="markdownIt-Anchor" href="#variant-1-ä½¿ç”¨å®¹å™¨æ³¨è§£-è€å¥—è·¯"></a> Variant 1: ä½¿ç”¨å®¹å™¨æ³¨è§£ (è€å¥—è·¯)</h3>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Hints</span>(&#123;<span class="variable">@Hint</span>(<span class="string">"hint1"</span>), <span class="variable">@Hint</span>(<span class="string">"hint2"</span>)&#125;)</span><br><span class="line">class Person &#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="variant-2-ä½¿ç”¨-repeatable-æ³¨è§£-æ–°å¥—è·¯"><a class="markdownIt-Anchor" href="#variant-2-ä½¿ç”¨-repeatable-æ³¨è§£-æ–°å¥—è·¯"></a> Variant 2: ä½¿ç”¨ repeatable æ³¨è§£ (æ–°å¥—è·¯)</h3>
<figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="variable">@Hint</span>(<span class="string">"hint1"</span>)</span><br><span class="line"><span class="variable">@Hint</span>(<span class="string">"hint2"</span>)</span><br><span class="line">class Person &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨åœºæ™¯ 2ï¼ŒJava ç¼–è¯‘å™¨éšå¼åœ°è®¾ç½®äº† <code>@Hints</code> æ³¨è§£ã€‚</p>
<p>è¿™å¯¹äºé€šè¿‡åå°„æ¥è¯»å–æ³¨è§£ä¿¡æ¯å¾ˆé‡è¦ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Hint hint = Person.class.getAnnotation(Hint.class);</span><br><span class="line">System.out.println(hint);                   <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">Hints hints1 = Person.class.getAnnotation(Hints.class);</span><br><span class="line">System.out.println(hints1.value().length);  <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">Hint[] hints2 = Person.class.getAnnotationsByType(Hint.class);</span><br><span class="line">System.out.println(hints2.length);          <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>å°½ç®¡ï¼Œæˆ‘é—¨ä»æ²¡æœ‰åœ¨ Person ç±»ä¸Šå£°æ˜ <code>@Hints</code> æ³¨è§£ï¼Œä½†æ˜¯ä»å¯ä»¥é€šè¿‡<code>getAnnotation(Hints.class)</code> è¯»å–å®ƒã€‚ç„¶è€Œï¼Œæ›´ä¾¿åˆ©çš„æ–¹å¼æ˜¯ <code>getAnnotationsByType</code> ï¼Œå®ƒå¯ä»¥ç›´æ¥è®¿é—®æ‰€æœ‰ <code>@Hint</code> æ³¨è§£ã€‚</p>
<p>æ­¤å¤–ï¼ŒJava 8 ä¸­çš„æ³¨é‡Šä½¿ç”¨æ‰©å±•äº†ä¸¤ä¸ªæ–°çš„ç›®æ ‡ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Target</span>(&#123;ElementType.TYPE_PARAMETER, ElementType.TYPE_USE&#125;)</span><br><span class="line"><span class="meta">@interface</span> MyAnnotation &#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="jdk8-å‡çº§å¸¸è§é—®é¢˜"><a class="markdownIt-Anchor" href="#jdk8-å‡çº§å¸¸è§é—®é¢˜"></a> JDK8 å‡çº§å¸¸è§é—®é¢˜</h2>
<blockquote>
<p>JDK8 å‘å¸ƒå¾ˆä¹…äº†ï¼Œå®ƒæä¾›äº†è®¸å¤šå¸å¼•äººçš„æ–°ç‰¹æ€§ï¼Œèƒ½å¤Ÿæé«˜ç¼–ç¨‹æ•ˆç‡ã€‚</p>
<p>å¦‚æœæ˜¯æ–°çš„é¡¹ç›®ï¼Œä½¿ç”¨ JDK8 å½“ç„¶æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸€äº›è€çš„é¡¹ç›®ï¼Œå‡çº§åˆ° JDK8 åˆ™å­˜åœ¨ä¸€äº›å…¼å®¹æ€§é—®é¢˜ï¼Œæ˜¯å¦å‡çº§éœ€è¦é…Œæƒ…è€ƒè™‘ã€‚</p>
<p>è¿‘æœŸï¼Œæˆ‘åœ¨å·¥ä½œä¸­é‡åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œå°†éƒ¨é—¨æ‰€æœ‰é¡¹ç›®çš„ JDK ç‰ˆæœ¬å‡çº§åˆ° 1.8 ï¼ˆè€ç‰ˆæœ¬å¤§å¤šæ˜¯ 1.6ï¼‰ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œé‡åˆ°ä¸€äº›é—®é¢˜ç‚¹ï¼Œå¹¶ç»“åˆåœ¨ç½‘ä¸Šçœ‹åˆ°çš„å‘ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€ä¸‹ã€‚</p>
</blockquote>
<h3 id="intellij-ä¸­çš„-jdk-ç¯å¢ƒè®¾ç½®"><a class="markdownIt-Anchor" href="#intellij-ä¸­çš„-jdk-ç¯å¢ƒè®¾ç½®"></a> Intellij ä¸­çš„ JDK ç¯å¢ƒè®¾ç½®</h3>
<h4 id="settings"><a class="markdownIt-Anchor" href="#settings"></a> Settings</h4>
<p>ç‚¹å‡» <strong>File &gt; Settings &gt; Java Compiler</strong></p>
<p>Project bytecode version é€‰æ‹© 1.8</p>
<p>ç‚¹å‡» <strong>File &gt; Settings &gt; Build Tools &gt; Maven &gt; Importing</strong></p>
<p>é€‰æ‹© JDK for importer ä¸º 1.8</p>
<h4 id="projcet-settings"><a class="markdownIt-Anchor" href="#projcet-settings"></a> Projcet Settings</h4>
<p><strong>Project SDK</strong> é€‰æ‹© 1.8</p>
<h4 id="application"><a class="markdownIt-Anchor" href="#application"></a> Application</h4>
<p>å¦‚æœ web åº”ç”¨çš„å¯åŠ¨æ–¹å¼ä¸º Application ï¼Œéœ€è¦ä¿®æ”¹ JRE</p>
<p>ç‚¹å‡» <strong>Run/Debug Configurations &gt; Configuration</strong></p>
<p>é€‰æ‹© JRE ä¸º 1.8</p>
<h3 id="linux-ç¯å¢ƒä¿®æ”¹"><a class="markdownIt-Anchor" href="#linux-ç¯å¢ƒä¿®æ”¹"></a> Linux ç¯å¢ƒä¿®æ”¹</h3>
<h4 id="ä¿®æ”¹ç¯å¢ƒå˜é‡"><a class="markdownIt-Anchor" href="#ä¿®æ”¹ç¯å¢ƒå˜é‡"></a> ä¿®æ”¹ç¯å¢ƒå˜é‡</h4>
<p>ä¿®æ”¹ <code>/etc/profile</code> ä¸­çš„ <strong>JAVA_HOME</strong>ï¼Œè®¾ç½® ä¸º jdk8 æ‰€åœ¨è·¯å¾„ã€‚</p>
<p>ä¿®æ”¹åï¼Œæ‰§è¡Œ <code>source /etc/profile</code> ç”Ÿæ•ˆã€‚</p>
<p>ç¼–è¯‘ã€å‘å¸ƒè„šæœ¬ä¸­å¦‚æœæœ‰ <code>export JAVA_HOME</code> ï¼Œéœ€è¦æ³¨æ„ï¼Œéœ€è¦ä½¿ç”¨ jdk8 çš„è·¯å¾„ã€‚</p>
<h4 id="ä¿®æ”¹-maven"><a class="markdownIt-Anchor" href="#ä¿®æ”¹-maven"></a> ä¿®æ”¹ maven</h4>
<p>settings.xml ä¸­ profile çš„æ¿€æ´»æ¡ä»¶å¦‚æœæ˜¯ jdkï¼Œéœ€è¦ä¿®æ”¹ä¸€ä¸‹ jdk ç‰ˆæœ¬</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">activation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">jdk</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">jdk</span>&gt;</span> <span class="comment">&lt;!-- ä¿®æ”¹ä¸º 1.8 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">activation</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="ä¿®æ”¹-server"><a class="markdownIt-Anchor" href="#ä¿®æ”¹-server"></a> ä¿®æ”¹ server</h4>
<p>ä¿®æ”¹ server ä¸­çš„ javac ç‰ˆæœ¬ï¼Œä»¥ resin ä¸ºä¾‹ï¼š</p>
<p>ä¿®æ”¹ resin é…ç½®æ–‡ä»¶ä¸­çš„ javac å‚æ•°ã€‚</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">javac</span> <span class="attr">compiler</span>=<span class="string">"internal"</span> <span class="attr">args</span>=<span class="string">"-source 1.8"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="sun-åŒ…ç¼ºå¤±é—®é¢˜"><a class="markdownIt-Anchor" href="#sun-åŒ…ç¼ºå¤±é—®é¢˜"></a> sun.* åŒ…ç¼ºå¤±é—®é¢˜</h3>
<p>JDK8 ä¸å†æä¾› <code>sun.*</code> åŒ…ä¾›å¼€å‘è€…ä½¿ç”¨ï¼Œå› ä¸ºè¿™äº›æ¥å£ä¸æ˜¯å…¬å…±æ¥å£ï¼Œä¸èƒ½ä¿è¯åœ¨æ‰€æœ‰ Java å…¼å®¹çš„å¹³å°ä¸Šå·¥ä½œã€‚</p>
<p>ä½¿ç”¨äº†è¿™äº› API çš„ç¨‹åºå¦‚æœè¦å‡çº§åˆ° JDK 1.8 éœ€è¦å¯»æ±‚æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<p>è™½ç„¶ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å¯¼å…¥åŒ…å« <code>sun.*</code> æ¥å£ jar åŒ…åˆ° classpath ç›®å½•ï¼Œä½†è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ã€‚</p>
<p>éœ€è¦è¯¦ç»†äº†è§£ä¸ºä»€ä¹ˆä¸è¦ä½¿ç”¨ <code>sun.*</code> ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š<a href="http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html" target="_blank" rel="noopener">Why Developers Should Not Write Programs That Call â€˜sunâ€™ Packages</a></p>
<h3 id="é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹"><a class="markdownIt-Anchor" href="#é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹"></a> é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹</h3>
<p>å‡çº§åä¼°è®¡æœ‰äº›å°ä¼™ä¼´åœ¨ä½¿ç”¨ä¸å®‰å…¨ç®—æ³•æ—¶å¯èƒ½ä¼šå‘ç”Ÿé”™è¯¯ï¼Œsoï¼Œæ”¯æŒä¸å®‰å…¨ç®—æ³•è¿˜æ˜¯æœ‰å¿…è¦çš„</p>
<p>æ‰¾åˆ°$JAVA_HOME ä¸‹ <code>jre/lib/security/java.security</code> ï¼Œå°†ç¦ç”¨çš„ç®—æ³•è®¾ç½®ä¸ºç©ºï¼š<code>jdk.certpath.disabledAlgorithms=</code> ã€‚</p>
<h3 id="jvm-å‚æ•°è°ƒæ•´"><a class="markdownIt-Anchor" href="#jvm-å‚æ•°è°ƒæ•´"></a> JVM å‚æ•°è°ƒæ•´</h3>
<p>åœ¨ jdk8 ä¸­ï¼ŒPermSize ç›¸å…³çš„å‚æ•°å·²ç»ä¸è¢«ä½¿ç”¨ï¼š</p>
<figure class="highlight livecodeserver"><table><tr><td class="code"><pre><span class="line">-XX:MaxPermSize=size</span><br><span class="line"></span><br><span class="line">Sets <span class="keyword">the</span> maximum permanent generation <span class="literal">space</span> size (<span class="keyword">in</span> <span class="keyword">bytes</span>). This option was deprecated <span class="keyword">in</span> JDK <span class="number">8</span>, <span class="keyword">and</span> superseded <span class="keyword">by</span> <span class="keyword">the</span> -XX:MaxMetaspaceSize option.</span><br><span class="line"></span><br><span class="line">-XX:PermSize=size</span><br><span class="line"></span><br><span class="line">Sets <span class="keyword">the</span> <span class="literal">space</span> (<span class="keyword">in</span> <span class="keyword">bytes</span>) allocated <span class="built_in">to</span> <span class="keyword">the</span> permanent generation that triggers <span class="keyword">a</span> garbage collection <span class="keyword">if</span> <span class="keyword">it</span> is exceeded. This option was deprecated un JDK <span class="number">8</span>, <span class="keyword">and</span> superseded <span class="keyword">by</span> <span class="keyword">the</span> -XX:MetaspaceSize option.</span><br></pre></td></tr></table></figure>
<p>JDK8 ä¸­å†ä¹Ÿæ²¡æœ‰ <code>PermGen</code> äº†ã€‚å…¶ä¸­çš„æŸäº›éƒ¨åˆ†ï¼Œå¦‚è¢« intern çš„å­—ç¬¦ä¸²ï¼Œåœ¨ JDK7 ä¸­å·²ç»ç§»åˆ°äº†æ™®é€šå †é‡Œã€‚<strong>å…¶ä½™ç»“æ„åœ¨ JDK8 ä¸­ä¼šè¢«ç§»åˆ°ç§°ä½œâ€œMetaspaceâ€çš„æœ¬æœºå†…å­˜åŒºä¸­ï¼Œè¯¥åŒºåŸŸåœ¨é»˜è®¤æƒ…å†µä¸‹ä¼šè‡ªåŠ¨ç”Ÿé•¿ï¼Œä¹Ÿä¼šè¢«åƒåœ¾å›æ”¶ã€‚å®ƒæœ‰ä¸¤ä¸ªæ ‡è®°ï¼šMetaspaceSize å’Œ MaxMetaspaceSizeã€‚</strong></p>
<p>-XX:MetaspaceSize=size</p>
<blockquote>
<p>Sets the size of the allocated class metadata space that will trigger a garbage collection the first time it is exceeded. This threshold for a garbage collection is increased or decreased depending on the amount of metadata used. The default size depends on the platform.</p>
</blockquote>
<p>-XX:MaxMetaspaceSize=size</p>
<blockquote>
<p>Sets the maximum amount of native memory that can be allocated for class metadata. By default, the size is not limited. The amount of metadata for an application depends on the application itself, other running applications, and the amount of memory available on the system.</p>
</blockquote>
<p>ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºå¦‚ä½•å°†ç±»ç±»å…ƒæ•°æ®çš„ä¸Šé™è®¾ç½®ä¸º 256 MBï¼š</p>
<p>XX:MaxMetaspaceSize=256m</p>
<h3 id="å­—èŠ‚ç é—®é¢˜"><a class="markdownIt-Anchor" href="#å­—èŠ‚ç é—®é¢˜"></a> å­—èŠ‚ç é—®é¢˜</h3>
<p>ASM 5.0 beta å¼€å§‹æ”¯æŒ JDK8</p>
<p><strong>å­—èŠ‚ç é”™è¯¯</strong></p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">Caused by: java<span class="selector-class">.io</span><span class="selector-class">.IOException</span>: invalid constant type: <span class="number">15</span></span><br><span class="line">	at javassist<span class="selector-class">.bytecode</span><span class="selector-class">.ConstPool</span><span class="selector-class">.readOne</span>(ConstPool<span class="selector-class">.java</span>:<span class="number">1113</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>æŸ¥æ‰¾ç»„ä»¶ç”¨åˆ°äº† mvelï¼Œmvel ä¸ºäº†æé«˜æ•ˆç‡è¿›è¡Œäº†å­—èŠ‚ç ä¼˜åŒ–ï¼Œæ­£å¥½ç¢°ä¸Š JDK8 æ­»ç©´ï¼Œæ‰€ä»¥éœ€è¦å‡çº§ã€‚</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mvel<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mvel2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.7.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>javassist</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.javassist<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javassist<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.18.1-GA<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>æœ‰äº›éƒ¨ç½²å·¥å…·ä¸ä¼šåˆ é™¤æ—§ç‰ˆæœ¬ jar åŒ…ï¼Œæ‰€ä»¥å¯ä»¥å°è¯•æ‰‹åŠ¨åˆ é™¤è€ç‰ˆæœ¬ jar åŒ…ã€‚</p>
</blockquote>
<p><a href="http://asm.ow2.org/history.html" target="_blank" rel="noopener">http://asm.ow2.org/history.html</a></p>
<h3 id="java-è¿æ¥-redis-å¯åŠ¨æŠ¥é”™-error-redis-clients-jedis-hostandport-cant-resolve-localhost-address"><a class="markdownIt-Anchor" href="#java-è¿æ¥-redis-å¯åŠ¨æŠ¥é”™-error-redis-clients-jedis-hostandport-cant-resolve-localhost-address"></a> Java è¿æ¥ redis å¯åŠ¨æŠ¥é”™ Error redis clients jedis HostAndPort cant resolve localhost address</h3>
<p>é”™è¯¯ç¯å¢ƒ:<br>
æœ¬åœ° window å¼€å‘ç¯å¢ƒæ²¡æœ‰é—®é¢˜ã€‚ä¸Šåˆ° Linux ç¯å¢ƒ,å¯åŠ¨å‡ºç°é—®é¢˜ã€‚<br>
é”™è¯¯ä¿¡æ¯:<br>
Error redis clients jedis HostAndPort cant resolve localhost address</p>
<p>è§£å†³åŠæ³•:</p>
<ol>
<li>æŸ¥çœ‹ Linux ç³»ç»Ÿçš„ä¸»æœºå</li>
</ol>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta"># hostname</span></span><br><span class="line"><span class="keyword">template</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>æŸ¥çœ‹/etc/hosts æ–‡ä»¶ä¸­æ˜¯å¦æœ‰ 127.0.0.1 å¯¹åº”ä¸»æœºåï¼Œå¦‚æœæ²¡æœ‰åˆ™æ·»åŠ </li>
</ol>
<h3 id="resin-å®¹å™¨æŒ‡å®š-jdk-18"><a class="markdownIt-Anchor" href="#resin-å®¹å™¨æŒ‡å®š-jdk-18"></a> Resin å®¹å™¨æŒ‡å®š JDK 1.8</h3>
<p>å¦‚æœ resin å®¹å™¨åŸæ¥ç‰ˆæœ¬ä½äº JDK1.8ï¼Œè¿è¡Œ JDK 1.8 ç¼–è¯‘çš„ web app æ—¶ï¼Œå¯èƒ½ä¼šæç¤ºé”™è¯¯ï¼š</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">java<span class="selector-class">.lang</span><span class="selector-class">.UnsupportedClassVersionError</span>: PR/Sort : Unsupported major<span class="selector-class">.minor</span> version <span class="number">52.0</span></span><br></pre></td></tr></table></figure>
<p>è§£å†³æ–¹æ³•å°±æ˜¯ï¼Œä½¿ç”¨ JDK 1.8 è¦é‡æ–°ç¼–è¯‘ä¸€ä¸‹ã€‚ç„¶åï¼Œæˆ‘åœ¨éƒ¨ç½²æ—¶å‡ºç°è¿‡ç¼–è¯‘åä»æŠ¥é”™çš„æƒ…å†µï¼Œé‡å¯ä¸€ä¸‹æœåŠ¡å™¨åï¼Œé—®é¢˜è§£å†³ï¼Œä¸çŸ¥æ˜¯ä»€ä¹ˆåŸå› ã€‚</p>
<figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line">./configure --prefix=/usr/<span class="keyword">local</span>/resin  --with-java=/usr/<span class="keyword">local</span>/jdk1<span class="number">.8</span><span class="number">.0</span>_121</span><br><span class="line"><span class="built_in">make</span> &amp; <span class="built_in">make</span> install</span><br></pre></td></tr></table></figure>
<h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2>
<ul>
<li><a href="https://github.com/winterbe/java8-tutorial" target="_blank" rel="noopener">java8-tutorial</a></li>
<li><a href="http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html" target="_blank" rel="noopener">Compatibility Guide for JDK 8</a></li>
<li><a href="https://yq.aliyun.com/articles/236" target="_blank" rel="noopener">Compatibility Guide for JDK 8 ä¸­æ–‡ç¿»è¯‘</a></li>
<li><a href="http://www.oracle.com/technetwork/java/faq-sun-packages-142232.html" target="_blank" rel="noopener">Why Developers Should Not Write Programs That Call â€˜sunâ€™ Packages</a></li>
</ul>

      
    </div>

    
      


    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/blog/tags/programming/" rel="tag"># programming</a>
          
            <a href="/blog/tags/java/" rel="tag"># java</a>
          
            <a href="/blog/tags/javacore/" rel="tag"># javacore</a>
          
            <a href="/blog/tags/jdk8/" rel="tag"># jdk8</a>
          
            <a href="/blog/tags/encode/" rel="tag"># encode</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/blog/2017/11/09/programming/java/javalib/lombok/" rel="next" title="Lombok ä½¿ç”¨å°ç»“">
                <i class="fa fa-chevron-left"></i> Lombok ä½¿ç”¨å°ç»“
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/blog/2017/11/17/os/linux/tool/vim/" rel="prev" title="Vim å¿«é€ŸæŒ‡å—">
                Vim å¿«é€ŸæŒ‡å— <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/blog/images/avatar.gif" alt="Zhang Peng">
            
              <p class="site-author-name" itemprop="name">Zhang Peng</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/blog/archives/">
                
                    <span class="site-state-item-count">332</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/blog/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">31</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/blog/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">137</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/blog/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="https://github.com/dunwu" title="GitHub &rarr; https://github.com/dunwu" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:forbreak@163.com" title="E-Mail &rarr; mailto:forbreak@163.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          
             <div class="cc-license motion-element" itemprop="license">
              
              
                
              
              
              
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/blog/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
             </div>
          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#jdk8-å¿«é€ŸæŒ‡å—"><span class="nav-text"> JDK8 å¿«é€ŸæŒ‡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#default-methods-for-interfacesæ¥å£çš„é»˜è®¤æ–¹æ³•"><span class="nav-text"> Default Methods for Interfaces(æ¥å£çš„é»˜è®¤æ–¹æ³•)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lambda-expressionslambda-è¡¨è¾¾å¼"><span class="nav-text"> Lambda expressions(Lambda è¡¨è¾¾å¼)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#functional-interfaceså‡½æ•°æ¥å£"><span class="nav-text"> Functional Interfaces(å‡½æ•°æ¥å£)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#method-and-constructor-referencesæ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨"><span class="nav-text"> Method and Constructor References(æ–¹æ³•å’Œæ„é€ å™¨å¼•ç”¨)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#lambda-scopeslambda-ä½œç”¨åŸŸ"><span class="nav-text"> Lambda Scopes(Lambda ä½œç”¨åŸŸ)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#accessing-local-variablesè®¿é—®æœ¬åœ°å˜é‡"><span class="nav-text"> Accessing local variables(è®¿é—®æœ¬åœ°å˜é‡)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#accessing-fields-and-static-variablesè®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡"><span class="nav-text"> Accessing fields and static variables(è®¿é—®æˆå‘˜å˜é‡å’Œé™æ€å˜é‡)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#accessing-default-interface-methodsè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•"><span class="nav-text"> Accessing Default Interface Methodsï¼ˆè®¿é—®é»˜è®¤çš„æ¥å£æ–¹æ³•ï¼‰</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#built-in-functional-interfaceså†…ç½®å‡½æ•°æ¥å£"><span class="nav-text"> Built-in Functional Interfaces(å†…ç½®å‡½æ•°æ¥å£)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#predicates"><span class="nav-text"> Predicates</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#functions"><span class="nav-text"> Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#suppliers"><span class="nav-text"> Suppliers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#consumers"><span class="nav-text"> Consumers</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#comparators"><span class="nav-text"> Comparators</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#optionals"><span class="nav-text"> Optionals</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#streams"><span class="nav-text"> Streams</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#filter"><span class="nav-text"> Filter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sorted"><span class="nav-text"> Sorted</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#map"><span class="nav-text"> Map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#match"><span class="nav-text"> Match</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#count"><span class="nav-text"> Count</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#reduce"><span class="nav-text"> Reduce</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#parallel-streams"><span class="nav-text"> Parallel Streams</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#sequential-sort"><span class="nav-text"> Sequential Sort</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#parallel-sort"><span class="nav-text"> Parallel Sort</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#maps"><span class="nav-text"> Maps</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#date-api"><span class="nav-text"> Date API</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#clock"><span class="nav-text"> Clock</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#timezones"><span class="nav-text"> Timezones</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#localtime"><span class="nav-text"> LocalTime</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#localdate"><span class="nav-text"> LocalDate</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#localdatetime"><span class="nav-text"> LocalDateTime</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#annotations"><span class="nav-text"> Annotations</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#variant-1-ä½¿ç”¨å®¹å™¨æ³¨è§£-è€å¥—è·¯"><span class="nav-text"> Variant 1: ä½¿ç”¨å®¹å™¨æ³¨è§£ (è€å¥—è·¯)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#variant-2-ä½¿ç”¨-repeatable-æ³¨è§£-æ–°å¥—è·¯"><span class="nav-text"> Variant 2: ä½¿ç”¨ repeatable æ³¨è§£ (æ–°å¥—è·¯)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jdk8-å‡çº§å¸¸è§é—®é¢˜"><span class="nav-text"> JDK8 å‡çº§å¸¸è§é—®é¢˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#intellij-ä¸­çš„-jdk-ç¯å¢ƒè®¾ç½®"><span class="nav-text"> Intellij ä¸­çš„ JDK ç¯å¢ƒè®¾ç½®</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#settings"><span class="nav-text"> Settings</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#projcet-settings"><span class="nav-text"> Projcet Settings</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#application"><span class="nav-text"> Application</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#linux-ç¯å¢ƒä¿®æ”¹"><span class="nav-text"> Linux ç¯å¢ƒä¿®æ”¹</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¿®æ”¹ç¯å¢ƒå˜é‡"><span class="nav-text"> ä¿®æ”¹ç¯å¢ƒå˜é‡</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¿®æ”¹-maven"><span class="nav-text"> ä¿®æ”¹ maven</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä¿®æ”¹-server"><span class="nav-text"> ä¿®æ”¹ server</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sun-åŒ…ç¼ºå¤±é—®é¢˜"><span class="nav-text"> sun.* åŒ…ç¼ºå¤±é—®é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹"><span class="nav-text"> é»˜è®¤å®‰å…¨ç­–ç•¥ä¿®æ”¹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#jvm-å‚æ•°è°ƒæ•´"><span class="nav-text"> JVM å‚æ•°è°ƒæ•´</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å­—èŠ‚ç é—®é¢˜"><span class="nav-text"> å­—èŠ‚ç é—®é¢˜</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#java-è¿æ¥-redis-å¯åŠ¨æŠ¥é”™-error-redis-clients-jedis-hostandport-cant-resolve-localhost-address"><span class="nav-text"> Java è¿æ¥ redis å¯åŠ¨æŠ¥é”™ Error redis clients jedis HostAndPort cant resolve localhost address</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#resin-å®¹å™¨æŒ‡å®š-jdk-18"><span class="nav-text"> Resin å®¹å™¨æŒ‡å®š JDK 1.8</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‚è€ƒèµ„æ–™"><span class="nav-text"> å‚è€ƒèµ„æ–™</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 â€“ <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-paper-plane"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zhang Peng</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="ç«™ç‚¹æ€»å­—æ•°">2.1m</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="ç«™ç‚¹é˜…è¯»æ—¶é•¿">31:07</span>
  
</div>









        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
      
    
  
  <script color="107,97,95" opacity="0.5" zindex="-1" count="99" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@1.0.0/canvas-nest.min.js"></script>











  



  
  <script src="/blog/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/blog/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/blog/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-reading-progress@1/reading_progress.min.js"></script>


  


  <script src="/blog/js/src/utils.js?v=7.0.1"></script>

  <script src="/blog/js/src/motion.js?v=7.0.1"></script>



  
  


  <script src="/blog/js/src/schemes/muse.js?v=7.0.1"></script>



  
  <script src="/blog/js/src/scrollspy.js?v=7.0.1"></script>
<script src="/blog/js/src/post-details.js?v=7.0.1"></script>



  


  <script src="/blog/js/src/bootstrap.js?v=7.0.1"></script>


  
  


  


  




  

  

  

  

  

  

  

  

  

  

  

  
  
  
    
  
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-bookmark@1/bookmark.min.js"></script>
  <script>
  
    bookmark.scrollToMark('auto', "#æ›´å¤š");
  
  </script>


  

</body>
</html>
