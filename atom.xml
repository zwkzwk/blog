<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é™é»˜è™šç©ºçš„åšå®¢</title>
  
  <subtitle>å¤§é“è‡³ç®€ï¼ŒçŸ¥æ˜“è¡Œéš¾</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://dunwu.github.io/"/>
  <updated>2019-03-26T15:47:31.896Z</updated>
  <id>https://dunwu.github.io/</id>
  
  <author>
    <name>Zhang Peng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ç¨‹åºå‘˜ç©è½¬ Windows</title>
    <link href="https://dunwu.github.io/2019/03/22/os/windows/"/>
    <id>https://dunwu.github.io/2019/03/22/os/windows/</id>
    <published>2019-03-22T07:53:00.000Z</published>
    <updated>2019-03-26T15:47:31.896Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç¨‹åºå‘˜ç©è½¬-windows"><a class="markdownIt-Anchor" href="#ç¨‹åºå‘˜ç©è½¬-windows"></a> ç¨‹åºå‘˜ç©è½¬ Windows</h1><!-- TOC depthFrom:2 depthTo:3 --><ul><li><a href="#%E8%BD%AF%E4%BB%B6">è½¯ä»¶</a><ul><li><a href="#%E8%A7%86%E9%A2%91%E9%9F%B3%E9%A2%91">è§†é¢‘éŸ³é¢‘</a></li><li><a href="#%E5%8E%8B%E7%BC%A9">å‹ç¼©</a></li><li><a href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86">æ–‡ä»¶ç®¡ç†</a></li><li><a href="#%E5%BC%80%E5%8F%91">å¼€å‘</a></li><li><a href="#%E7%BC%96%E8%BE%91%E5%99%A8">ç¼–è¾‘å™¨</a></li><li><a href="#%E6%96%87%E6%A1%A3">æ–‡æ¡£</a></li><li><a href="#%E6%95%88%E7%8E%87%E6%8F%90%E5%8D%87">æ•ˆç‡æå‡</a></li><li><a href="#%E5%8A%9E%E5%85%AC">åŠå…¬</a></li><li><a href="#%E4%B8%AA%E6%80%A7%E5%8C%96">ä¸ªæ€§åŒ–</a></li></ul></li><li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li></ul><!-- /TOC --><h2 id="è½¯ä»¶"><a class="markdownIt-Anchor" href="#è½¯ä»¶"></a> è½¯ä»¶</h2><blockquote><p>æ‰©å±•é˜…è¯»ï¼š</p><ul><li><a href="https://github.com/Awesome-Windows/Awesome/blob/master/README-cn.md" target="_blank" rel="noopener">Awesome Windows</a></li><li><a href="https://github.com/stackia/best-windows-apps" target="_blank" rel="noopener">best-windows-apps</a></li></ul></blockquote><h3 id="è§†é¢‘éŸ³é¢‘"><a class="markdownIt-Anchor" href="#è§†é¢‘éŸ³é¢‘"></a> è§†é¢‘éŸ³é¢‘</h3><ul><li><a href="http://getmusicbee.com/" target="_blank" rel="noopener">Musicbee</a> - ç±»ä¼¼ iTunesï¼Œä½†æ¯” iTunes æ›´å¥½ç”¨ã€‚</li><li><a href="http://www.screentogif.com/" target="_blank" rel="noopener">ScreenToGif</a> - å®ƒå…è®¸ä½ å½•åˆ¶å±å¹•çš„ä¸€éƒ¨åˆ†åŒºåŸŸå¹¶ä¿å­˜ä¸º gif æˆ–è§†é¢‘ã€‚</li><li><a href="http://potplayer.daum.net/" target="_blank" rel="noopener">PotPlayer</a> - å¤šåª’ä½“æ’­æ”¾å™¨ï¼Œå…·æœ‰å¹¿æ³›çš„ç¼–è§£ç å™¨é›†åˆï¼Œå®ƒè¿˜ä¸ºç”¨æˆ·æä¾›å¤§é‡é…ç½®é€‰é¡¹ã€‚</li><li><a href="http://www.splayer.org/" target="_blank" rel="noopener">å°„æ‰‹å½±éŸ³æ’­æ”¾å™¨</a> - æ¥è‡ªå°„æ‰‹ç½‘ï¼Œå°å·§å¼€æºï¼Œé¦–åˆ›è‡ªåŠ¨åŒ¹é…å­—å¹•åŠŸèƒ½ã€‚</li></ul><h3 id="å‹ç¼©"><a class="markdownIt-Anchor" href="#å‹ç¼©"></a> å‹ç¼©</h3><ul><li><a href="http://www.7-zip.org/" target="_blank" rel="noopener">7-Zip</a> - ç”¨äºå¤„ç†å‹ç¼©åŒ…çš„å¼€æº Windows å®ç”¨ç¨‹åºã€‚å®Œç¾æ”¯æŒ 7zï¼ŒZIPï¼ŒGZIPï¼ŒBZIP2 å’Œ TAR çš„å…¨éƒ¨ç‰¹æ€§ï¼Œå…¶ä»–æ ¼å¼ä¹Ÿå¯è§£å‹ç¼©ã€‚</li><li><a href="http://www.rarlab.com/" target="_blank" rel="noopener">WinRAR</a> - å¼ºå¤§çš„å½’æ¡£ç®¡ç†å™¨ã€‚ å®ƒå¯ä»¥å¤‡ä»½æ‚¨çš„æ•°æ®å¹¶å‡å°ç”µå­é‚®ä»¶é™„ä»¶çš„å¤§å°ï¼Œè§£å‹ç¼© RARï¼ŒZIP å’Œå…¶ä»–æ–‡ä»¶ã€‚</li></ul><h3 id="æ–‡ä»¶ç®¡ç†"><a class="markdownIt-Anchor" href="#æ–‡ä»¶ç®¡ç†"></a> æ–‡ä»¶ç®¡ç†</h3><ul><li><a href="http://en.ejie.me/" target="_blank" rel="noopener">Clover</a> - ä¸ºèµ„æºç®¡ç†å™¨åŠ ä¸Šå¤šæ ‡ç­¾åŠŸèƒ½ã€‚</li><li><a href="http://www.ghisler.com/" target="_blank" rel="noopener">Total Commander</a> - è€ç‰Œã€åŠŸèƒ½å¼‚å¸¸å¼ºå¤§çš„æ–‡ä»¶ç®¡ç†å¢å¼ºè½¯ä»¶ã€‚</li><li><a href="http://www.softwareok.com/?seite=Freeware/Q-Dir" target="_blank" rel="noopener">Q-Dir</a> - è½»é‡çº§çš„æ–‡ä»¶ç®¡ç†å™¨ï¼Œå„ç§å¸ƒå±€è§†å›¾åˆ‡æ¢çµæ´»ï¼Œé»˜è®¤å››ä¸ªå°çª—å£ç»„æˆä¸€ä¸ªå¤§çª—å£ï¼Œæ“ä½œå¿«æ·ã€‚è½¯ä»¶è™½å°ï¼Œç²‰ä¸å¿ è¯šã€‚</li><li><a href="https://github.com/Wox-launcher/Wox" target="_blank" rel="noopener">WoX</a> - æ–°ä¸€ä»£æ–‡ä»¶å®šä½å·¥å…·ï¼Œå ªç§° Windows ä¸Šçš„ Alfredã€‚</li><li><a href="http://www.voidtools.com/" target="_blank" rel="noopener">Everything</a> - æœ€å¿«çš„æ–‡ä»¶/æ–‡ä»¶å¤¹æœç´¢å·¥å…·ï¼Œ é€šè¿‡åç§°æœç´¢ã€‚</li><li><a href="http://www.listary.com/" target="_blank" rel="noopener">Listary</a> - éå¸¸ä¼˜ç§€çš„ Windows æ–‡ä»¶æµè§ˆå’Œæœç´¢å¢å¼ºå·¥å…·ã€‚</li><li>Beyond Compare - å¥½ç”¨åˆä¸‡èƒ½çš„æ–‡ä»¶å¯¹æ¯”å·¥å…·ã€‚</li><li><a href="https://www.piriform.com/ccleaner/download" target="_blank" rel="noopener">CCleaner</a> - å¦‚æœä½ æœ‰ç³»ç»Ÿæ´ç™–ï¼Œé‚£ä¸€å®šè¦é€‰æ‹©ä¸€æ¬¾å¹²å‡€ã€è‰¯å¿ƒã€è€ç‰Œçš„æ¸…æ´è½¯ä»¶ã€‚</li><li><a href="https://ninite.com/" target="_blank" rel="noopener">Ninite</a> - æœ€ç®€å•ï¼Œæœ€å¿«é€Ÿçš„æ›´æ–°æˆ–å®‰è£…è½¯ä»¶çš„æ–¹å¼ã€‚</li><li><a href="http://www.piriform.com/RECUVA" target="_blank" rel="noopener">Recuva</a> - æ¥è‡ª piriform æ¢¨å­å…¬å¸äº§å“ï¼Œå…è´¹çš„æ•°æ®æ¢å¤å·¥å…·ã€‚</li><li><a href="http://www.launchy.net/" target="_blank" rel="noopener">Launchy</a>ï¼šè‡ªç”±çš„è·¨å¹³å°å·¥å…·ï¼Œå¸®åŠ©ä½ å¿˜è®°å¼€å§‹èœå•ã€æ¡Œé¢å›¾æ ‡ç”šè‡³æ–‡ä»¶ç®¡ç†å™¨ã€‚</li></ul><h3 id="å¼€å‘"><a class="markdownIt-Anchor" href="#å¼€å‘"></a> å¼€å‘</h3><ul><li><a href="http://www.telerik.com/fiddler" target="_blank" rel="noopener">Fiddler</a> - web è°ƒè¯•ä»£ç†å·¥å…·ã€‚</li><li><a href="https://www.getpostman.com/postman" target="_blank" rel="noopener">Postman</a> - é€‚åˆ API å¼€å‘çš„å®Œæ•´å·¥å…·é“¾ï¼Œæœ€å¸¸ç”¨çš„ REST å®¢æˆ·ç«¯ã€‚</li><li><a href="https://www.sourcetreeapp.com/" target="_blank" rel="noopener">SourceTree</a> - ä¸€ä¸ªå…è´¹çš„ Git &amp; Mercurial å®¢æˆ·ç«¯ã€‚</li><li><a href="https://tortoisesvn.net/" target="_blank" rel="noopener">TortoiseSVN</a> - Subversion(SVN)çš„å›¾å½¢å®¢æˆ·ç«¯</li><li><a href="https://www.wireshark.org/" target="_blank" rel="noopener">Wireshark</a> - ä¸€ä¸ªç½‘ç»œåè®®åˆ†æå·¥å…·ã€‚</li><li>Switchhosts</li><li><a href="http://babun.github.io/" target="_blank" rel="noopener">Babun</a> - åŸºäº Cygwinï¼Œç”¨äºæ›¿ä»£ Windows shellã€‚</li><li><a href="https://github.com/cmderdev/cmder" target="_blank" rel="noopener">Cmder</a> - æ§åˆ¶å°æ¨¡æ‹Ÿå™¨åŒ…ã€‚</li></ul><h3 id="ç¼–è¾‘å™¨"><a class="markdownIt-Anchor" href="#ç¼–è¾‘å™¨"></a> ç¼–è¾‘å™¨</h3><ul><li><a href="http://www.jetbrains.com/" target="_blank" rel="noopener">JetBrain IDE ç³»åˆ—</a> - çœŸé¦™ï¼</li><li><a href="https://code.visualstudio.com/" target="_blank" rel="noopener">Visual Studio Code</a> - ç”¨äºæ„å»ºå’Œè°ƒè¯•ç°ä»£ Web å’Œäº‘åº”ç”¨ç¨‹åºã€‚</li><li><a href="https://eclipse.org/downloads/" target="_blank" rel="noopener">Eclipse</a> - ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ IDEã€‚</li><li><a href="https://www.visualstudio.com/vs/" target="_blank" rel="noopener">Visual Studio</a> - å¾®è½¯å®˜æ–¹çš„ IDEï¼Œé€šè¿‡æ’ä»¶å¯æ”¯æŒå¤§é‡ç¼–ç¨‹è¯­è¨€ã€‚</li><li><a href="https://netbeans.org/" target="_blank" rel="noopener">NetBeans IDE</a> - å…è´¹å¼€æºçš„ IDEã€‚</li><li><a href="https://www.typora.io/" target="_blank" rel="noopener">Typora</a> -  ä¸ªäººè§‰å¾—æœ€å¥½ç”¨çš„ Markdown ç¼–è¾‘å™¨ã€‚</li><li><a href="https://www.zybuluo.com/cmd/" target="_blank" rel="noopener">Cmd Markdown</a> - è·¨å¹³å°ä¼˜ç§€ Markdown ç¼–è¾‘å™¨ï¼Œæœ¬æ–‡å³ç”¨å…¶æ‰€å†™ã€‚</li><li><a href="https://notepad-plus-plus.org/" target="_blank" rel="noopener">Notepad++</a> - ä¸€æ¬¾æ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„æºç ç¼–è¾‘å™¨ã€‚</li><li><a href="http://www.flos-freeware.ch/notepad2.html" target="_blank" rel="noopener">Notepad2</a> - ç”¨äºæ›¿ä»£é»˜è®¤æ–‡æœ¬ç¼–è¾‘å™¨çš„è½»é‡å¿«é€Ÿçš„ç¼–è¾‘å™¨ï¼Œæ‹¥æœ‰ä¼—å¤šæœ‰ç”¨çš„åŠŸèƒ½ã€‚</li><li><a href="http://www.sublimetext.com/3" target="_blank" rel="noopener">Sublime Text 3</a> - é«˜çº§æ–‡æœ¬ç¼–è¾‘å™¨ã€‚</li><li><a href="https://atom.io/" target="_blank" rel="noopener">Atom</a> - é¢å‘ 21 ä¸–çºªçš„æå®¢æ–‡æœ¬ç¼–è¾‘å™¨ã€‚</li></ul><h3 id="æ–‡æ¡£"><a class="markdownIt-Anchor" href="#æ–‡æ¡£"></a> æ–‡æ¡£</h3><ul><li><a href="http://www.office.com/" target="_blank" rel="noopener">Microsoft Office</a> - å¾®è½¯åŠå…¬è½¯ä»¶ã€‚</li><li><a href="https://www.wps.com/office-free" target="_blank" rel="noopener">WPS Office</a> - é‡‘å±±å…è´¹åŠå…¬è½¯ä»¶ã€‚</li><li><a href="http://calibre-ebook.com/" target="_blank" rel="noopener">Calibre</a> - ç”¨äºç”µå­ä¹¦ç®¡ç†å’Œè½¬æ¢çš„å¼ºå¤§è½¯ä»¶ã€‚</li><li><a href="http://www.foxitsoftware.cn/products/reader/" target="_blank" rel="noopener">ç¦æ˜•é˜…è¯»å™¨</a> - åœ¨å…¨çƒæ‹¥æœ‰å¤§é‡ç”¨æˆ·ï¼Œæœ€ä¼˜ç§€çš„å›½äº§è½¯ä»¶ä¹‹ä¸€ã€‚Ribbon ç•Œé¢ï¼Œæ”¯æŒæ‰‹å†™ç­¾åã€æ’å…¥å°ç« ç­‰ã€‚</li></ul><h3 id="æ•ˆç‡æå‡"><a class="markdownIt-Anchor" href="#æ•ˆç‡æå‡"></a> æ•ˆç‡æå‡</h3><ul><li><a href="http://www.xmind.net/" target="_blank" rel="noopener">XMind</a> - ä¼˜ç§€çš„æ€ç»´å¯¼å›¾ã€‚</li><li>æœ‰é“ç¬”è®°</li><li><a href="https://www.onenote.com/" target="_blank" rel="noopener">OneNote</a> - Windows ä¸‹ç»¼åˆè¯„ä»·éå¸¸é«˜çš„ç¬”è®°åº”ç”¨ã€‚</li><li><a href="https://getsharex.com/" target="_blank" rel="noopener">ShareX</a> - ä½ è¦çš„æ‰€æœ‰ä¸æˆªå›¾ã€å½•å±ç›¸å…³çš„åŠŸèƒ½ï¼Œè¿™é‡Œéƒ½æœ‰äº†ã€‚</li><li><a href="https://autohotkey.com/" target="_blank" rel="noopener">AutoHotkey</a> - Windowså¹³å°çš„ç»ˆæè‡ªåŠ¨åŒ–è„šæœ¬è¯­è¨€ã€‚</li><li><a href="http://www.yinxiang.com/" target="_blank" rel="noopener">å°è±¡ç¬”è®°</a> - è€ç‰Œè·¨å¹³å°ç¬”è®°å·¥å…·ï¼Œå›½é™…ç‰ˆ Evernoteã€‚ä¸€å®¶ç«‹å¿—äºåšç™¾å¹´å…¬å¸çš„ä¼ä¸šï¼Œå®‰å…¨ã€å¯é ã€‚</li><li><a href="http://www.wiz.cn/index.html" target="_blank" rel="noopener">ä¸ºçŸ¥ç¬”è®°</a> - è¶Šæ¥è¶Šå¥½çš„ç¬”è®°åº”ç”¨ï¼Œè®°å½•ã€æŸ¥é˜…ä¸€åˆ‡æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼ŒåŒæ ·è·¨å¹³å°æ”¯æŒã€‚</li><li><a href="http://note.youdao.com/" target="_blank" rel="noopener">æœ‰é“äº‘ç¬”è®°</a> - ç½‘æ˜“æ——ä¸‹ç¬”è®°å·¥å…·ï¼ŒåŒæ ·è·¨ä¸»æµå¹³å°æ”¯æŒï¼Œæ–‡å­—ã€æ‰‹å†™ã€å½•éŸ³ã€æ‹ç…§å¤šç§è®°å½•æ–¹å¼ï¼Œæ”¯æŒä»»æ„é™„ä»¶æ ¼å¼ã€‚</li></ul><h3 id="åŠå…¬"><a class="markdownIt-Anchor" href="#åŠå…¬"></a> åŠå…¬</h3><ul><li><a href="http://cidian.youdao.com/index.html" target="_blank" rel="noopener">æœ‰é“è¯å…¸</a> - æœ€å¥½ç”¨çš„å…è´¹å…¨èƒ½ç¿»è¯‘è½¯ä»¶ã€‚</li><li><a href="http://office.microsoft.com/zh-cn/outlook/" target="_blank" rel="noopener">Outlook</a> - å¤§åé¼é¼çš„ Microsoft Office ç»„ä»¶ä¹‹ä¸€ï¼Œé™¤äº†ç”µå­é‚®ä»¶ï¼Œè¿˜åŒ…å«äº†æ—¥å†ã€ä»»åŠ¡ç®¡ç†ã€è”ç³»äººã€è®°äº‹æœ¬ç­‰åŠŸèƒ½ã€‚</li><li><a href="http://www.gmail.com/" target="_blank" rel="noopener">Gmail</a> - åŠŸèƒ½ä¸Šå¯ä»¥ç§°ä¸ºä¸šç•Œæ ‡æ†ï¼Œç”¨æˆ·æ•°é‡ä¸–ç•Œç¬¬ä¸€ï¼Œæˆ–è®¸ä½ çœŸçš„æ‰¾ä¸åˆ°æ¯”å®ƒæ›´å¥½çš„é‚®ä»¶ç³»ç»Ÿã€‚</li><li><a href="https://www.google.com/intl/zh-CN/chrome/browser/" target="_blank" rel="noopener">Chrome</a> - æœ€å¥½çš„æµè§ˆå™¨ã€‚</li><li><a href="http://www.teamviewer.com/Zhcn/index.aspx" target="_blank" rel="noopener">Teamviewer</a> - ä¸“ä¸šã€åŠŸèƒ½å¼ºå¤§çš„è¿œç¨‹æ§åˆ¶è½¯ä»¶ã€‚ä½¿ç”¨ç®€å•ï¼Œå¯¹ä¸ªäººç”¨æˆ·å…è´¹ã€‚</li></ul><h3 id="ä¸ªæ€§åŒ–"><a class="markdownIt-Anchor" href="#ä¸ªæ€§åŒ–"></a> ä¸ªæ€§åŒ–</h3><ul><li><a href="https://github.com/TranslucentTB/TranslucentTB" target="_blank" rel="noopener">TranslucentTB</a> - é€æ˜åŒ–ä½ çš„ Windows ä»»åŠ¡æ ã€‚</li><li><a href="http://qttabbar.wikidot.com/" target="_blank" rel="noopener">QTTabBar</a> - é€šè¿‡å¤šæ ‡ç­¾å’Œé¢å¤–çš„æ–‡ä»¶å¤¹è§†å›¾æ‰©å±•èµ„æºç®¡ç†å™¨çš„åŠŸèƒ½ã€‚</li><li><a href="https://www.stardock.com/products/fences/" target="_blank" rel="noopener">Fences</a> - ç®¡ç†æ¡Œé¢å¿«æ·æ–¹å¼ã€‚</li></ul><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://github.com/Awesome-Windows/Awesome/blob/master/README-cn.md" target="_blank" rel="noopener">https://github.com/Awesome-Windows/Awesome/blob/master/README-cn.md</a></li><li><a href="https://love.appinn.com/" target="_blank" rel="noopener">https://love.appinn.com/</a></li><li><a href="https://github.com/stackia/best-windows-apps" target="_blank" rel="noopener">https://github.com/stackia/best-windows-apps</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç¨‹åºå‘˜ç©è½¬-windows&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç¨‹åºå‘˜ç©è½¬-windows&quot;&gt;&lt;/a&gt; ç¨‹åºå‘˜ç©è½¬ Windows&lt;/h1&gt;
&lt;!-- TOC depthFrom:2 depthTo:3 --&gt;
&lt;ul&gt;
&lt;l
      
    
    </summary>
    
      <category term="os" scheme="https://dunwu.github.io/categories/os/"/>
    
    
      <category term="os" scheme="https://dunwu.github.io/tags/os/"/>
    
      <category term="windows" scheme="https://dunwu.github.io/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>Java ä¸­çš„ JSON åº”ç”¨</title>
    <link href="https://dunwu.github.io/2019/03/18/java/javalib/java-json/"/>
    <id>https://dunwu.github.io/2019/03/18/java/javalib/java-json/</id>
    <published>2019-03-18T03:10:00.000Z</published>
    <updated>2019-03-26T15:47:28.938Z</updated>
    
    <content type="html"><![CDATA[<h1 id="java-ä¸­çš„-json-åº”ç”¨"><a class="markdownIt-Anchor" href="#java-ä¸­çš„-json-åº”ç”¨"></a> Java ä¸­çš„ JSON åº”ç”¨</h1><blockquote><p>ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ<a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">blog</a>ã€</p></blockquote><!-- TOC depthFrom:2 depthTo:3 --><ul><li><a href="#json-%E7%AE%80%E4%BB%8B">JSON ç®€ä»‹</a></li><li><a href="#java-json-%E5%BA%93">Java JSON åº“</a></li><li><a href="#fastjson">Fastjson</a><ul><li><a href="#%E6%B7%BB%E5%8A%A0-maven-%E4%BE%9D%E8%B5%96">æ·»åŠ  maven ä¾èµ–</a></li><li><a href="#javabean-%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96">JavaBean çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</a></li><li><a href="#%E6%B3%A8%E8%A7%A3">æ³¨è§£</a></li></ul></li><li><a href="#jackson">Jackson</a><ul><li><a href="#%E6%B7%BB%E5%8A%A0-maven-%E4%BE%9D%E8%B5%96-1">æ·»åŠ  maven ä¾èµ–</a></li><li><a href="#api">API</a></li><li><a href="#%E6%B3%A8%E8%A7%A3-1">æ³¨è§£</a></li></ul></li><li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li></ul><!-- /TOC --><h2 id="json-ç®€ä»‹"><a class="markdownIt-Anchor" href="#json-ç®€ä»‹"></a> JSON ç®€ä»‹</h2><p>JSONï¼ˆJavaScript Object Notationï¼‰æ˜¯ä¸€ç§åŸºäºæ–‡æœ¬çš„æ•°æ®äº¤æ¢æ ¼å¼ã€‚å‡ ä¹æ‰€æœ‰çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰å¾ˆå¥½çš„åº“æˆ–ç¬¬ä¸‰æ–¹å·¥å…·æ¥æä¾›åŸºäº JSON çš„ API æ”¯æŒï¼Œå› æ­¤ä½ å¯ä»¥éå¸¸æ–¹ä¾¿åœ°ä½¿ç”¨ä»»ä½•è‡ªå·±å–œæ¬¢çš„ç¼–ç¨‹è¯­è¨€æ¥å¤„ç† JSON æ•°æ®ã€‚</p><p>JSON å»ºæ„äºä¸¤ç§ç»“æ„ï¼š</p><ul><li>â€œåç§°/å€¼â€å¯¹çš„é›†åˆã€‚ä¸åŒçš„è¯­è¨€ä¸­ï¼Œå®ƒè¢«ç†è§£ä¸º<em>å¯¹è±¡ï¼ˆobjectï¼‰</em>ï¼Œçºªå½•ï¼ˆrecordï¼‰ï¼Œç»“æ„ï¼ˆstructï¼‰ï¼Œå­—å…¸ï¼ˆdictionaryï¼‰ï¼Œå“ˆå¸Œè¡¨ï¼ˆhash tableï¼‰ï¼Œæœ‰é”®åˆ—è¡¨ï¼ˆkeyed listï¼‰ï¼Œæˆ–è€…å…³è”æ•°ç»„ ï¼ˆassociative arrayï¼‰ã€‚</li><li>å€¼çš„æœ‰åºåˆ—è¡¨ï¼ˆAn ordered list of valuesï¼‰ã€‚åœ¨å¤§éƒ¨åˆ†è¯­è¨€ä¸­ï¼Œå®ƒè¢«ç†è§£ä¸ºæ•°ç»„ï¼ˆarrayï¼‰ã€‚</li></ul><blockquote><p>æ‰©å±•é˜…è¯»ï¼š</p><ul><li><p><a href="http://www.json.org/json-zh.html" target="_blank" rel="noopener">http://www.json.org/json-zh.html</a> - å›¾æ–‡å¹¶èŒ‚ä»‹ç» json æ•°æ®å½¢å¼</p></li><li><p><a href="http://tools.ietf.org/html/rfc4627" target="_blank" rel="noopener">json çš„ RFC æ–‡æ¡£</a></p></li></ul></blockquote><h2 id="java-json-åº“"><a class="markdownIt-Anchor" href="#java-json-åº“"></a> Java JSON åº“</h2><p>Java ä¸­æ¯”è¾ƒæµè¡Œçš„ JSON åº“æœ‰ï¼š</p><ul><li><a href="https://github.com/alibaba/fastjson" target="_blank" rel="noopener">Fastjson</a></li><li><a href="http://wiki.fasterxml.com/JacksonHome" target="_blank" rel="noopener">Jackson</a></li><li><a href="https://github.com/google/gson" target="_blank" rel="noopener">Gson</a></li></ul><h2 id="fastjson"><a class="markdownIt-Anchor" href="#fastjson"></a> Fastjson</h2><p><a href="https://github.com/alibaba/fastjson" target="_blank" rel="noopener">fastjson</a> æ˜¯é˜¿é‡Œå·´å·´çš„å¼€æº JSON è§£æåº“ã€‚</p><h3 id="æ·»åŠ -maven-ä¾èµ–"><a class="markdownIt-Anchor" href="#æ·»åŠ -maven-ä¾èµ–"></a> æ·»åŠ  maven ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>fastjson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>x.x.x<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="fastjson-api"><a class="markdownIt-Anchor" href="#fastjson-api"></a> Fastjson API</h3><h4 id="javabean-çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–"><a class="markdownIt-Anchor" href="#javabean-çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–"></a> JavaBean çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String text = JSON.toJSONString(obj); <span class="comment">//åºåˆ—åŒ–</span></span><br><span class="line">VO vo = JSON.parseObject(<span class="string">"&#123;...&#125;"</span>, VO.class); <span class="comment">//ååºåˆ—åŒ–</span></span><br></pre></td></tr></table></figure><h3 id="fastjson-æ³¨è§£"><a class="markdownIt-Anchor" href="#fastjson-æ³¨è§£"></a> Fastjson æ³¨è§£</h3><h4 id="jsonfield"><a class="markdownIt-Anchor" href="#jsonfield"></a> <code>@JSONField</code></h4><p>å¯ä»¥é…ç½®åœ¨å±æ€§ï¼ˆsetterã€getterï¼‰å’Œå­—æ®µï¼ˆå¿…é¡»æ˜¯ public fieldï¼‰ä¸Šã€‚</p><blockquote><p>æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/alibaba/fastjson/wiki/JSONField" target="_blank" rel="noopener">JSONField ç”¨æ³•</a></p></blockquote><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@JSONField</span>(name=<span class="string">"ID"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> id;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é…ç½®dateåºåˆ—åŒ–å’Œååºåˆ—ä½¿ç”¨yyyyMMddæ—¥æœŸæ ¼å¼</span></span><br><span class="line"><span class="meta">@JSONField</span>(format=<span class="string">"yyyyMMdd"</span>)</span><br><span class="line"><span class="keyword">public</span> Date date1;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸åºåˆ—åŒ–</span></span><br><span class="line"><span class="meta">@JSONField</span>(serialize=<span class="keyword">false</span>)</span><br><span class="line"><span class="keyword">public</span> Date date2;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ååºåˆ—åŒ–</span></span><br><span class="line"><span class="meta">@JSONField</span>(deserialize=<span class="keyword">false</span>)</span><br><span class="line"><span class="keyword">public</span> Date date3;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‰ordinalæ’åº</span></span><br><span class="line"><span class="meta">@JSONField</span>(ordinal = <span class="number">2</span>)</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> f1;</span><br><span class="line"></span><br><span class="line"><span class="meta">@JSONField</span>(ordinal = <span class="number">1</span>)</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> f2;</span><br></pre></td></tr></table></figure><h4 id="jsontype"><a class="markdownIt-Anchor" href="#jsontype"></a> <code>@JSONType</code></h4><ul><li>è‡ªå®šä¹‰åºåˆ—åŒ–ï¼š<a href="https://github.com/alibaba/fastjson/wiki/JSONType_serializer" target="_blank" rel="noopener">ObjectSerializer</a></li><li>å­ç±»å‹å¤„ç†ï¼š<a href="https://github.com/alibaba/fastjson/wiki/JSONType_seeAlso_cn" target="_blank" rel="noopener">SeeAlso</a></li></ul><p>JSONType.alphabetic å±æ€§: fastjson ç¼ºçœæ—¶ä¼šä½¿ç”¨å­—æ¯åºåºåˆ—åŒ–ï¼Œå¦‚æœä½ æ˜¯å¸Œæœ›æŒ‰ç…§ java fields/getters çš„è‡ªç„¶é¡ºåºåºåˆ—åŒ–ï¼Œå¯ä»¥é…ç½® JSONType.alphabeticï¼Œä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@JSONType</span>(alphabetic = <span class="keyword">false</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> f2;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> f1;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> f0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="jackson"><a class="markdownIt-Anchor" href="#jackson"></a> Jackson</h2><p>ä»¥ä¸‹ä»…åˆ—ä¸¾ä¸ªäººè®¤ä¸ºæ¯”è¾ƒå¸¸ç”¨çš„ç‰¹æ€§ã€‚</p><h3 id="æ·»åŠ -maven-ä¾èµ–-2"><a class="markdownIt-Anchor" href="#æ·»åŠ -maven-ä¾èµ–-2"></a> æ·»åŠ  maven ä¾èµ–</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="jackson-api"><a class="markdownIt-Anchor" href="#jackson-api"></a> Jackson API</h3><blockquote><p>æ‰©å±•é˜…è¯»ï¼šæ›´å¤š API ä½¿ç”¨ç»†èŠ‚å¯ä»¥å‚è€ƒ <a href="https://github.com/FasterXML/jackson-databind" target="_blank" rel="noopener">jackson-databind å®˜æ–¹è¯´æ˜</a></p></blockquote><h4 id="javabean-çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–-2"><a class="markdownIt-Anchor" href="#javabean-çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–-2"></a> JavaBean çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</h4><p>ååºåˆ—åŒ–ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line"></span><br><span class="line">MyValue value = mapper.readValue(<span class="keyword">new</span> File(<span class="string">"data.json"</span>), MyValue.class);</span><br><span class="line"><span class="comment">// or:</span></span><br><span class="line">value = mapper.readValue(<span class="keyword">new</span> URL(<span class="string">"http://some.com/api/entry.json"</span>), MyValue.class);</span><br><span class="line"><span class="comment">// or:</span></span><br><span class="line">value = mapper.readValue(<span class="string">"&#123;\"name\":\"Bob\", \"age\":13&#125;"</span>, MyValue.class);</span><br></pre></td></tr></table></figure><p>åºåˆ—åŒ–ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">mapper.writeValue(<span class="keyword">new</span> File(<span class="string">"result.json"</span>), myResultObject);</span><br><span class="line"><span class="comment">// or:</span></span><br><span class="line"><span class="keyword">byte</span>[] jsonBytes = mapper.writeValueAsBytes(myResultObject);</span><br><span class="line"><span class="comment">// or:</span></span><br><span class="line">String jsonString = mapper.writeValueAsString(myResultObject);</span><br></pre></td></tr></table></figure><h4 id="å®¹å™¨çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–"><a class="markdownIt-Anchor" href="#å®¹å™¨çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–"></a> å®¹å™¨çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–</h4><figure class="highlight plain"><figcaption><span>æ‰©å±•é˜…è¯»ï¼šæ›´å¤š API ä½¿ç”¨ç»†èŠ‚å¯ä»¥å‚è€ƒ  [jackson-databind å®˜æ–¹è¯´æ˜](https://github.com/FasterXML/jackson-databind)java</span></figcaption><table><tr><td class="code"><pre><span class="line">Person p = new Person(&quot;Tom&quot;, 20);</span><br><span class="line">Person p2 = new Person(&quot;Jack&quot;, 22);</span><br><span class="line">Person p3 = new Person(&quot;Mary&quot;, 18);</span><br><span class="line"></span><br><span class="line">List&lt;Person&gt; persons = new LinkedList&lt;&gt;();</span><br><span class="line">persons.add(p);</span><br><span class="line">persons.add(p2);</span><br><span class="line">persons.add(p3);</span><br><span class="line"></span><br><span class="line">Map&lt;String, List&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">map.put(&quot;persons&quot;, persons);</span><br><span class="line"></span><br><span class="line">String json = null;</span><br><span class="line">try &#123;</span><br><span class="line">json = mapper.writeValueAsString(map);</span><br><span class="line">&#125; catch (JsonProcessingException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="jackson-æ³¨è§£"><a class="markdownIt-Anchor" href="#jackson-æ³¨è§£"></a> Jackson æ³¨è§£</h3><blockquote><p>æ‰©å±•é˜…è¯»ï¼šæ›´å¤šæ³¨è§£ä½¿ç”¨ç»†èŠ‚å¯ä»¥å‚è€ƒ <a href="https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations" target="_blank" rel="noopener">jackson-annotations å®˜æ–¹è¯´æ˜</a></p></blockquote><h4 id="jsonproperty"><a class="markdownIt-Anchor" href="#jsonproperty"></a> <code>@JsonProperty</code></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">   <span class="keyword">private</span> String _name;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// without annotation, we'd get "theName", but we want "name":</span></span><br><span class="line">   <span class="meta">@JsonProperty</span>(<span class="string">"name"</span>)</span><br><span class="line">   <span class="function"><span class="keyword">public</span> String <span class="title">getTheName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> _name; &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// note: it is enough to add annotation on just getter OR setter;</span></span><br><span class="line">   <span class="comment">// so we can omit it here</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTheName</span><span class="params">(String n)</span> </span>&#123; _name = n; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="jsonignoreproperties-å’Œ-jsonignore"><a class="markdownIt-Anchor" href="#jsonignoreproperties-å’Œ-jsonignore"></a> <code>@JsonIgnoreProperties</code> å’Œ <code>@JsonIgnore</code></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// means that if we see "foo" or "bar" in JSON, they will be quietly skipped</span></span><br><span class="line"><span class="comment">// regardless of whether POJO has such properties</span></span><br><span class="line"><span class="meta">@JsonIgnoreProperties</span>(&#123; <span class="string">"foo"</span>, <span class="string">"bar"</span> &#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBean</span> </span>&#123;</span><br><span class="line">   <span class="comment">// will not be written as JSON; nor assigned from JSON:</span></span><br><span class="line">   <span class="meta">@JsonIgnore</span></span><br><span class="line">   <span class="keyword">public</span> String internal;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// no annotation, public field is read/written normally</span></span><br><span class="line">   <span class="keyword">public</span> String external;</span><br><span class="line"></span><br><span class="line">   <span class="meta">@JsonIgnore</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCode</span><span class="params">(<span class="keyword">int</span> c)</span> </span>&#123; _code = c; &#125;</span><br><span class="line"></span><br><span class="line">   <span class="comment">// note: will also be ignored because setter has annotation!</span></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCode</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> _code; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="jsoncreator"><a class="markdownIt-Anchor" href="#jsoncreator"></a> <code>@JsonCreator</code></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CtorBean</span> </span>&#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">final</span> String name;</span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@JsonCreator</span> <span class="comment">// constructor can be public, private, whatever</span></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">CtorBean</span><span class="params">(@JsonProperty(<span class="string">"name"</span>)</span> String name,</span></span><br><span class="line"><span class="function">    @<span class="title">JsonProperty</span><span class="params">(<span class="string">"age"</span>)</span> <span class="keyword">int</span> age)</span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.name = name;</span><br><span class="line">      <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="jsonpropertyorder"><a class="markdownIt-Anchor" href="#jsonpropertyorder"></a> <code>@JsonPropertyOrder</code></h4><p>alphabetic è®¾ä¸º true è¡¨ç¤ºï¼Œjson å­—æ®µæŒ‰è‡ªç„¶é¡ºåºæ’åˆ—ï¼Œé»˜è®¤ä¸º falseã€‚</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">@JsonPropertyOrder(alphabetic = <span class="literal">true</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="symbol">JacksonAnnotationBean</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2><ul><li><a href="http://www.json.org/json-zh.html" target="_blank" rel="noopener">http://www.json.org/json-zh.html</a></li><li><a href="http://tools.ietf.org/html/rfc4627" target="_blank" rel="noopener">json çš„ RFC æ–‡æ¡£</a></li><li><a href="https://github.com/alibaba/fastjson" target="_blank" rel="noopener">fastjson</a></li><li><a href="https://github.com/FasterXML/jackson-docs" target="_blank" rel="noopener">jackson å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://github.com/FasterXML/jackson-databind" target="_blank" rel="noopener">jackson-databind</a></li><li><a href="https://kimmking.github.io/2017/06/06/json-best-practice/" target="_blank" rel="noopener">JSON æœ€ä½³å®è·µ</a></li><li><a href="https://www.jianshu.com/p/8b428e1d1564" target="_blank" rel="noopener">ã€ç®€æ˜æ•™ç¨‹ã€‘JSON</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;java-ä¸­çš„-json-åº”ç”¨&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#java-ä¸­çš„-json-åº”ç”¨&quot;&gt;&lt;/a&gt; Java ä¸­çš„ JSON åº”ç”¨&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ&lt;a href=&quot;
      
    
    </summary>
    
      <category term="programming" scheme="https://dunwu.github.io/categories/programming/"/>
    
      <category term="java" scheme="https://dunwu.github.io/categories/programming/java/"/>
    
      <category term="javalib" scheme="https://dunwu.github.io/categories/programming/java/javalib/"/>
    
    
      <category term="programming" scheme="https://dunwu.github.io/tags/programming/"/>
    
      <category term="java" scheme="https://dunwu.github.io/tags/java/"/>
    
      <category term="javalib" scheme="https://dunwu.github.io/tags/javalib/"/>
    
      <category term="json" scheme="https://dunwu.github.io/tags/json/"/>
    
      <category term="fastjson" scheme="https://dunwu.github.io/tags/fastjson/"/>
    
      <category term="jackson" scheme="https://dunwu.github.io/tags/jackson/"/>
    
  </entry>
  
  <entry>
    <title>Java å¸¸ç”¨å·¥å…·ç±»</title>
    <link href="https://dunwu.github.io/2019/03/14/java/javacore/basics/Java%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
    <id>https://dunwu.github.io/2019/03/14/java/javacore/basics/Javaå¸¸ç”¨å·¥å…·ç±»/</id>
    <published>2019-03-14T05:02:00.000Z</published>
    <updated>2019-03-26T15:47:27.549Z</updated>
    
    <content type="html"><![CDATA[<h1 id="java-å¸¸ç”¨å·¥å…·ç±»"><a class="markdownIt-Anchor" href="#java-å¸¸ç”¨å·¥å…·ç±»"></a> Java å¸¸ç”¨å·¥å…·ç±»</h1><blockquote><p>ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ<a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">blog</a>ã€</p><p>âŒ¨ï¸ æœ¬æ–‡ä¸­çš„ç¤ºä¾‹ä»£ç å·²å½’æ¡£åˆ°ï¼šã€Œ<a href="https://github.com/dunwu/javacore/tree/master/codes/basics/src/main/java/io/github/dunwu/javacore/tool" target="_blank" rel="noopener">javacore</a>ã€</p><p>å¹¶å‘ã€IOã€å®¹å™¨çš„å·¥å…·ç±»ä¸ä¼šåœ¨æœ¬æ–‡æåŠï¼Œåé¢ä¼šæœ‰ä¸“é¢˜ä¸€ä¸€é“æ¥ã€‚</p></blockquote><!-- TOC depthFrom:2 depthTo:3 --><ul><li><a href="#%E5%AD%97%E7%AC%A6%E4%B8%B2">å­—ç¬¦ä¸²</a><ul><li><a href="#string">String</a></li><li><a href="#stringbuffer">StringBuffer</a></li><li><a href="#stringbuilder">StringBuilder</a></li></ul></li><li><a href="#%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4">æ—¥æœŸæ—¶é—´</a><ul><li><a href="#date">Date</a></li><li><a href="#simpledateformat">SimpleDateFormat</a></li><li><a href="#calendar">Calendar</a></li></ul></li><li><a href="#%E6%95%B0%E5%AD%A6">æ•°å­¦</a><ul><li><a href="#number">Number</a></li><li><a href="#math">Math</a></li></ul></li><li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li></ul><!-- /TOC --><h2 id="å­—ç¬¦ä¸²"><a class="markdownIt-Anchor" href="#å­—ç¬¦ä¸²"></a> å­—ç¬¦ä¸²</h2><h3 id="string"><a class="markdownIt-Anchor" href="#string"></a> String</h3><h3 id="stringbuffer"><a class="markdownIt-Anchor" href="#stringbuffer"></a> StringBuffer</h3><h3 id="stringbuilder"><a class="markdownIt-Anchor" href="#stringbuilder"></a> StringBuilder</h3><h2 id="æ—¥æœŸæ—¶é—´"><a class="markdownIt-Anchor" href="#æ—¥æœŸæ—¶é—´"></a> æ—¥æœŸæ—¶é—´</h2><h3 id="date"><a class="markdownIt-Anchor" href="#date"></a> Date</h3><h3 id="simpledateformat"><a class="markdownIt-Anchor" href="#simpledateformat"></a> SimpleDateFormat</h3><h3 id="calendar"><a class="markdownIt-Anchor" href="#calendar"></a> Calendar</h3><h2 id="æ•°å­¦"><a class="markdownIt-Anchor" href="#æ•°å­¦"></a> æ•°å­¦</h2><h3 id="number"><a class="markdownIt-Anchor" href="#number"></a> Number</h3><h3 id="math"><a class="markdownIt-Anchor" href="#math"></a> Math</h3><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://book.douban.com/subject/2130190/" target="_blank" rel="noopener">Java ç¼–ç¨‹æ€æƒ³</a></li><li><a href="https://book.douban.com/subject/3146174/" target="_blank" rel="noopener">JAVA æ ¸å¿ƒæŠ€æœ¯ï¼ˆå· 1ï¼‰</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;java-å¸¸ç”¨å·¥å…·ç±»&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#java-å¸¸ç”¨å·¥å…·ç±»&quot;&gt;&lt;/a&gt; Java å¸¸ç”¨å·¥å…·ç±»&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ&lt;a href=&quot;https://github.
      
    
    </summary>
    
      <category term="java" scheme="https://dunwu.github.io/categories/java/"/>
    
      <category term="javacore" scheme="https://dunwu.github.io/categories/java/javacore/"/>
    
    
      <category term="java" scheme="https://dunwu.github.io/tags/java/"/>
    
      <category term="javacore" scheme="https://dunwu.github.io/tags/javacore/"/>
    
      <category term="basics" scheme="https://dunwu.github.io/tags/basics/"/>
    
  </entry>
  
  <entry>
    <title>Electron</title>
    <link href="https://dunwu.github.io/2019/03/14/frontend/electron/"/>
    <id>https://dunwu.github.io/2019/03/14/frontend/electron/</id>
    <published>2019-03-13T16:00:00.000Z</published>
    <updated>2019-03-26T15:47:26.907Z</updated>
    
    <content type="html"><![CDATA[<h1 id="electron"><a class="markdownIt-Anchor" href="#electron"></a> Electron</h1><blockquote><p>ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ<a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">blog</a>ã€</p></blockquote><!-- TOC depthFrom:2 depthTo:2 --><ul><li><a href="#%E7%AE%80%E4%BB%8B">ç®€ä»‹</a></li><li><a href="#%E5%85%A5%E9%97%A8">å…¥é—¨</a></li><li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">å‚è€ƒèµ„æ–™</a></li></ul><!-- /TOC --><h2 id="ç®€ä»‹"><a class="markdownIt-Anchor" href="#ç®€ä»‹"></a> ç®€ä»‹</h2><p>Electron æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>Electron åŸºäº Chromium å’Œ Node.js, è®©ä½ å¯ä»¥ä½¿ç”¨ HTML, CSS å’Œ JavaScript ç­‰ Web æŠ€æœ¯æ„å»ºè·¨å¹³å°çš„åº”ç”¨ï¼ˆå…¼å®¹ Mac, Windows å’Œ Linuxï¼‰ã€‚</p><h2 id="å…¥é—¨"><a class="markdownIt-Anchor" href="#å…¥é—¨"></a> å…¥é—¨</h2><p>å¿«é€Ÿå¯åŠ¨ åº”ç”¨ç¨‹åºï¼Œçœ‹çœ‹ Electron æ˜¯å¦‚ä½•è¿è½¬çš„ï¼š</p><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å…‹éš†ç¤ºä¾‹é¡¹ç›®çš„ä»“åº“</span></span><br><span class="line">$ git <span class="keyword">clone</span> <span class="title">https</span>://github.com/electron/electron-quick-<span class="literal">start</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›å…¥è¿™ä¸ªä»“åº“</span></span><br><span class="line">$ cd electron-quick-<span class="literal">start</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–å¹¶è¿è¡Œ</span></span><br><span class="line">$ npm install &amp;&amp; npm <span class="literal">start</span></span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2><ul><li><a href="https://github.com/electron/electron" target="_blank" rel="noopener">electron</a></li><li><a href="https://electronjs.org/" target="_blank" rel="noopener">electron å®˜æ–¹æ–‡æ¡£</a></li><li><a href="https://github.com/sindresorhus/awesome-electron" target="_blank" rel="noopener">awesome-electron</a></li><li><a href="https://github.com/electron/electron-quick-start" target="_blank" rel="noopener">electron-quick-start</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;electron&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#electron&quot;&gt;&lt;/a&gt; Electron&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ&lt;a href=&quot;https://github.com/du
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Java åŸºç¡€è¯­æ³•ç‰¹æ€§</title>
    <link href="https://dunwu.github.io/2019/03/10/java/javacore/basics/Java%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%E7%89%B9%E6%80%A7/"/>
    <id>https://dunwu.github.io/2019/03/10/java/javacore/basics/JavaåŸºç¡€è¯­æ³•ç‰¹æ€§/</id>
    <published>2019-03-10T14:28:00.000Z</published>
    <updated>2019-03-26T15:47:27.534Z</updated>
    
    <content type="html"><![CDATA[<h1 id="java-åŸºç¡€è¯­æ³•ç‰¹æ€§"><a class="markdownIt-Anchor" href="#java-åŸºç¡€è¯­æ³•ç‰¹æ€§"></a> Java åŸºç¡€è¯­æ³•ç‰¹æ€§</h1><blockquote><p>ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ<a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">blog</a>ã€</p></blockquote><!-- TOC depthFrom:2 depthTo:3 --><ul><li><a href="#%E6%B3%A8%E9%87%8A">æ³¨é‡Š</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">åŸºæœ¬æ•°æ®ç±»å‹</a></li><li><a href="#%E5%8F%98%E9%87%8F">å˜é‡</a><ul><li><a href="#%E5%8F%98%E9%87%8F%E4%BF%AE%E9%A5%B0%E7%AC%A6">å˜é‡ä¿®é¥°ç¬¦</a></li></ul></li><li><a href="#%E6%95%B0%E7%BB%84">æ•°ç»„</a></li><li><a href="#%E6%93%8D%E4%BD%9C%E7%AC%A6">æ“ä½œç¬¦</a></li><li><a href="#%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5">æ§åˆ¶è¯­å¥</a></li><li><a href="#%E5%BC%82%E5%B8%B8">å¼‚å¸¸</a></li></ul><!-- /TOC --><h2 id="æ³¨é‡Š"><a class="markdownIt-Anchor" href="#æ³¨é‡Š"></a> æ³¨é‡Š</h2><p>ç©ºç™½è¡Œï¼Œæˆ–è€…æ³¨é‡Šçš„å†…å®¹ï¼Œéƒ½ä¼šè¢« Java ç¼–è¯‘å™¨å¿½ç•¥æ‰ã€‚</p><p>Java æ”¯æŒå¤šç§æ³¨é‡Šæ–¹å¼ï¼Œä¸‹é¢çš„ç¤ºä¾‹å±•ç¤ºäº†å„ç§æ³¨é‡Šçš„ä½¿ç”¨æ–¹å¼ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * JavaDoc æ³¨é‡Š</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å•è¡Œæ³¨é‡Š</span></span><br><span class="line">        <span class="comment">/* å¤šè¡Œæ³¨é‡Šï¼š</span></span><br><span class="line"><span class="comment">           1. æ³¨æ„ç‚¹a</span></span><br><span class="line"><span class="comment">           2. æ³¨æ„ç‚¹b</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(<span class="string">"Hello World"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŸºæœ¬æ•°æ®ç±»å‹"><a class="markdownIt-Anchor" href="#åŸºæœ¬æ•°æ®ç±»å‹"></a> åŸºæœ¬æ•°æ®ç±»å‹</h2><p>ï¼ˆ1ï¼‰Java ä¸­çš„æ•°æ®ç±»å‹æœ‰ä¸¤ç±»ï¼š</p><ul><li>å€¼ç±»å‹ï¼ˆ<code>byte</code>ã€<code>short</code>ã€<code>int</code>ã€<code>long</code>ã€<code>float</code>ã€<code>double</code>ã€<code>char</code>ã€<code>boolean</code>ï¼‰</li><li>å¼•ç”¨ç±»å‹ï¼ˆé™¤å€¼ç±»å‹ä»¥å¤–ï¼Œéƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼ŒåŒ…æ‹¬ <code>String</code>ã€æ•°ç»„ï¼‰</li></ul><p>ï¼ˆ2ï¼‰Java ä¸­ï¼Œæ•°æ®ç±»å‹è½¬æ¢æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>è‡ªåŠ¨æ¢è¡Œ</li><li>å¼ºåˆ¶è½¬æ¢</li></ul><p>å¼ºåˆ¶è½¬æ¢ä½¿ç”¨æ‹¬å· <code>()</code> ã€‚</p><p>åŸºç¡€æ•°æ®ç±»å‹å¯ä»¥è‡ªåŠ¨è½¬æ¢ï¼Œè½¬æ¢åŸåˆ™å¦‚ä¸‹ï¼š</p><ul><li>ç”±å°æ•°æ®è½¬æ¢ä¸ºå¤§æ•°æ®</li><li>è½¬æ¢å‰åçš„æ•°æ®ç±»å‹è¦å…¼å®¹</li><li>æ•´å‹ç±»å‹å’Œæµ®ç‚¹å‹è¿›è¡Œè®¡ç®—åï¼Œç»“æœä¼šè½¬ä¸ºæµ®ç‚¹ç±»å‹</li></ul><p>ï¼ˆ3ï¼‰åŒ…è£…ç±»æœ‰å¦‚ä¸‹ç§ç±»ï¼š</p><figure class="highlight xl"><table><tr><td class="code"><pre><span class="line">B<span class="function"><span class="title">yte</span> &lt;-&gt;</span> byte</span><br><span class="line">S<span class="function"><span class="title">hort</span> &lt;-&gt;</span> short</span><br><span class="line">I<span class="function"><span class="title">nteger</span> &lt;-&gt;</span> int</span><br><span class="line">L<span class="function"><span class="title">ong</span> &lt;-&gt;</span> long</span><br><span class="line">F<span class="function"><span class="title">loat</span> &lt;-&gt;</span> float</span><br><span class="line">D<span class="function"><span class="title">ouble</span> &lt;-&gt;</span> double</span><br><span class="line">C<span class="function"><span class="title">haracter</span> &lt;-&gt;</span> char</span><br><span class="line">B<span class="function"><span class="title">oolean</span> &lt;-&gt;</span> <span class="keyword">boolean</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰ä»€ä¹ˆæ˜¯è£…ç®±ã€æ‹†ç®±</p><ul><li>**<code>è£…ç®±</code>ï¼ˆboxingï¼‰æ˜¯å°†å€¼ç±»å‹è½¬æ¢ä¸ºå¼•ç”¨ç±»å‹ã€‚**ä¾‹å¦‚ï¼š<code>int</code> è½¬ <code>Integer</code><ul><li>è£…ç®±è¿‡ç¨‹æ˜¯é€šè¿‡è°ƒç”¨åŒ…è£…ç±»çš„ <code>valueOf</code> æ–¹æ³•å®ç°çš„ã€‚</li></ul></li><li>**<code>æ‹†ç®±</code>ï¼ˆunboxingï¼‰æ˜¯å°†å¼•ç”¨ç±»å‹è½¬æ¢ä¸ºå€¼ç±»å‹ã€‚**ä¾‹å¦‚ï¼š<code>Integer</code> è½¬ <code>int</code><ul><li>æ‹†ç®±è¿‡ç¨‹æ˜¯é€šè¿‡è°ƒç”¨åŒ…è£…ç±»çš„ <code>xxxValue</code> æ–¹æ³•å®ç°çš„ã€‚ï¼ˆxxx ä»£è¡¨å¯¹åº”çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼‰ã€‚</li></ul></li></ul><p>ï¼ˆ5ï¼‰è£…ç®±ã€æ‹†ç®±çš„åº”ç”¨åœºæ™¯</p><ul><li>å«ç±»å‹ä¸º <code>Object</code> å‚æ•°çš„æ–¹æ³•</li><li>éæ³›å‹çš„å®¹å™¨</li><li>å½“ <code>==</code> è¿ç®—ç¬¦çš„ä¸¤ä¸ªæ“ä½œï¼Œä¸€ä¸ªæ“ä½œæ•°æ˜¯åŒ…è£…ç±»ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯è¡¨è¾¾å¼ï¼ˆå³åŒ…å«ç®—æœ¯è¿ç®—ï¼‰åˆ™æ¯”è¾ƒçš„æ˜¯æ•°å€¼ï¼ˆå³ä¼šè§¦å‘è‡ªåŠ¨æ‹†ç®±çš„è¿‡ç¨‹ï¼‰ã€‚</li></ul><p>ï¼ˆ6ï¼‰è£…ç®±ã€æ‹†ç®±çš„åº”ç”¨æ³¨æ„ç‚¹</p><ul><li>è£…ç®±æ“ä½œä¼šåˆ›å»ºå¯¹è±¡ï¼Œé¢‘ç¹çš„è£…ç®±æ“ä½œä¼šé€ æˆä¸å¿…è¦çš„å†…å­˜æ¶ˆè€—ï¼Œå½±å“æ€§èƒ½ã€‚æ‰€ä»¥<strong>åº”è¯¥å°½é‡é¿å…è£…ç®±ã€‚</strong></li><li>åŸºç¡€æ•°æ®ç±»å‹çš„æ¯”è¾ƒæ“ä½œä½¿ç”¨ <code>==</code>ï¼ŒåŒ…è£…ç±»çš„æ¯”è¾ƒæ“ä½œä½¿ç”¨ <code>equals</code> æ–¹æ³•ã€‚</li></ul><blockquote><p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/blog/blob/master/source/_posts/programming/java/javacore/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.md" target="_blank" rel="noopener">æ·±å…¥ç†è§£ Java åŸºæœ¬æ•°æ®ç±»å‹</a></p></blockquote><h2 id="å˜é‡"><a class="markdownIt-Anchor" href="#å˜é‡"></a> å˜é‡</h2><p>Java æ”¯æŒçš„å˜é‡ç±»å‹æœ‰ï¼š</p><ul><li><code>å±€éƒ¨å˜é‡</code> - ç±»æ–¹æ³•ä¸­çš„å˜é‡ã€‚</li><li><code>å®ä¾‹å˜é‡ï¼ˆä¹Ÿå«æˆå‘˜å˜é‡ï¼‰</code> - ç±»æ–¹æ³•å¤–çš„å˜é‡ï¼Œä¸è¿‡æ²¡æœ‰ <code>static</code> ä¿®é¥°ã€‚</li><li><code>ç±»å˜é‡ï¼ˆä¹Ÿå«é™æ€å˜é‡ï¼‰</code> - ç±»æ–¹æ³•å¤–çš„å˜é‡ï¼Œç”¨ <code>static</code> ä¿®é¥°ã€‚</li></ul><p>ç‰¹æ€§å¯¹æ¯”ï¼š</p><table><thead><tr><th>å±€éƒ¨å˜é‡</th><th>å®ä¾‹å˜é‡ï¼ˆä¹Ÿå«æˆå‘˜å˜é‡ï¼‰</th><th>ç±»å˜é‡ï¼ˆä¹Ÿå«é™æ€å˜é‡ï¼‰</th></tr></thead><tbody><tr><td>å±€éƒ¨å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¸­ã€‚</td><td>å®ä¾‹å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•å’Œè¯­å¥å—ä¹‹å¤–ã€‚</td><td>ç±»å˜é‡å£°æ˜åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•å’Œè¯­å¥å—ä¹‹å¤–ã€‚å¹¶ä¸”ä»¥ static ä¿®é¥°ã€‚</td></tr><tr><td>å±€éƒ¨å˜é‡åœ¨æ–¹æ³•ã€æ„é€ æ–¹æ³•ã€æˆ–è€…è¯­å¥å—è¢«æ‰§è¡Œçš„æ—¶å€™åˆ›å»ºï¼Œå½“å®ƒä»¬æ‰§è¡Œå®Œæˆåï¼Œå˜é‡å°†ä¼šè¢«é”€æ¯ã€‚</td><td>å®ä¾‹å˜é‡åœ¨å¯¹è±¡åˆ›å»ºçš„æ—¶å€™åˆ›å»ºï¼Œåœ¨å¯¹è±¡è¢«é”€æ¯çš„æ—¶å€™é”€æ¯ã€‚</td><td>ç±»å˜é‡åœ¨ç¬¬ä¸€æ¬¡è¢«è®¿é—®æ—¶åˆ›å»ºï¼Œåœ¨ç¨‹åºç»“æŸæ—¶é”€æ¯ã€‚</td></tr><tr><td>å±€éƒ¨å˜é‡æ²¡æœ‰é»˜è®¤å€¼ï¼Œæ‰€ä»¥å¿…é¡»ç»è¿‡åˆå§‹åŒ–ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚</td><td>å®ä¾‹å˜é‡å…·æœ‰é»˜è®¤å€¼ã€‚æ•°å€¼å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ 0ï¼Œå¸ƒå°”å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ falseï¼Œå¼•ç”¨ç±»å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ nullã€‚å˜é‡çš„å€¼å¯ä»¥åœ¨å£°æ˜æ—¶æŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šã€‚</td><td>ç±»å˜é‡å…·æœ‰é»˜è®¤å€¼ã€‚æ•°å€¼å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ 0ï¼Œå¸ƒå°”å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ falseï¼Œå¼•ç”¨ç±»å‹å˜é‡çš„é»˜è®¤å€¼æ˜¯ nullã€‚å˜é‡çš„å€¼å¯ä»¥åœ¨å£°æ˜æ—¶æŒ‡å®šï¼Œä¹Ÿå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šã€‚æ­¤å¤–ï¼Œé™æ€å˜é‡è¿˜å¯ä»¥åœ¨é™æ€è¯­å¥å—ä¸­åˆå§‹åŒ–ã€‚</td></tr><tr><td>å¯¹äºå±€éƒ¨å˜é‡ï¼Œå¦‚æœæ˜¯åŸºæœ¬ç±»å‹ï¼Œä¼šæŠŠå€¼ç›´æ¥å­˜å‚¨åœ¨æ ˆï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹ï¼Œä¼šæŠŠå…¶å¯¹è±¡å­˜å‚¨åœ¨å †ï¼Œè€ŒæŠŠè¿™ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼ˆæŒ‡é’ˆï¼‰å­˜å‚¨åœ¨æ ˆã€‚</td><td>å®ä¾‹å˜é‡å­˜å‚¨åœ¨å †ã€‚</td><td>ç±»å˜é‡å­˜å‚¨åœ¨é™æ€å­˜å‚¨åŒºã€‚</td></tr><tr><td>è®¿é—®ä¿®é¥°ç¬¦ä¸èƒ½ç”¨äºå±€éƒ¨å˜é‡ã€‚</td><td>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ç”¨äºå®ä¾‹å˜é‡ã€‚</td><td>è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ç”¨äºç±»å˜é‡ã€‚</td></tr><tr><td>å±€éƒ¨å˜é‡åªåœ¨å£°æ˜å®ƒçš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—ä¸­å¯è§ã€‚</td><td>å®ä¾‹å˜é‡å¯¹äºç±»ä¸­çš„æ–¹æ³•ã€æ„é€ æ–¹æ³•æˆ–è€…è¯­å¥å—æ˜¯å¯è§çš„ã€‚ä¸€èˆ¬æƒ…å†µä¸‹åº”è¯¥æŠŠå®ä¾‹å˜é‡è®¾ä¸ºç§æœ‰ã€‚é€šè¿‡ä½¿ç”¨è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä½¿å®ä¾‹å˜é‡å¯¹å­ç±»å¯è§ã€‚</td><td>ä¸å®ä¾‹å˜é‡å…·æœ‰ç›¸ä¼¼çš„å¯è§æ€§ã€‚ä½†ä¸ºäº†å¯¹ç±»çš„ä½¿ç”¨è€…å¯è§ï¼Œå¤§å¤šæ•°é™æ€å˜é‡å£°æ˜ä¸º public ç±»å‹ã€‚</td></tr><tr><td></td><td>å®ä¾‹å˜é‡å¯ä»¥ç›´æ¥é€šè¿‡å˜é‡åè®¿é—®ã€‚ä½†åœ¨é™æ€æ–¹æ³•ä»¥åŠå…¶ä»–ç±»ä¸­ï¼Œå°±åº”è¯¥ä½¿ç”¨å®Œå…¨é™å®šåï¼šObejectReference.VariableNameã€‚</td><td>é™æ€å˜é‡å¯ä»¥é€šè¿‡ï¼šClassName.VariableName çš„æ–¹å¼è®¿é—®ã€‚</td></tr><tr><td></td><td></td><td>æ— è®ºä¸€ä¸ªç±»åˆ›å»ºäº†å¤šå°‘ä¸ªå¯¹è±¡ï¼Œç±»åªæ‹¥æœ‰ç±»å˜é‡çš„ä¸€ä»½æ‹·è´ã€‚</td></tr><tr><td></td><td></td><td>ç±»å˜é‡é™¤äº†è¢«å£°æ˜ä¸ºå¸¸é‡å¤–å¾ˆå°‘ä½¿ç”¨ã€‚</td></tr></tbody></table><h3 id="å˜é‡ä¿®é¥°ç¬¦"><a class="markdownIt-Anchor" href="#å˜é‡ä¿®é¥°ç¬¦"></a> å˜é‡ä¿®é¥°ç¬¦</h3><ul><li>è®¿é—®çº§åˆ«ä¿®é¥°ç¬¦<ul><li>å¦‚æœå˜é‡æ˜¯å®ä¾‹å˜é‡æˆ–ç±»å˜é‡ï¼Œå¯ä»¥æ·»åŠ è®¿é—®çº§åˆ«ä¿®é¥°ç¬¦ï¼ˆpublic/protected/privateï¼‰</li></ul></li><li>é™æ€ä¿®é¥°ç¬¦<ul><li>å¦‚æœå˜é‡æ˜¯ç±»å˜é‡ï¼Œéœ€è¦æ·»åŠ  static ä¿®é¥°</li></ul></li><li>final<ul><li>å¦‚æœå˜é‡ä½¿ç”¨ fianl ä¿®é¥°ç¬¦ï¼Œå°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªå¸¸é‡ï¼Œä¸èƒ½è¢«ä¿®æ”¹ã€‚</li></ul></li></ul><h2 id="æ•°ç»„"><a class="markdownIt-Anchor" href="#æ•°ç»„"></a> æ•°ç»„</h2><div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/1552475700514.png"></div><p>ï¼ˆ1ï¼‰æ•°ç»„ç‰¹æ€§</p><ul><li><strong>Java ä¸­ï¼Œæ•°ç»„æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹ã€‚</strong></li><li><strong>Java ä¸­ï¼Œæ•°ç»„æ˜¯ç”¨æ¥å­˜å‚¨å›ºå®šå¤§å°çš„åŒç±»å‹å…ƒç´ ã€‚</strong></li><li><strong>æ•°ç»„çš„å®šä¹‰å’Œä½¿ç”¨éœ€è¦é€šè¿‡æ–¹æ‹¬å· <code>[]</code>ã€‚</strong></li></ul><p>ï¼ˆ2ï¼‰æ•°ç»„å’Œå®¹å™¨</p><ul><li><p>å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåº”è¯¥é€‰æ‹©å®¹å™¨å­˜å‚¨æ•°æ®ã€‚</p></li><li><p><strong>æ•°ç»„çš„æ•ˆç‡è¦é«˜äºå®¹å™¨</strong></p></li><li><p><strong>æ•°ç»„å¯ä»¥æŒæœ‰å€¼ç±»å‹ï¼Œè€Œå®¹å™¨åˆ™ä¸èƒ½</strong></p></li></ul><p>ï¼ˆ3ï¼‰<strong>Java æ•°ç»„çš„æœ¬è´¨æ˜¯å¯¹è±¡</strong>ã€‚</p><p>ï¼ˆ4ï¼‰Java æ•°ç»„å’Œå†…å­˜</p><ul><li>æ•°ç»„å¯¹è±¡ï¼ˆæ•°ç»„æŒ‡é’ˆï¼‰å­˜å‚¨åœ¨æ ˆä¸­ã€‚</li><li>æ•°ç»„å…ƒç´ å€¼å­˜å‚¨åœ¨å †ä¸­ã€‚</li></ul><p>ï¼ˆ5ï¼‰å£°æ˜æ•°ç»„æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr1; <span class="comment">// æ¨èé£æ ¼</span></span><br><span class="line"><span class="keyword">int</span> arr2[]; <span class="comment">// æ•ˆæœç›¸åŒ</span></span><br></pre></td></tr></table></figure><p>ï¼ˆ6ï¼‰åˆ›å»ºæ•°ç»„æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array1 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>]; <span class="comment">// æŒ‡å®šæ•°ç»„ç»´åº¦</span></span><br><span class="line"><span class="keyword">int</span>[] array2 = <span class="keyword">new</span> <span class="keyword">int</span>[] &#123; <span class="number">1</span>, <span class="number">2</span> &#125;; <span class="comment">// ä¸æŒ‡å®šæ•°ç»„ç»´åº¦</span></span><br></pre></td></tr></table></figure><p><strong>Java æ•°ç»„çš„æ•°ç»„ç»´åº¦å¯ä»¥æ˜¯å¸¸é‡ã€å˜é‡ã€è¡¨è¾¾å¼ï¼Œåªè¦è½¬æ¢ä¸ºæ•´æ•°å³å¯</strong>ã€‚</p><p><strong>æ•°ç»„è¿‡å¤§ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ ˆæº¢å‡º</strong>ã€‚è¶…è¿‡ä¸€å®šæ•°å€¼ï¼Œç”šè‡³ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ã€‚</p><p>ï¼ˆ7ï¼‰<strong>Java ä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨ <code>[]</code> ä¸­æŒ‡å®šä¸‹æ ‡ï¼Œè®¿é—®æ•°ç»„å…ƒç´ ï¼Œä¸‹æ ‡ä½ç½®ä» 0 å¼€å§‹ã€‚</strong></p><p>ï¼ˆ8ï¼‰æ•°ç»„å¯ä»¥ä½œä¸ºå‡½æ•°çš„å…¥å‚æˆ–è¿”å›å€¼ã€‚</p><p>ï¼ˆ9ï¼‰å¤šç»´æ•°ç»„å¯è§†ä¸ºæ•°ç»„çš„æ•°ç»„ã€‚</p><p>ï¼ˆ10ï¼‰Arrays ç±»æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æ•°ç»„å·¥å…·ç±»ã€‚</p><blockquote><p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/blog/blob/master/source/_posts/programming/java/javacore/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E6%95%B0%E7%BB%84.md" target="_blank" rel="noopener">æ·±å…¥ç†è§£ Java æ•°ç»„</a></p></blockquote><h2 id="æ“ä½œç¬¦"><a class="markdownIt-Anchor" href="#æ“ä½œç¬¦"></a> æ“ä½œç¬¦</h2><p>Java ä¸­æ”¯æŒçš„æ“ä½œç¬¦ç±»å‹å¦‚ä¸‹ï¼š</p><p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/images/master/snap/1552382318465.png"></div><br></p><blockquote><p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="http://www.runoob.com/java/java-operators.html" target="_blank" rel="noopener">Java è¿ç®—ç¬¦</a></p></blockquote><h2 id="æ§åˆ¶è¯­å¥"><a class="markdownIt-Anchor" href="#æ§åˆ¶è¯­å¥"></a> æ§åˆ¶è¯­å¥</h2><p>Java ä¸­æ§åˆ¶è¯­å¥åˆ†ä¸ºä¸‰å¤§ç±»ï¼šå¾ªç¯è¯­å¥ã€é€‰æ‹©è¯­å¥ã€ä¸­æ–­è¯­å¥</p><ul><li>å¾ªç¯<ul><li><code>while</code> - åªè¦æ¡ä»¶æˆç«‹ï¼Œåˆ™ä¸€ç›´å¾ªç¯ã€‚</li><li><code>do...while</code> - doâ€¦while å¾ªç¯å’Œ while å¾ªç¯ç›¸ä¼¼ï¼Œä¸åŒçš„æ˜¯ï¼Œdoâ€¦while å¾ªç¯è‡³å°‘ä¼šæ‰§è¡Œä¸€æ¬¡ã€‚</li><li><code>for</code> - æœ€å…ˆæ‰§è¡Œåˆå§‹åŒ–æ­¥éª¤ã€‚å¯ä»¥å£°æ˜ä¸€ç§ç±»å‹ï¼Œä½†å¯åˆå§‹åŒ–ä¸€ä¸ªæˆ–å¤šä¸ªå¾ªç¯æ§åˆ¶å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ç©ºè¯­å¥ã€‚ç„¶åï¼Œæ£€æµ‹å¸ƒå°”è¡¨è¾¾å¼çš„å€¼ã€‚å¦‚æœä¸º trueï¼Œå¾ªç¯ä½“è¢«æ‰§è¡Œã€‚å¦‚æœä¸º falseï¼Œå¾ªç¯ç»ˆæ­¢ï¼Œå¼€å§‹æ‰§è¡Œå¾ªç¯ä½“åé¢çš„è¯­å¥ã€‚æ‰§è¡Œä¸€æ¬¡å¾ªç¯åï¼Œæ›´æ–°å¾ªç¯æ§åˆ¶å˜é‡ã€‚å†æ¬¡æ£€æµ‹å¸ƒå°”è¡¨è¾¾å¼ã€‚å¾ªç¯æ‰§è¡Œä¸Šé¢çš„è¿‡ç¨‹ã€‚</li><li><code>foreach</code> - å£°æ˜æ–°çš„å±€éƒ¨å˜é‡ï¼Œè¯¥å˜é‡çš„ç±»å‹å¿…é¡»å’Œæ•°ç»„å…ƒç´ çš„ç±»å‹åŒ¹é…ã€‚å…¶ä½œç”¨åŸŸé™å®šåœ¨å¾ªç¯è¯­å¥å—ï¼Œå…¶å€¼ä¸æ­¤æ—¶æ•°ç»„å…ƒç´ çš„å€¼ç›¸ç­‰ã€‚</li></ul></li><li>é€‰æ‹©<ul><li><code>if...else-if...else</code> - if è¯­å¥è‡³å¤šæœ‰ 1 ä¸ª else è¯­å¥ï¼Œelse è¯­å¥åœ¨æ‰€æœ‰çš„ elseif è¯­å¥ä¹‹åã€‚if è¯­å¥å¯ä»¥æœ‰è‹¥å¹²ä¸ª else if è¯­å¥ï¼Œå®ƒä»¬å¿…é¡»åœ¨ else è¯­å¥ä¹‹å‰ã€‚ä¸€æ—¦å…¶ä¸­ä¸€ä¸ª else if è¯­å¥æ£€æµ‹ä¸º trueï¼Œå…¶ä»–çš„ else if ä»¥åŠ else è¯­å¥éƒ½å°†è·³è¿‡æ‰§è¡Œã€‚</li><li><code>switch</code> - åˆ¤æ–­ä¸€ä¸ªå˜é‡ä¸ä¸€ç³»åˆ—å€¼ä¸­æŸä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œæ¯ä¸ªå€¼ç§°ä¸ºä¸€ä¸ªåˆ†æ”¯ã€‚</li></ul></li><li>ä¸­æ–­<ul><li><code>break</code> - è·³å‡ºå¾ªç¯ä½“ï¼Œç»§ç»­æ‰§è¡Œå¾ªç¯å¤–çš„å‡½æ•°ä½“ã€‚</li><li><code>continue</code> - è·³å‡ºæœ¬æ¬¡å¾ªç¯ç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯ã€‚</li><li><code>return</code> - è·³å‡ºæ•´ä¸ªå‡½æ•°ä½“ï¼Œå‡½æ•°ä½“åé¢çš„éƒ¨åˆ†ä¸å†æ‰§è¡Œã€‚</li></ul></li></ul><blockquote><p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/blog/blob/master/source/_posts/programming/java/javacore/Java%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5.md" target="_blank" rel="noopener">Java æ§åˆ¶è¯­å¥</a></p></blockquote><h2 id="å¼‚å¸¸"><a class="markdownIt-Anchor" href="#å¼‚å¸¸"></a> å¼‚å¸¸</h2><p>ï¼ˆ1ï¼‰<strong><code>Throwable</code> æ˜¯ Java è¯­è¨€ä¸­æ‰€æœ‰é”™è¯¯ï¼ˆ<code>Error</code>ï¼‰å’Œå¼‚å¸¸ï¼ˆ<code>Exception</code>ï¼‰çš„è¶…ç±»ã€‚</strong></p><p>ï¼ˆ2ï¼‰<code>Error</code> æ˜¯ <code>Throwable</code> çš„ä¸€ä¸ªå­ç±»ã€‚**<code>Error</code> è¡¨ç¤ºåˆç†çš„åº”ç”¨ç¨‹åºä¸åº”è¯¥å°è¯•æ•è·çš„ä¸¥é‡é—®é¢˜ã€‚**å¤§å¤šæ•°æ­¤ç±»é”™è¯¯éƒ½æ˜¯å¼‚å¸¸æƒ…å†µã€‚<strong>ç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥ <code>Error</code>ã€‚</strong></p><p>ï¼ˆ3ï¼‰<code>Exception</code> æ˜¯ <code>Throwable</code> çš„ä¸€ä¸ªå­ç±»ã€‚**<code>Exception</code> è¡¨ç¤ºåˆç†çš„åº”ç”¨ç¨‹åºå¯èƒ½æƒ³è¦æ•è·çš„æ¡ä»¶ã€‚ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ <code>Exception</code> å¼‚å¸¸ã€‚**æ­¤ç±»å¼‚å¸¸ï¼Œè¦ä¹ˆé€šè¿‡ <code>throws</code> è¿›è¡Œå£°æ˜æŠ›å‡ºï¼Œè¦ä¹ˆé€šè¿‡ <code>try catch</code> è¿›è¡Œæ•è·å¤„ç†ï¼Œå¦åˆ™ä¸èƒ½é€šè¿‡ç¼–è¯‘ã€‚</p><p>ï¼ˆ4ï¼‰<code>RuntimeException</code> æ˜¯ <code>Exception</code> çš„ä¸€ä¸ªå­ç±»ã€‚<code>RuntimeException</code> æ˜¯é‚£äº›å¯èƒ½åœ¨ Java è™šæ‹Ÿæœºæ­£å¸¸è¿è¡ŒæœŸé—´æŠ›å‡ºçš„å¼‚å¸¸çš„è¶…ç±»ã€‚**ç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥ <code>RuntimeException</code> å¼‚å¸¸ã€‚**å½“ç¨‹åºä¸­å¯èƒ½å‡ºç°è¿™ç±»å¼‚å¸¸æ—¶ï¼Œå€˜è‹¥æ—¢æ²¡æœ‰é€šè¿‡ <code>throws</code> å£°æ˜æŠ›å‡ºå®ƒï¼Œä¹Ÿæ²¡æœ‰ç”¨ <code>try catch</code> è¯­å¥æ•è·å®ƒï¼Œç¨‹åºè¿˜æ˜¯ä¼šç¼–è¯‘é€šè¿‡ã€‚</p><p>ï¼ˆ5ï¼‰<strong>è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸ç±»ï¼Œåªéœ€è¦ç»§æ‰¿ <code>Exception</code> æˆ– <code>RuntimeException</code> å³å¯ã€‚</strong></p><p>ï¼ˆ6ï¼‰å¦‚æœæƒ³åœ¨ç¨‹åºä¸­æ˜ç¡®åœ°å¼•å‘å¼‚å¸¸ï¼Œåˆ™éœ€è¦ç”¨åˆ° <code>throw</code> å’Œ <code>throws</code> ã€‚</p><p>ï¼ˆ7ï¼‰<strong>ä½¿ç”¨ try å’Œ catch å…³é”®å­—å¯ä»¥æ•è·å¼‚å¸¸ã€‚</strong></p><ul><li><code>try</code> - <strong><code>try</code> è¯­å¥ç”¨äºç›‘å¬ã€‚å°†è¦è¢«ç›‘å¬çš„ä»£ç (å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç )æ”¾åœ¨ <code>try</code> è¯­å¥å—ä¹‹å†…ï¼Œå½“ <code>try</code> è¯­å¥å—å†…å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œå¼‚å¸¸å°±è¢«æŠ›å‡ºã€‚</strong></li><li><code>catch</code> - <code>catch</code> è¯­å¥åŒ…å«è¦æ•è·å¼‚å¸¸ç±»å‹çš„å£°æ˜ã€‚å½“ä¿æŠ¤ä»£ç å—ä¸­å‘ç”Ÿä¸€ä¸ªå¼‚å¸¸æ—¶ï¼Œ<code>try</code> åé¢çš„ <code>catch</code> å—å°±ä¼šè¢«æ£€æŸ¥ã€‚</li><li><code>finally</code> - <strong><code>finally</code> è¯­å¥å—æ€»æ˜¯ä¼šè¢«æ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦å‡ºç°å¼‚å¸¸ã€‚</strong><code>try catch</code> è¯­å¥åä¸ä¸€å®šéè¦<code>finally</code> è¯­å¥ã€‚<code>finally</code> å¸¸ç”¨äºè¿™æ ·çš„åœºæ™¯ï¼šç”±äº<code>finally</code> è¯­å¥å—æ€»æ˜¯ä¼šè¢«æ‰§è¡Œï¼Œæ‰€ä»¥é‚£äº›åœ¨ <code>try</code> ä»£ç å—ä¸­æ‰“å¼€çš„ï¼Œå¹¶ä¸”å¿…é¡»å›æ”¶çš„ç‰©ç†èµ„æº(å¦‚æ•°æ®åº“è¿æ¥ã€ç½‘ç»œè¿æ¥å’Œæ–‡ä»¶)ï¼Œä¸€èˆ¬ä¼šæ”¾åœ¨<code>finally</code> è¯­å¥å—ä¸­é‡Šæ”¾èµ„æºã€‚</li></ul><blockquote><p>ğŸ‘‰ æ‰©å±•é˜…è¯»ï¼š<a href="https://github.com/dunwu/blog/blob/master/source/_posts/programming/java/javacore/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Java%E5%BC%82%E5%B8%B8.md" target="_blank" rel="noopener">æ·±å…¥ç†è§£ Java å¼‚å¸¸</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;java-åŸºç¡€è¯­æ³•ç‰¹æ€§&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#java-åŸºç¡€è¯­æ³•ç‰¹æ€§&quot;&gt;&lt;/a&gt; Java åŸºç¡€è¯­æ³•ç‰¹æ€§&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ““ æœ¬æ–‡å·²å½’æ¡£åˆ°ï¼šã€Œ&lt;a href=&quot;https://gith
      
    
    </summary>
    
      <category term="java" scheme="https://dunwu.github.io/categories/java/"/>
    
      <category term="javacore" scheme="https://dunwu.github.io/categories/java/javacore/"/>
    
    
      <category term="java" scheme="https://dunwu.github.io/tags/java/"/>
    
      <category term="javacore" scheme="https://dunwu.github.io/tags/javacore/"/>
    
      <category term="basics" scheme="https://dunwu.github.io/tags/basics/"/>
    
  </entry>
  
  <entry>
    <title>Title</title>
    <link href="https://dunwu.github.io/2019/03/08/design/architecture/README/"/>
    <id>https://dunwu.github.io/2019/03/08/design/architecture/README/</id>
    <published>2019-03-08T05:16:53.000Z</published>
    <updated>2019-03-26T15:47:26.425Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ¶æ„è®¾è®¡"><a class="markdownIt-Anchor" href="#æ¶æ„è®¾è®¡"></a> æ¶æ„è®¾è®¡</h1><p>æ¶æ„è®¾è®¡æ˜¯ä¸ºä¸šåŠ¡æœåŠ¡ï¼Œ<strong>è„±ç¦»ä¸šåŠ¡å®é™…çš„æ¶æ„è®¾è®¡éƒ½æ˜¯çº¸ä¸Šè°ˆå…µ</strong>ã€‚</p><p>æ¶æ„è®¾è®¡éœ€è¦æ ¹æ®æ¶æ„å¸ˆè‡ªèº«çš„ç»éªŒï¼Œåœ¨å®ç°ä¸šåŠ¡åŠŸèƒ½ã€æ€§èƒ½ã€æ‰©å±•æ€§ã€ç³»ç»Ÿå¤æ‚åº¦ç­‰ç»´åº¦ä¸Šç»¼åˆè€ƒé‡ä»¥åŠæƒè¡¡ã€‚è€Œæ¶æ„è®¾è®¡çš„ç»éªŒéœ€è¦æ¶æ„å¸ˆä¸æ–­çš„å­¦ä¹ ã€ä¸æ–­çš„ç§¯ç´¯ã€‚æ€§èƒ½ã€æ‰©å±•æ€§ã€ç³»ç»Ÿå¤æ‚åº¦ç­‰æ–¹é¢æœ‰å¾ˆå¤šä¸ªä¸“é¢˜ï¼Œæœ‰å¿…è¦é’ˆå¯¹æ¯ä¸ªä¸“é¢˜ç”±æµ…å…¥æ·±çš„å»ç†è§£ã€æŒæ¡ã€‚</p><h2 id="ä¸“é¢˜"><a class="markdownIt-Anchor" href="#ä¸“é¢˜"></a> ä¸“é¢˜</h2><h2 id="å¦‚ä½•è®¾è®¡"><a class="markdownIt-Anchor" href="#å¦‚ä½•è®¾è®¡"></a> å¦‚ä½•è®¾è®¡</h2><h3 id="ç¬¬ä¸€æ­¥éœ€æ±‚åˆ†æ"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€æ­¥éœ€æ±‚åˆ†æ"></a> ç¬¬ä¸€æ­¥ï¼šéœ€æ±‚åˆ†æ</h3><p>éœ€æ±‚åˆ†æé˜¶æ®µï¼Œè¦åšçš„å°±æ˜¯<strong>åˆ†æä½¿ç”¨åœºæ™¯ï¼Œçº¦æŸå’Œå‡è®¾</strong>ã€‚</p><p>è¿™ä¸ªé˜¶æ®µï¼Œåº”è¯¥ä»¥å®¡è§†çš„è§’åº¦ï¼Œä¸æ–­æé—®ã€æ±‚è¯ï¼Œä»¥æŒ–æ˜ç”¨æˆ·çœŸå®çš„éœ€æ±‚ã€‚</p><ul><li>ç³»ç»Ÿæ˜¯ä»€ä¹ˆï¼Ÿç³»ç»Ÿæœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ</li><li>è°æ˜¯ç³»ç»Ÿçš„ç”¨æˆ·ç¾¤ä½“ï¼Ÿç”¨æˆ·ç¾¤ä½“çš„è§„æ¨¡æ˜¯å¤šå¤§ï¼Ÿ</li><li>ç³»ç»Ÿçš„è¾“å…¥è¾“å‡ºåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</li><li>ç³»ç»Ÿå¸Œæœ›å¤„ç†å¤šå°‘æ•°æ®ï¼Ÿ</li><li>ç³»ç»Ÿå¸Œæœ›æ¯ç§’é’Ÿå¤„ç†å¤šå°‘è¯·æ±‚ï¼Ÿ</li><li>ç³»ç»Ÿå¸Œæœ›çš„è¯»å†™æ¯”ç‡ï¼Ÿ</li></ul><h3 id="ç¬¬äºŒæ­¥æ¦‚è¦è®¾è®¡"><a class="markdownIt-Anchor" href="#ç¬¬äºŒæ­¥æ¦‚è¦è®¾è®¡"></a> ç¬¬äºŒæ­¥ï¼šæ¦‚è¦è®¾è®¡</h3><p>åˆ›é€ ä¸€ä¸ªé«˜å±‚çº§çš„è®¾è®¡</p><h3 id="ç¬¬ä¸‰æ­¥è¯¦ç»†è®¾è®¡"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰æ­¥è¯¦ç»†è®¾è®¡"></a> ç¬¬ä¸‰æ­¥ï¼šè¯¦ç»†è®¾è®¡</h3><ul><li>æ•°æ®åº“é€‰å‹ï¼šSQL è¿˜æ˜¯ NOSQL</li><li>æ•°æ®åº“æ¨¡å‹</li><li>API å’Œé¢å‘å¯¹è±¡è®¾è®¡</li></ul><h3 id="ç¬¬å››æ­¥æ‰©å±•è®¾è®¡"><a class="markdownIt-Anchor" href="#ç¬¬å››æ­¥æ‰©å±•è®¾è®¡"></a> ç¬¬å››æ­¥ï¼šæ‰©å±•è®¾è®¡</h3><ul><li>è´Ÿè½½å‡è¡¡</li><li>æ°´å¹³æ‰©å±•</li><li>ç¼“å­˜</li><li>æ•°æ®åº“åˆ†ç‰‡</li><li>æ¶ˆæ¯é˜Ÿåˆ—</li></ul><h2 id="æ‰©å±•é˜…è¯»"><a class="markdownIt-Anchor" href="#æ‰©å±•é˜…è¯»"></a> æ‰©å±•é˜…è¯»</h2><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2><ul><li>æ–‡ç« <ul><li><a href="https://github.com/donnemartin/system-design-primer/blob/master/README-zh-Hans.md" target="_blank" rel="noopener">ç³»ç»Ÿè®¾è®¡å…¥é—¨</a></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ¶æ„è®¾è®¡&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ¶æ„è®¾è®¡&quot;&gt;&lt;/a&gt; æ¶æ„è®¾è®¡&lt;/h1&gt;
&lt;p&gt;æ¶æ„è®¾è®¡æ˜¯ä¸ºä¸šåŠ¡æœåŠ¡ï¼Œ&lt;strong&gt;è„±ç¦»ä¸šåŠ¡å®é™…çš„æ¶æ„è®¾è®¡éƒ½æ˜¯çº¸ä¸Šè°ˆå…µ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¶æ„è®¾è®¡éœ€è¦æ ¹æ®æ¶æ„å¸ˆè‡ª
      
    
    </summary>
    
      <category term="design" scheme="https://dunwu.github.io/categories/design/"/>
    
      <category term="architecture" scheme="https://dunwu.github.io/categories/design/architecture/"/>
    
    
      <category term="design" scheme="https://dunwu.github.io/tags/design/"/>
    
      <category term="architecture" scheme="https://dunwu.github.io/tags/architecture/"/>
    
  </entry>
  
  <entry>
    <title>åˆ†å¸ƒå¼æŠ€æœ¯é¢è¯•é¢˜</title>
    <link href="https://dunwu.github.io/2019/03/08/design/architecture/%E5%88%86%E5%B8%83%E5%BC%8F%E6%8A%80%E6%9C%AF%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
    <id>https://dunwu.github.io/2019/03/08/design/architecture/åˆ†å¸ƒå¼æŠ€æœ¯é¢è¯•é¢˜/</id>
    <published>2019-03-08T03:35:31.770Z</published>
    <updated>2019-03-26T15:47:26.480Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åˆ†å¸ƒå¼æŠ€æœ¯é¢è¯•é¢˜"><a class="markdownIt-Anchor" href="#åˆ†å¸ƒå¼æŠ€æœ¯é¢è¯•é¢˜"></a> åˆ†å¸ƒå¼æŠ€æœ¯é¢è¯•é¢˜</h1><!-- TOC depthFrom:2 depthTo:3 --><ul><li><a href="#1-%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98">1. åˆ†å¸ƒå¼ç¼“å­˜</a><ul><li><a href="#11-redis-%E6%9C%89%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%88%86%E5%88%AB%E7%94%A8%E4%BA%8E%E4%BB%80%E4%B9%88%E5%9C%BA%E6%99%AF">1.1. Redis æœ‰ä»€ä¹ˆæ•°æ®ç±»å‹ï¼Ÿåˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ</a></li><li><a href="#12-redis-%E7%9A%84%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84">1.2. Redis çš„ä¸»ä»å¤åˆ¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</a></li><li><a href="#13-redis-%E7%9A%84-key-%E6%98%AF%E5%A6%82%E4%BD%95%E5%AF%BB%E5%9D%80%E7%9A%84">1.3. Redis çš„ key æ˜¯å¦‚ä½•å¯»å€çš„ï¼Ÿ</a></li><li><a href="#14-redis-%E7%9A%84%E9%9B%86%E7%BE%A4%E6%A8%A1%E5%BC%8F%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84">1.4. Redis çš„é›†ç¾¤æ¨¡å¼æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</a></li><li><a href="#15-redis-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81zookeeper-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E6%AF%94%E8%BE%83%E4%BA%8C%E8%80%85%E4%BC%98%E5%8A%A3">1.5. Redis å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”ï¼ŸZooKeeper å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”ï¼Ÿæ¯”è¾ƒäºŒè€…ä¼˜åŠ£ï¼Ÿ</a></li><li><a href="#16-redis-%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96%E6%96%B9%E5%BC%8F%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%BC%BA%E7%82%B9%E6%8C%81%E4%B9%85%E5%8C%96%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86">1.6. Redis çš„æŒä¹…åŒ–æ–¹å¼ï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼ŸæŒä¹…åŒ–å®ç°åŸç†ï¼Ÿ</a></li><li><a href="#17-redis-%E8%BF%87%E6%9C%9F%E7%AD%96%E7%95%A5%E6%9C%89%E5%93%AA%E4%BA%9B">1.7. Redis è¿‡æœŸç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</a></li><li><a href="#18-redis-%E5%92%8C-memcached-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB">1.8. Redis å’Œ Memcached æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><li><a href="#19-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8D%95%E7%BA%BF%E7%A8%8B%E7%9A%84-redis-%E6%80%A7%E8%83%BD%E5%8F%8D%E8%80%8C%E4%BC%98%E4%BA%8E%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%9A%84-memcached">1.9. ä¸ºä»€ä¹ˆå•çº¿ç¨‹çš„ Redis æ€§èƒ½åè€Œä¼˜äºå¤šçº¿ç¨‹çš„ Memcachedï¼Ÿ</a></li></ul></li><li><a href="#2-%E5%88%86%E5%B8%83%E5%BC%8F%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97mq">2. åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰</a><ul><li><a href="#21-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8-mq">2.1. ä¸ºä»€ä¹ˆä½¿ç”¨ MQï¼Ÿ</a></li><li><a href="#22-%E5%A6%82%E4%BD%95%E4%BF%9D%E8%AF%81-mq-%E7%9A%84%E9%AB%98%E5%8F%AF%E7%94%A8">2.2. å¦‚ä½•ä¿è¯ MQ çš„é«˜å¯ç”¨ï¼Ÿ</a></li><li><a href="#23-mq-%E6%9C%89%E5%93%AA%E4%BA%9B%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E8%BF%99%E4%BA%9B%E9%97%AE%E9%A2%98">2.3. MQ æœ‰å“ªäº›å¸¸è§é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ï¼Ÿ</a></li><li><a href="#24-kafka-activemq-rabbitmq-rocketmq-%E5%90%84%E6%9C%89%E4%BB%80%E4%B9%88%E4%BC%98%E7%BC%BA%E7%82%B9">2.4. Kafka, ActiveMQ, RabbitMQ, RocketMQ å„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</a></li></ul></li><li><a href="#3-%E5%88%86%E5%B8%83%E5%BC%8F%E6%9C%8D%E5%8A%A1rpc">3. åˆ†å¸ƒå¼æœåŠ¡ï¼ˆRPCï¼‰</a><ul><li><a href="#31-dubbo-%E7%9A%84%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B">3.1. Dubbo çš„å®ç°è¿‡ç¨‹ï¼Ÿ</a></li><li><a href="#32-dubbo-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1%E7%AD%96%E7%95%A5%E6%9C%89%E5%93%AA%E4%BA%9B">3.2. Dubbo è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</a></li><li><a href="#33-dubbo-%E9%9B%86%E7%BE%A4%E5%AE%B9%E9%94%99%E7%AD%96%E7%95%A5-">3.3. Dubbo é›†ç¾¤å®¹é”™ç­–ç•¥ ï¼Ÿ</a></li><li><a href="#34-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E7%AD%96%E7%95%A5">3.4. åŠ¨æ€ä»£ç†ç­–ç•¥ï¼Ÿ</a></li><li><a href="#35-dubbo-%E6%94%AF%E6%8C%81%E5%93%AA%E4%BA%9B%E5%BA%8F%E5%88%97%E5%8C%96%E5%8D%8F%E8%AE%AEhessianhessian-%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">3.5. Dubbo æ”¯æŒå“ªäº›åºåˆ—åŒ–åè®®ï¼ŸHessianï¼ŸHessian çš„æ•°æ®ç»“æ„ï¼Ÿ</a></li><li><a href="#36-protoco-buffer-%E6%98%AF%E4%BB%80%E4%B9%88">3.6. Protoco Buffer æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><li><a href="#37-%E6%B3%A8%E5%86%8C%E4%B8%AD%E5%BF%83%E6%8C%82%E4%BA%86%E5%8F%AF%E4%BB%A5%E7%BB%A7%E7%BB%AD%E9%80%9A%E4%BF%A1%E5%90%97">3.7. æ³¨å†Œä¸­å¿ƒæŒ‚äº†å¯ä»¥ç»§ç»­é€šä¿¡å—ï¼Ÿ</a></li><li><a href="#38-zookeeper-%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88zookeeper-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8">3.8. ZooKeeper åŸç†æ˜¯ä»€ä¹ˆï¼ŸZooKeeper æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</a></li><li><a href="#39-netty-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8niobioaio-%E6%9C%89%E4%BB%80%E4%B9%88%E7%94%A8%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB">3.9. Netty æœ‰ä»€ä¹ˆç”¨ï¼ŸNIO/BIO/AIO æœ‰ä»€ä¹ˆç”¨ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><li><a href="#310-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E8%BF%9B%E8%A1%8C%E7%B3%BB%E7%BB%9F%E6%8B%86%E5%88%86%E6%8B%86%E5%88%86%E4%B8%8D%E7%94%A8-dubbo-%E5%8F%AF%E4%BB%A5%E5%90%97">3.10. ä¸ºä»€ä¹ˆè¦è¿›è¡Œç³»ç»Ÿæ‹†åˆ†ï¼Ÿæ‹†åˆ†ä¸ç”¨ Dubbo å¯ä»¥å—ï¼Ÿ</a></li><li><a href="#311-dubbo-%E5%92%8C-thrift-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB">3.11. Dubbo å’Œ Thrift æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li></ul></li></ul><!-- /TOC --><h2 id="1-åˆ†å¸ƒå¼ç¼“å­˜"><a class="markdownIt-Anchor" href="#1-åˆ†å¸ƒå¼ç¼“å­˜"></a> 1. åˆ†å¸ƒå¼ç¼“å­˜</h2><h3 id="11-redis-æœ‰ä»€ä¹ˆæ•°æ®ç±»å‹åˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯"><a class="markdownIt-Anchor" href="#11-redis-æœ‰ä»€ä¹ˆæ•°æ®ç±»å‹åˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯"></a> 1.1. Redis æœ‰ä»€ä¹ˆæ•°æ®ç±»å‹ï¼Ÿåˆ†åˆ«ç”¨äºä»€ä¹ˆåœºæ™¯ï¼Ÿ</h3><table><thead><tr><th>æ•°æ®ç±»å‹</th><th>å¯ä»¥å­˜å‚¨çš„å€¼</th><th>æ“ä½œ</th></tr></thead><tbody><tr><td>STRING</td><td>å­—ç¬¦ä¸²ã€æ•´æ•°æˆ–è€…æµ®ç‚¹æ•°</td><td>å¯¹æ•´ä¸ªå­—ç¬¦ä¸²æˆ–è€…å­—ç¬¦ä¸²çš„å…¶ä¸­ä¸€éƒ¨åˆ†æ‰§è¡Œæ“ä½œ<br> å¯¹æ•´æ•°å’Œæµ®ç‚¹æ•°æ‰§è¡Œè‡ªå¢æˆ–è€…è‡ªå‡æ“ä½œ</td></tr><tr><td>LIST</td><td>åˆ—è¡¨</td><td>ä»ä¸¤ç«¯å‹å…¥æˆ–è€…å¼¹å‡ºå…ƒç´ <br> è¯»å–å•ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ <br> è¿›è¡Œä¿®å‰ªï¼Œåªä¿ç•™ä¸€ä¸ªèŒƒå›´å†…çš„å…ƒç´ </td></tr><tr><td>SET</td><td>æ— åºé›†åˆ</td><td>æ·»åŠ ã€è·å–ã€ç§»é™¤å•ä¸ªå…ƒç´ <br> æ£€æŸ¥ä¸€ä¸ªå…ƒç´ æ˜¯å¦å­˜åœ¨äºé›†åˆä¸­<br> è®¡ç®—äº¤é›†ã€å¹¶é›†ã€å·®é›†<br> ä»é›†åˆé‡Œé¢éšæœºè·å–å…ƒç´ </td></tr><tr><td>HASH</td><td>åŒ…å«é”®å€¼å¯¹çš„æ— åºæ•£åˆ—è¡¨</td><td>æ·»åŠ ã€è·å–ã€ç§»é™¤å•ä¸ªé”®å€¼å¯¹<br> è·å–æ‰€æœ‰é”®å€¼å¯¹<br> æ£€æŸ¥æŸä¸ªé”®æ˜¯å¦å­˜åœ¨</td></tr><tr><td>ZSET</td><td>æœ‰åºé›†åˆ</td><td>æ·»åŠ ã€è·å–ã€åˆ é™¤å…ƒç´ <br> æ ¹æ®åˆ†å€¼èŒƒå›´æˆ–è€…æˆå‘˜æ¥è·å–å…ƒç´ <br> è®¡ç®—ä¸€ä¸ªé”®çš„æ’å</td></tr></tbody></table><blockquote><p><a href="https://redislabs.com/ebook/part-1-getting-started/chapter-1-getting-to-know-redis/1-2-what-redis-data-structures-look-like/" target="_blank" rel="noopener">What Redis data structures look like</a></p></blockquote><h3 id="12-redis-çš„ä¸»ä»å¤åˆ¶æ˜¯å¦‚ä½•å®ç°çš„"><a class="markdownIt-Anchor" href="#12-redis-çš„ä¸»ä»å¤åˆ¶æ˜¯å¦‚ä½•å®ç°çš„"></a> 1.2. Redis çš„ä¸»ä»å¤åˆ¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h3><ol><li>ä»æœåŠ¡å™¨è¿æ¥ä¸»æœåŠ¡å™¨ï¼Œå‘é€ SYNC å‘½ä»¤ï¼›</li><li>ä¸»æœåŠ¡å™¨æ¥æ”¶åˆ° SYNC å‘½ååï¼Œå¼€å§‹æ‰§è¡Œ BGSAVE å‘½ä»¤ç”Ÿæˆ RDB æ–‡ä»¶å¹¶ä½¿ç”¨ç¼“å†²åŒºè®°å½•æ­¤åæ‰§è¡Œçš„æ‰€æœ‰å†™å‘½ä»¤ï¼›</li><li>ä¸»æœåŠ¡å™¨ BGSAVE æ‰§è¡Œå®Œåï¼Œå‘æ‰€æœ‰ä»æœåŠ¡å™¨å‘é€å¿«ç…§æ–‡ä»¶ï¼Œå¹¶åœ¨å‘é€æœŸé—´ç»§ç»­è®°å½•è¢«æ‰§è¡Œçš„å†™å‘½ä»¤ï¼›</li><li>ä»æœåŠ¡å™¨æ”¶åˆ°å¿«ç…§æ–‡ä»¶åä¸¢å¼ƒæ‰€æœ‰æ—§æ•°æ®ï¼Œè½½å…¥æ”¶åˆ°çš„å¿«ç…§ï¼›</li><li>ä¸»æœåŠ¡å™¨å¿«ç…§å‘é€å®Œæ¯•åå¼€å§‹å‘ä»æœåŠ¡å™¨å‘é€ç¼“å†²åŒºä¸­çš„å†™å‘½ä»¤ï¼›</li><li>ä»æœåŠ¡å™¨å®Œæˆå¯¹å¿«ç…§çš„è½½å…¥ï¼Œå¼€å§‹æ¥æ”¶å‘½ä»¤è¯·æ±‚ï¼Œå¹¶æ‰§è¡Œæ¥è‡ªä¸»æœåŠ¡å™¨ç¼“å†²åŒºçš„å†™å‘½ä»¤ï¼›</li></ol><h3 id="13-redis-çš„-key-æ˜¯å¦‚ä½•å¯»å€çš„"><a class="markdownIt-Anchor" href="#13-redis-çš„-key-æ˜¯å¦‚ä½•å¯»å€çš„"></a> 1.3. Redis çš„ key æ˜¯å¦‚ä½•å¯»å€çš„ï¼Ÿ</h3><h4 id="èƒŒæ™¯"><a class="markdownIt-Anchor" href="#èƒŒæ™¯"></a> èƒŒæ™¯</h4><p>ï¼ˆ1ï¼‰redis ä¸­çš„æ¯ä¸€ä¸ªæ•°æ®åº“ï¼Œéƒ½ç”±ä¸€ä¸ª redisDb çš„ç»“æ„å­˜å‚¨ã€‚å…¶ä¸­ï¼š</p><ul><li><a href="http://redisDb.id" target="_blank" rel="noopener">redisDb.id</a> å­˜å‚¨ç€ redis æ•°æ®åº“ä»¥æ•´æ•°è¡¨ç¤ºçš„å·ç ã€‚</li><li>redisDb.dict å­˜å‚¨ç€è¯¥åº“æ‰€æœ‰çš„é”®å€¼å¯¹æ•°æ®ã€‚</li><li>redisDb.expires ä¿å­˜ç€æ¯ä¸€ä¸ªé”®çš„è¿‡æœŸæ—¶é—´ã€‚</li></ul><p>ï¼ˆ2ï¼‰å½“ redis æœåŠ¡å™¨åˆå§‹åŒ–æ—¶ï¼Œä¼šé¢„å…ˆåˆ†é… 16 ä¸ªæ•°æ®åº“ï¼ˆè¯¥æ•°é‡å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®ï¼‰ï¼Œæ‰€æœ‰æ•°æ®åº“ä¿å­˜åˆ°ç»“æ„ redisServer çš„ä¸€ä¸ªæˆå‘˜ redisServer.db æ•°ç»„ä¸­ã€‚å½“æˆ‘ä»¬é€‰æ‹©æ•°æ®åº“ select number æ—¶ï¼Œç¨‹åºç›´æ¥é€šè¿‡ redisServer.db[number] æ¥åˆ‡æ¢æ•°æ®åº“ã€‚æœ‰æ—¶å€™å½“ç¨‹åºéœ€è¦çŸ¥é“è‡ªå·±æ˜¯åœ¨å“ªä¸ªæ•°æ®åº“æ—¶ï¼Œç›´æ¥è¯»å– <a href="http://redisDb.id" target="_blank" rel="noopener">redisDb.id</a> å³å¯ã€‚</p><p>ï¼ˆ3ï¼‰redis çš„å­—å…¸ä½¿ç”¨å“ˆå¸Œè¡¨ä½œä¸ºå…¶åº•å±‚å®ç°ã€‚dict ç±»å‹ä½¿ç”¨çš„ä¸¤ä¸ªæŒ‡å‘å“ˆå¸Œè¡¨çš„æŒ‡é’ˆï¼Œå…¶ä¸­ 0 å·å“ˆå¸Œè¡¨ï¼ˆht[0]ï¼‰ä¸»è¦ç”¨äºå­˜å‚¨æ•°æ®åº“çš„æ‰€æœ‰é”®å€¼ï¼Œè€Œ 1 å·å“ˆå¸Œè¡¨ä¸»è¦ç”¨äºç¨‹åºå¯¹ 0 å·å“ˆå¸Œè¡¨è¿›è¡Œ rehash æ—¶ä½¿ç”¨ï¼Œrehash ä¸€èˆ¬æ˜¯åœ¨æ·»åŠ æ–°å€¼æ—¶ä¼šè§¦å‘ï¼Œè¿™é‡Œä¸åšè¿‡å¤šçš„èµ˜è¿°ã€‚æ‰€ä»¥ redis ä¸­æŸ¥æ‰¾ä¸€ä¸ª keyï¼Œå…¶å®å°±æ˜¯å¯¹è¿›è¡Œè¯¥ dict ç»“æ„ä¸­çš„ ht[0] è¿›è¡ŒæŸ¥æ‰¾æ“ä½œã€‚</p><p>ï¼ˆ4ï¼‰æ—¢ç„¶æ˜¯å“ˆå¸Œï¼Œé‚£ä¹ˆæˆ‘ä»¬çŸ¥é“å°±ä¼šæœ‰å“ˆå¸Œç¢°æ’ï¼Œé‚£ä¹ˆå½“å¤šä¸ªé”®å“ˆå¸Œä¹‹åä¸ºåŒä¸€ä¸ªå€¼æ€ä¹ˆåŠå‘¢ï¼Ÿredis é‡‡å–é“¾è¡¨çš„æ–¹å¼æ¥å­˜å‚¨å¤šä¸ªå“ˆå¸Œç¢°æ’çš„é”®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ ¹æ® key çš„å“ˆå¸Œå€¼æ‰¾åˆ°è¯¥åˆ—è¡¨åï¼Œå¦‚æœåˆ—è¡¨çš„é•¿åº¦å¤§äº 1ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦éå†è¯¥é“¾è¡¨æ¥æ‰¾åˆ°æˆ‘ä»¬æ‰€æŸ¥æ‰¾çš„ keyã€‚å½“ç„¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹é“¾è¡¨é•¿åº¦éƒ½ä¸ºæ˜¯ 1ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦å¯çœ‹ä½œ o(1)ã€‚</p><h4 id="å¯»å€-key-çš„æ­¥éª¤"><a class="markdownIt-Anchor" href="#å¯»å€-key-çš„æ­¥éª¤"></a> å¯»å€ key çš„æ­¥éª¤</h4><ol><li>å½“æ‹¿åˆ°ä¸€ä¸ª key åï¼Œredis å…ˆåˆ¤æ–­å½“å‰åº“çš„ 0 å·å“ˆå¸Œè¡¨æ˜¯å¦ä¸ºç©ºï¼Œå³ï¼šif (dict-&gt;ht[0].size == 0)ã€‚å¦‚æœä¸º true ç›´æ¥è¿”å› NULLã€‚</li><li>åˆ¤æ–­è¯¥ 0 å·å“ˆå¸Œè¡¨æ˜¯å¦éœ€è¦ rehashï¼Œå› ä¸ºå¦‚æœåœ¨è¿›è¡Œ rehashï¼Œé‚£ä¹ˆä¸¤ä¸ªè¡¨ä¸­è€…æœ‰å¯èƒ½å­˜å‚¨è¯¥ keyã€‚å¦‚æœæ­£åœ¨è¿›è¡Œ rehashï¼Œå°†è°ƒç”¨ä¸€æ¬¡_dictRehashStep æ–¹æ³•ï¼Œ_dictRehashStep ç”¨äºå¯¹æ•°æ®åº“å­—å…¸ã€ä»¥åŠå“ˆå¸Œé”®çš„å­—å…¸è¿›è¡Œè¢«åŠ¨ rehashï¼Œè¿™é‡Œä¸ä½œèµ˜è¿°ã€‚</li><li>è®¡ç®—å“ˆå¸Œè¡¨ï¼Œæ ¹æ®å½“å‰å­—å…¸ä¸ key è¿›è¡Œå“ˆå¸Œå€¼çš„è®¡ç®—ã€‚</li><li>æ ¹æ®å“ˆå¸Œå€¼ä¸å½“å‰å­—å…¸è®¡ç®—å“ˆå¸Œè¡¨çš„ç´¢å¼•å€¼ã€‚</li><li>æ ¹æ®ç´¢å¼•å€¼åœ¨å“ˆå¸Œè¡¨ä¸­å–å‡ºé“¾è¡¨ï¼Œéå†è¯¥é“¾è¡¨æ‰¾åˆ° key çš„ä½ç½®ã€‚ä¸€èˆ¬æƒ…å†µï¼Œè¯¥é“¾è¡¨é•¿åº¦ä¸º 1ã€‚</li><li>å½“ ht[0] æŸ¥æ‰¾å®Œäº†ä¹‹åï¼Œå†è¿›è¡Œäº†æ¬¡ rehash åˆ¤æ–­ï¼Œå¦‚æœæœªåœ¨ rehashingï¼Œåˆ™ç›´æ¥ç»“æŸï¼Œå¦åˆ™å¯¹ ht[1]é‡å¤ 345 æ­¥éª¤ã€‚</li></ol><h3 id="14-redis-çš„é›†ç¾¤æ¨¡å¼æ˜¯å¦‚ä½•å®ç°çš„"><a class="markdownIt-Anchor" href="#14-redis-çš„é›†ç¾¤æ¨¡å¼æ˜¯å¦‚ä½•å®ç°çš„"></a> 1.4. Redis çš„é›†ç¾¤æ¨¡å¼æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ</h3><p>Redis Cluster æ˜¯ Redis çš„åˆ†å¸ƒå¼è§£å†³æ–¹æ¡ˆï¼Œåœ¨ Redis 3.0 ç‰ˆæœ¬æ­£å¼æ¨å‡ºçš„ã€‚</p><p>Redis Cluster å»ä¸­å¿ƒåŒ–ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¿å­˜æ•°æ®å’Œæ•´ä¸ªé›†ç¾¤çŠ¶æ€ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½å’Œå…¶ä»–æ‰€æœ‰èŠ‚ç‚¹è¿æ¥ã€‚</p><h4 id="redis-cluster-èŠ‚ç‚¹åˆ†é…"><a class="markdownIt-Anchor" href="#redis-cluster-èŠ‚ç‚¹åˆ†é…"></a> Redis Cluster èŠ‚ç‚¹åˆ†é…</h4><p>Redis Cluster ç‰¹ç‚¹ï¼š</p><ol><li>æ‰€æœ‰çš„ redis èŠ‚ç‚¹å½¼æ­¤äº’è”(PING-PONG æœºåˆ¶)ï¼Œå†…éƒ¨ä½¿ç”¨äºŒè¿›åˆ¶åè®®ä¼˜åŒ–ä¼ è¾“é€Ÿåº¦å’Œå¸¦å®½ã€‚</li><li>èŠ‚ç‚¹çš„ fail æ˜¯é€šè¿‡é›†ç¾¤ä¸­è¶…è¿‡åŠæ•°çš„èŠ‚ç‚¹æ£€æµ‹å¤±æ•ˆæ—¶æ‰ç”Ÿæ•ˆã€‚</li><li>å®¢æˆ·ç«¯ä¸ redis èŠ‚ç‚¹ç›´è¿,ä¸éœ€è¦ä¸­é—´ proxy å±‚ã€‚å®¢æˆ·ç«¯ä¸éœ€è¦è¿æ¥é›†ç¾¤æ‰€æœ‰èŠ‚ç‚¹ï¼Œè¿æ¥é›†ç¾¤ä¸­ä»»ä½•ä¸€ä¸ªå¯ç”¨èŠ‚ç‚¹å³å¯ã€‚</li><li>redis-cluster æŠŠæ‰€æœ‰çš„ç‰©ç†èŠ‚ç‚¹æ˜ å°„åˆ°[0-16383] å“ˆå¸Œæ§½ (hash slot)ä¸Šï¼ˆä¸ä¸€å®šæ˜¯å¹³å‡åˆ†é…ï¼‰,cluster è´Ÿè´£ç»´æŠ¤ nodeã€slotã€valueã€‚</li><li>Redis é›†ç¾¤é¢„åˆ†å¥½ 16384 ä¸ªæ¡¶ï¼Œå½“éœ€è¦åœ¨ Redis é›†ç¾¤ä¸­æ”¾ç½®ä¸€ä¸ª key-value æ—¶ï¼Œæ ¹æ® CRC16(key) mod 16384 çš„å€¼ï¼Œå†³å®šå°†ä¸€ä¸ª key æ”¾åˆ°å“ªä¸ªæ¡¶ä¸­ã€‚</li></ol><h4 id="redis-cluster-ä¸»ä»æ¨¡å¼"><a class="markdownIt-Anchor" href="#redis-cluster-ä¸»ä»æ¨¡å¼"></a> Redis Cluster ä¸»ä»æ¨¡å¼</h4><p>Redis Cluster ä¸ºäº†ä¿è¯æ•°æ®çš„é«˜å¯ç”¨æ€§ï¼ŒåŠ å…¥äº†ä¸»ä»æ¨¡å¼ã€‚</p><p>ä¸€ä¸ªä¸»èŠ‚ç‚¹å¯¹åº”ä¸€ä¸ªæˆ–å¤šä¸ªä»èŠ‚ç‚¹ï¼Œä¸»èŠ‚ç‚¹æä¾›æ•°æ®å­˜å–ï¼Œä»èŠ‚ç‚¹åˆ™æ˜¯ä»ä¸»èŠ‚ç‚¹æ‹‰å–æ•°æ®å¤‡ä»½ã€‚å½“è¿™ä¸ªä¸»èŠ‚ç‚¹æŒ‚æ‰åï¼Œå°±ä¼šæœ‰è¿™ä¸ªä»èŠ‚ç‚¹é€‰å–ä¸€ä¸ªæ¥å……å½“ä¸»èŠ‚ç‚¹ï¼Œä»è€Œä¿è¯é›†ç¾¤ä¸ä¼šæŒ‚æ‰ã€‚æ‰€ä»¥ï¼Œåœ¨é›†ç¾¤å»ºç«‹çš„æ—¶å€™ï¼Œä¸€å®šè¦ä¸ºæ¯ä¸ªä¸»èŠ‚ç‚¹éƒ½æ·»åŠ äº†ä»èŠ‚ç‚¹ã€‚</p><h4 id="redis-sentinel"><a class="markdownIt-Anchor" href="#redis-sentinel"></a> Redis Sentinel</h4><p>Redis Sentinel ç”¨äºç®¡ç†å¤šä¸ª Redis æœåŠ¡å™¨ï¼Œå®ƒæœ‰ä¸‰ä¸ªåŠŸèƒ½ï¼š</p><ul><li><strong>ç›‘æ§ï¼ˆMonitoringï¼‰</strong> - Sentinel ä¼šä¸æ–­åœ°æ£€æŸ¥ä½ çš„ä¸»æœåŠ¡å™¨å’Œä»æœåŠ¡å™¨æ˜¯å¦è¿ä½œæ­£å¸¸ã€‚</li><li><strong>æé†’ï¼ˆNotificationï¼‰</strong> - å½“è¢«ç›‘æ§çš„æŸä¸ª Redis æœåŠ¡å™¨å‡ºç°é—®é¢˜æ—¶ï¼Œ Sentinel å¯ä»¥é€šè¿‡ API å‘ç®¡ç†å‘˜æˆ–è€…å…¶ä»–åº”ç”¨ç¨‹åºå‘é€é€šçŸ¥ã€‚</li><li><strong>è‡ªåŠ¨æ•…éšœè¿ç§»ï¼ˆAutomatic failoverï¼‰</strong> - å½“ä¸€ä¸ªä¸»æœåŠ¡å™¨ä¸èƒ½æ­£å¸¸å·¥ä½œæ—¶ï¼Œ Sentinel ä¼šå¼€å§‹ä¸€æ¬¡è‡ªåŠ¨æ•…éšœè¿ç§»æ“ä½œï¼Œ å®ƒä¼šå°†å¤±æ•ˆä¸»æœåŠ¡å™¨çš„å…¶ä¸­ä¸€ä¸ªä»æœåŠ¡å™¨å‡çº§ä¸ºæ–°çš„ä¸»æœåŠ¡å™¨ï¼Œ å¹¶è®©å¤±æ•ˆä¸»æœåŠ¡å™¨çš„å…¶ä»–ä»æœåŠ¡å™¨æ”¹ä¸ºå¤åˆ¶æ–°çš„ä¸»æœåŠ¡å™¨ï¼› å½“å®¢æˆ·ç«¯è¯•å›¾è¿æ¥å¤±æ•ˆçš„ä¸»æœåŠ¡å™¨æ—¶ï¼Œ é›†ç¾¤ä¹Ÿä¼šå‘å®¢æˆ·ç«¯è¿”å›æ–°ä¸»æœåŠ¡å™¨çš„åœ°å€ï¼Œ ä½¿å¾—é›†ç¾¤å¯ä»¥ä½¿ç”¨æ–°ä¸»æœåŠ¡å™¨ä»£æ›¿å¤±æ•ˆæœåŠ¡å™¨ã€‚</li></ul><p>Redis é›†ç¾¤ä¸­åº”è¯¥æœ‰å¥‡æ•°ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥è‡³å°‘æœ‰ä¸‰ä¸ªèŠ‚ç‚¹ã€‚</p><p>å“¨å…µç›‘æ§é›†ç¾¤ä¸­çš„ä¸»æœåŠ¡å™¨å‡ºç°æ•…éšœæ—¶ï¼Œéœ€è¦æ ¹æ® quorum é€‰ä¸¾å‡ºä¸€ä¸ªå“¨å…µæ¥æ‰§è¡Œæ•…éšœè½¬ç§»ã€‚é€‰ä¸¾éœ€è¦ majorityï¼Œå³å¤§å¤šæ•°å“¨å…µæ˜¯è¿è¡Œçš„ï¼ˆ2 ä¸ªå“¨å…µçš„ majority=2ï¼Œ3 ä¸ªå“¨å…µçš„ majority=2ï¼Œ5 ä¸ªå“¨å…µçš„ majority=3ï¼Œ4 ä¸ªå“¨å…µçš„ majority=2ï¼‰ã€‚</p><p>å‡è®¾é›†ç¾¤ä»…ä»…éƒ¨ç½² 2 ä¸ªèŠ‚ç‚¹</p><figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line">+----+         +----+</span><br><span class="line">|<span class="string"> M1 </span>|<span class="string">---------</span>|<span class="string"> R1 </span>|</span><br><span class="line">|<span class="string"> S1 </span>|<span class="string">         </span>|<span class="string"> S2 </span>|</span><br><span class="line">+----+         +----+</span><br></pre></td></tr></table></figure><p>å¦‚æœ M1 å’Œ S1 æ‰€åœ¨æœåŠ¡å™¨å®•æœºï¼Œåˆ™å“¨å…µåªæœ‰ 1 ä¸ªï¼Œæ— æ³•æ»¡è¶³ majority æ¥è¿›è¡Œé€‰ä¸¾ï¼Œå°±ä¸èƒ½æ‰§è¡Œæ•…éšœè½¬ç§»ã€‚</p><h3 id="15-redis-å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”zookeeper-å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”æ¯”è¾ƒäºŒè€…ä¼˜åŠ£"><a class="markdownIt-Anchor" href="#15-redis-å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”zookeeper-å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”æ¯”è¾ƒäºŒè€…ä¼˜åŠ£"></a> 1.5. Redis å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”ï¼ŸZooKeeper å¦‚ä½•å®ç°åˆ†å¸ƒå¼é”ï¼Ÿæ¯”è¾ƒäºŒè€…ä¼˜åŠ£ï¼Ÿ</h3><p>åˆ†å¸ƒå¼é”çš„ä¸‰ç§å®ç°ï¼š</p><ul><li>åŸºäºæ•°æ®åº“å®ç°åˆ†å¸ƒå¼é”ï¼›</li><li>åŸºäºç¼“å­˜ï¼ˆRedis ç­‰ï¼‰å®ç°åˆ†å¸ƒå¼é”ï¼›</li><li>åŸºäº Zookeeper å®ç°åˆ†å¸ƒå¼é”ï¼›</li></ul><h4 id="æ•°æ®åº“å®ç°"><a class="markdownIt-Anchor" href="#æ•°æ®åº“å®ç°"></a> æ•°æ®åº“å®ç°</h4><h4 id="redis-å®ç°"><a class="markdownIt-Anchor" href="#redis-å®ç°"></a> Redis å®ç°</h4><ol><li>è·å–é”çš„æ—¶å€™ï¼Œä½¿ç”¨ setnx åŠ é”ï¼Œå¹¶ä½¿ç”¨ expire å‘½ä»¤ä¸ºé”æ·»åŠ ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´åˆ™è‡ªåŠ¨é‡Šæ”¾é”ï¼Œé”çš„ value å€¼ä¸ºä¸€ä¸ªéšæœºç”Ÿæˆçš„ UUIDï¼Œé€šè¿‡æ­¤åœ¨é‡Šæ”¾é”çš„æ—¶å€™è¿›è¡Œåˆ¤æ–­ã€‚</li><li>è·å–é”çš„æ—¶å€™è¿˜è®¾ç½®ä¸€ä¸ªè·å–çš„è¶…æ—¶æ—¶é—´ï¼Œè‹¥è¶…è¿‡è¿™ä¸ªæ—¶é—´åˆ™æ”¾å¼ƒè·å–é”ã€‚</li><li>é‡Šæ”¾é”çš„æ—¶å€™ï¼Œé€šè¿‡ UUID åˆ¤æ–­æ˜¯ä¸æ˜¯è¯¥é”ï¼Œè‹¥æ˜¯è¯¥é”ï¼Œåˆ™æ‰§è¡Œ delete è¿›è¡Œé”é‡Šæ”¾ã€‚</li></ol><h4 id="zookeeper-å®ç°"><a class="markdownIt-Anchor" href="#zookeeper-å®ç°"></a> ZooKeeper å®ç°</h4><ol><li>åˆ›å»ºä¸€ä¸ªç›®å½• mylockï¼›</li><li>çº¿ç¨‹ A æƒ³è·å–é”å°±åœ¨ mylock ç›®å½•ä¸‹åˆ›å»ºä¸´æ—¶é¡ºåºèŠ‚ç‚¹ï¼›</li><li>è·å– mylock ç›®å½•ä¸‹æ‰€æœ‰çš„å­èŠ‚ç‚¹ï¼Œç„¶åè·å–æ¯”è‡ªå·±å°çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¯´æ˜å½“å‰çº¿ç¨‹é¡ºåºå·æœ€å°ï¼Œè·å¾—é”ï¼›</li><li>çº¿ç¨‹ B è·å–æ‰€æœ‰èŠ‚ç‚¹ï¼Œåˆ¤æ–­è‡ªå·±ä¸æ˜¯æœ€å°èŠ‚ç‚¹ï¼Œè®¾ç½®ç›‘å¬æ¯”è‡ªå·±æ¬¡å°çš„èŠ‚ç‚¹ï¼›</li><li>çº¿ç¨‹ A å¤„ç†å®Œï¼Œåˆ é™¤è‡ªå·±çš„èŠ‚ç‚¹ï¼Œçº¿ç¨‹ B ç›‘å¬åˆ°å˜æ›´äº‹ä»¶ï¼Œåˆ¤æ–­è‡ªå·±æ˜¯ä¸æ˜¯æœ€å°çš„èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯åˆ™è·å¾—é”ã€‚</li></ol><h4 id="å®ç°å¯¹æ¯”"><a class="markdownIt-Anchor" href="#å®ç°å¯¹æ¯”"></a> å®ç°å¯¹æ¯”</h4><p>ZooKeeper å…·å¤‡é«˜å¯ç”¨ã€å¯é‡å…¥ã€é˜»å¡é”ç‰¹æ€§ï¼Œå¯è§£å†³å¤±æ•ˆæ­»é”é—®é¢˜ã€‚<br>ä½† ZooKeeper å› ä¸ºéœ€è¦é¢‘ç¹çš„åˆ›å»ºå’Œåˆ é™¤èŠ‚ç‚¹ï¼Œæ€§èƒ½ä¸Šä¸å¦‚ Redis æ–¹å¼ã€‚</p><h3 id="16-redis-çš„æŒä¹…åŒ–æ–¹å¼æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹æŒä¹…åŒ–å®ç°åŸç†"><a class="markdownIt-Anchor" href="#16-redis-çš„æŒä¹…åŒ–æ–¹å¼æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹æŒä¹…åŒ–å®ç°åŸç†"></a> 1.6. Redis çš„æŒä¹…åŒ–æ–¹å¼ï¼Ÿæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼ŸæŒä¹…åŒ–å®ç°åŸç†ï¼Ÿ</h3><h4 id="rdb-å¿«ç…§snapshot"><a class="markdownIt-Anchor" href="#rdb-å¿«ç…§snapshot"></a> RDB å¿«ç…§ï¼ˆsnapshotï¼‰</h4><p>å°†å­˜åœ¨äºæŸä¸€æ—¶åˆ»çš„æ‰€æœ‰æ•°æ®éƒ½å†™å…¥åˆ°ç¡¬ç›˜ä¸­ã€‚</p><h5 id="å¿«ç…§çš„åŸç†"><a class="markdownIt-Anchor" href="#å¿«ç…§çš„åŸç†"></a> å¿«ç…§çš„åŸç†</h5><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒRedis å°†æ•°æ®åº“å¿«ç…§ä¿å­˜åœ¨åå­—ä¸º dump.rdb çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚ä½ å¯ä»¥å¯¹ Redis è¿›è¡Œè®¾ç½®ï¼Œ è®©å®ƒåœ¨â€œN ç§’å†…æ•°æ®é›†è‡³å°‘æœ‰ M ä¸ªæ”¹åŠ¨â€è¿™ä¸€æ¡ä»¶è¢«æ»¡è¶³æ—¶ï¼Œ è‡ªåŠ¨ä¿å­˜ä¸€æ¬¡æ•°æ®é›†ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨ SAVE æˆ–è€… BGSAVEï¼Œæ‰‹åŠ¨è®© Redis è¿›è¡Œæ•°æ®é›†ä¿å­˜æ“ä½œã€‚è¿™ç§æŒä¹…åŒ–æ–¹å¼è¢«ç§°ä¸ºå¿«ç…§ã€‚</p><p>å½“ Redis éœ€è¦ä¿å­˜ dump.rdb æ–‡ä»¶æ—¶ï¼Œ æœåŠ¡å™¨æ‰§è¡Œä»¥ä¸‹æ“ä½œ:</p><ul><li>Redis åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ã€‚</li><li>å­è¿›ç¨‹å°†æ•°æ®é›†å†™å…¥åˆ°ä¸€ä¸ªä¸´æ—¶å¿«ç…§æ–‡ä»¶ä¸­ã€‚</li><li>å½“å­è¿›ç¨‹å®Œæˆå¯¹æ–°å¿«ç…§æ–‡ä»¶çš„å†™å…¥æ—¶ï¼ŒRedis ç”¨æ–°å¿«ç…§æ–‡ä»¶æ›¿æ¢åŸæ¥çš„å¿«ç…§æ–‡ä»¶ï¼Œå¹¶åˆ é™¤æ—§çš„å¿«ç…§æ–‡ä»¶ã€‚</li></ul><p>è¿™ç§å·¥ä½œæ–¹å¼ä½¿å¾— Redis å¯ä»¥ä»å†™æ—¶å¤åˆ¶ï¼ˆcopy-on-writeï¼‰æœºåˆ¶ä¸­è·ç›Šã€‚</p><h5 id="å¿«ç…§çš„ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#å¿«ç…§çš„ä¼˜ç‚¹"></a> å¿«ç…§çš„ä¼˜ç‚¹</h5><ul><li>å®ƒä¿å­˜äº†æŸä¸ªæ—¶é—´ç‚¹çš„æ•°æ®é›†ï¼Œéå¸¸é€‚ç”¨äºæ•°æ®é›†çš„å¤‡ä»½ã€‚</li><li>å¾ˆæ–¹ä¾¿ä¼ é€åˆ°å¦ä¸€ä¸ªè¿œç«¯æ•°æ®ä¸­å¿ƒæˆ–è€…äºšé©¬é€Šçš„ S3ï¼ˆå¯èƒ½åŠ å¯†ï¼‰ï¼Œéå¸¸é€‚ç”¨äºç¾éš¾æ¢å¤ã€‚</li><li>å¿«ç…§åœ¨ä¿å­˜ RDB æ–‡ä»¶æ—¶çˆ¶è¿›ç¨‹å”¯ä¸€éœ€è¦åšçš„å°±æ˜¯ fork å‡ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œæ¥ä¸‹æ¥çš„å·¥ä½œå…¨éƒ¨ç”±å­è¿›ç¨‹æ¥åšï¼Œçˆ¶è¿›ç¨‹ä¸éœ€è¦å†åšå…¶ä»– IO æ“ä½œï¼Œæ‰€ä»¥å¿«ç…§æŒä¹…åŒ–æ–¹å¼å¯ä»¥æœ€å¤§åŒ– redis çš„æ€§èƒ½ã€‚</li><li>ä¸ AOF ç›¸æ¯”ï¼Œåœ¨æ¢å¤å¤§çš„æ•°æ®é›†çš„æ—¶å€™ï¼ŒDB æ–¹å¼ä¼šæ›´å¿«ä¸€äº›ã€‚</li></ul><h5 id="å¿«ç…§çš„ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#å¿«ç…§çš„ç¼ºç‚¹"></a> å¿«ç…§çš„ç¼ºç‚¹</h5><ul><li>å¦‚æœä½ å¸Œæœ›åœ¨ redis æ„å¤–åœæ­¢å·¥ä½œï¼ˆä¾‹å¦‚ç”µæºä¸­æ–­ï¼‰çš„æƒ…å†µä¸‹ä¸¢å¤±çš„æ•°æ®æœ€å°‘çš„è¯ï¼Œé‚£ä¹ˆå¿«ç…§ä¸é€‚åˆä½ ã€‚</li><li>å¿«ç…§éœ€è¦ç»å¸¸ fork å­è¿›ç¨‹æ¥ä¿å­˜æ•°æ®é›†åˆ°ç¡¬ç›˜ä¸Šã€‚å½“æ•°æ®é›†æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œfork çš„è¿‡ç¨‹æ˜¯éå¸¸è€—æ—¶çš„ï¼Œå¯èƒ½ä¼šå¯¼è‡´ Redis åœ¨ä¸€äº›æ¯«ç§’çº§å†…ä¸èƒ½å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li></ul><h4 id="aof"><a class="markdownIt-Anchor" href="#aof"></a> AOF</h4><p>AOF æŒä¹…åŒ–æ–¹å¼è®°å½•æ¯æ¬¡å¯¹æœåŠ¡å™¨æ‰§è¡Œçš„å†™æ“ä½œã€‚å½“æœåŠ¡å™¨é‡å¯çš„æ—¶å€™ä¼šé‡æ–°æ‰§è¡Œè¿™äº›å‘½ä»¤æ¥æ¢å¤åŸå§‹çš„æ•°æ®ã€‚</p><h4 id="aof-çš„åŸç†"><a class="markdownIt-Anchor" href="#aof-çš„åŸç†"></a> AOF çš„åŸç†</h4><ul><li>Redis åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹ã€‚</li><li>å­è¿›ç¨‹å¼€å§‹å°†æ–° AOF æ–‡ä»¶çš„å†…å®¹å†™å…¥åˆ°ä¸´æ—¶æ–‡ä»¶ã€‚</li><li>å¯¹äºæ‰€æœ‰æ–°æ‰§è¡Œçš„å†™å…¥å‘½ä»¤ï¼Œçˆ¶è¿›ç¨‹ä¸€è¾¹å°†å®ƒä»¬ç´¯ç§¯åˆ°ä¸€ä¸ªå†…å­˜ç¼“å­˜ä¸­ï¼Œä¸€è¾¹å°†è¿™äº›æ”¹åŠ¨è¿½åŠ åˆ°ç°æœ‰ AOF æ–‡ä»¶çš„æœ«å°¾ï¼Œè¿™æ ·æ ·å³ä½¿åœ¨é‡å†™çš„ä¸­é€”å‘ç”Ÿåœæœºï¼Œç°æœ‰çš„ AOF æ–‡ä»¶ä¹Ÿè¿˜æ˜¯å®‰å…¨çš„ã€‚</li><li>å½“å­è¿›ç¨‹å®Œæˆé‡å†™å·¥ä½œæ—¶ï¼Œå®ƒç»™çˆ¶è¿›ç¨‹å‘é€ä¸€ä¸ªä¿¡å·ï¼Œçˆ¶è¿›ç¨‹åœ¨æ¥æ”¶åˆ°ä¿¡å·ä¹‹åï¼Œå°†å†…å­˜ç¼“å­˜ä¸­çš„æ‰€æœ‰æ•°æ®è¿½åŠ åˆ°æ–° AOF æ–‡ä»¶çš„æœ«å°¾ã€‚</li><li>æå®šï¼ç°åœ¨ Redis åŸå­åœ°ç”¨æ–°æ–‡ä»¶æ›¿æ¢æ—§æ–‡ä»¶ï¼Œä¹‹åæ‰€æœ‰å‘½ä»¤éƒ½ä¼šç›´æ¥è¿½åŠ åˆ°æ–° AOF æ–‡ä»¶çš„æœ«å°¾ã€‚</li></ul><h4 id="aof-çš„ä¼˜ç‚¹"><a class="markdownIt-Anchor" href="#aof-çš„ä¼˜ç‚¹"></a> AOF çš„ä¼˜ç‚¹</h4><ul><li>ä½¿ç”¨é»˜è®¤çš„æ¯ç§’ fsync ç­–ç•¥ï¼ŒRedis çš„æ€§èƒ½ä¾ç„¶å¾ˆå¥½(fsync æ˜¯ç”±åå°çº¿ç¨‹è¿›è¡Œå¤„ç†çš„,ä¸»çº¿ç¨‹ä¼šå°½åŠ›å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚)ï¼Œä¸€æ—¦å‡ºç°æ•…éšœï¼Œä½¿ç”¨ AOF ï¼Œä½ æœ€å¤šä¸¢å¤± 1 ç§’çš„æ•°æ®ã€‚</li><li>AOF æ–‡ä»¶æ˜¯ä¸€ä¸ªåªè¿›è¡Œè¿½åŠ çš„æ—¥å¿—æ–‡ä»¶ï¼Œæ‰€ä»¥ä¸éœ€è¦å†™å…¥ seekï¼Œå³ä½¿ç”±äºæŸäº›åŸå› (ç£ç›˜ç©ºé—´å·²æ»¡ï¼Œå†™çš„è¿‡ç¨‹ä¸­å®•æœºç­‰ç­‰)æœªæ‰§è¡Œå®Œæ•´çš„å†™å…¥å‘½ä»¤ï¼Œä½ ä¹Ÿä¹Ÿå¯ä½¿ç”¨ redis-check-aof å·¥å…·ä¿®å¤è¿™äº›é—®é¢˜ã€‚</li><li>Redis å¯ä»¥åœ¨ AOF æ–‡ä»¶ä½“ç§¯å˜å¾—è¿‡å¤§æ—¶ï¼Œè‡ªåŠ¨åœ°åœ¨åå°å¯¹ AOF è¿›è¡Œé‡å†™ï¼šé‡å†™åçš„æ–° AOF æ–‡ä»¶åŒ…å«äº†æ¢å¤å½“å‰æ•°æ®é›†æ‰€éœ€çš„æœ€å°å‘½ä»¤é›†åˆã€‚æ•´ä¸ªé‡å†™æ“ä½œæ˜¯ç»å¯¹å®‰å…¨çš„ã€‚</li><li>AOF æ–‡ä»¶æœ‰åºåœ°ä¿å­˜äº†å¯¹æ•°æ®åº“æ‰§è¡Œçš„æ‰€æœ‰å†™å…¥æ“ä½œï¼Œè¿™äº›å†™å…¥æ“ä½œä»¥ Redis åè®®çš„æ ¼å¼ä¿å­˜ã€‚å› æ­¤ AOF æ–‡ä»¶çš„å†…å®¹éå¸¸å®¹æ˜“è¢«äººè¯»æ‡‚ï¼Œå¯¹æ–‡ä»¶è¿›è¡Œåˆ†æï¼ˆparseï¼‰ä¹Ÿå¾ˆè½»æ¾ã€‚</li></ul><h4 id="aof-çš„ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#aof-çš„ç¼ºç‚¹"></a> AOF çš„ç¼ºç‚¹</h4><ul><li>å¯¹äºç›¸åŒçš„æ•°æ®é›†æ¥è¯´ï¼ŒAOF æ–‡ä»¶çš„ä½“ç§¯é€šå¸¸è¦å¤§äº RDB æ–‡ä»¶çš„ä½“ç§¯ã€‚</li><li>æ ¹æ®æ‰€ä½¿ç”¨çš„ fsync ç­–ç•¥ï¼ŒAOF çš„é€Ÿåº¦å¯èƒ½ä¼šæ…¢äºå¿«ç…§ã€‚åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ç§’ fsync çš„æ€§èƒ½ä¾ç„¶éå¸¸é«˜ï¼Œè€Œå…³é—­ fsync å¯ä»¥è®© AOF çš„é€Ÿåº¦å’Œå¿«ç…§ä¸€æ ·å¿«ï¼Œå³ä½¿åœ¨é«˜è´Ÿè·ä¹‹ä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¸è¿‡åœ¨å¤„ç†å·¨å¤§çš„å†™å…¥è½½å…¥æ—¶ï¼Œå¿«ç…§å¯ä»¥æä¾›æ›´æœ‰ä¿è¯çš„æœ€å¤§å»¶è¿Ÿæ—¶é—´ï¼ˆlatencyï¼‰ã€‚</li></ul><h3 id="17-redis-è¿‡æœŸç­–ç•¥æœ‰å“ªäº›"><a class="markdownIt-Anchor" href="#17-redis-è¿‡æœŸç­–ç•¥æœ‰å“ªäº›"></a> 1.7. Redis è¿‡æœŸç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</h3><ul><li><strong>noeviction</strong> - å½“å†…å­˜ä½¿ç”¨è¾¾åˆ°é˜ˆå€¼çš„æ—¶å€™ï¼Œæ‰€æœ‰å¼•èµ·ç”³è¯·å†…å­˜çš„å‘½ä»¤ä¼šæŠ¥é”™ã€‚</li><li><strong>allkeys-lru</strong> - åœ¨ä¸»é”®ç©ºé—´ä¸­ï¼Œä¼˜å…ˆç§»é™¤æœ€è¿‘æœªä½¿ç”¨çš„ keyã€‚</li><li><strong>allkeys-random</strong> - åœ¨ä¸»é”®ç©ºé—´ä¸­ï¼Œéšæœºç§»é™¤æŸä¸ª keyã€‚</li><li><strong>volatile-lru</strong> - åœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œä¼˜å…ˆç§»é™¤æœ€è¿‘æœªä½¿ç”¨çš„ keyã€‚</li><li><strong>volatile-random</strong> - åœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œéšæœºç§»é™¤æŸä¸ª keyã€‚</li><li><strong>volatile-ttl</strong> - åœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®ç©ºé—´ä¸­ï¼Œå…·æœ‰æ›´æ—©è¿‡æœŸæ—¶é—´çš„ key ä¼˜å…ˆç§»é™¤ã€‚</li></ul><h3 id="18-redis-å’Œ-memcached-æœ‰ä»€ä¹ˆåŒºåˆ«"><a class="markdownIt-Anchor" href="#18-redis-å’Œ-memcached-æœ‰ä»€ä¹ˆåŒºåˆ«"></a> 1.8. Redis å’Œ Memcached æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>ä¸¤è€…éƒ½æ˜¯éå…³ç³»å‹å†…å­˜é”®å€¼æ•°æ®åº“ã€‚æœ‰ä»¥ä¸‹ä¸»è¦ä¸åŒï¼š</p><p><strong>æ•°æ®ç±»å‹</strong></p><ul><li>Memcached ä»…æ”¯æŒå­—ç¬¦ä¸²ç±»å‹ï¼›</li><li>è€Œ Redis æ”¯æŒäº”ç§ä¸åŒç§ç±»çš„æ•°æ®ç±»å‹ï¼Œä½¿å¾—å®ƒå¯ä»¥æ›´çµæ´»åœ°è§£å†³é—®é¢˜ã€‚</li></ul><p><strong>æ•°æ®æŒä¹…åŒ–</strong></p><ul><li>Memcached ä¸æ”¯æŒæŒä¹…åŒ–ï¼›</li><li>Redis æ”¯æŒä¸¤ç§æŒä¹…åŒ–ç­–ç•¥ï¼šRDB å¿«ç…§å’Œ AOF æ—¥å¿—ã€‚</li></ul><p><strong>åˆ†å¸ƒå¼</strong></p><ul><li>Memcached ä¸æ”¯æŒåˆ†å¸ƒå¼ï¼Œåªèƒ½é€šè¿‡åœ¨å®¢æˆ·ç«¯ä½¿ç”¨åƒä¸€è‡´æ€§å“ˆå¸Œè¿™æ ·çš„åˆ†å¸ƒå¼ç®—æ³•æ¥å®ç°åˆ†å¸ƒå¼å­˜å‚¨ï¼Œè¿™ç§æ–¹å¼åœ¨å­˜å‚¨å’ŒæŸ¥è¯¢æ—¶éƒ½éœ€è¦å…ˆåœ¨å®¢æˆ·ç«¯è®¡ç®—ä¸€æ¬¡æ•°æ®æ‰€åœ¨çš„èŠ‚ç‚¹ã€‚</li><li>Redis Cluster å®ç°äº†åˆ†å¸ƒå¼çš„æ”¯æŒã€‚</li></ul><p><strong>å†…å­˜ç®¡ç†æœºåˆ¶</strong></p><ul><li>Memcached å°†å†…å­˜åˆ†å‰²æˆç‰¹å®šé•¿åº¦çš„å—æ¥å­˜å‚¨æ•°æ®ï¼Œä»¥å®Œå…¨è§£å†³å†…å­˜ç¢ç‰‡çš„é—®é¢˜ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼ä¼šä½¿å¾—å†…å­˜çš„åˆ©ç”¨ç‡ä¸é«˜ï¼Œä¾‹å¦‚å—çš„å¤§å°ä¸º 128 bytesï¼Œåªå­˜å‚¨ 100 bytes çš„æ•°æ®ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„ 28 bytes å°±æµªè´¹æ‰äº†ã€‚</li><li>åœ¨ Redis ä¸­ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æ•°æ®éƒ½ä¸€ç›´å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œå¯ä»¥å°†ä¸€äº›å¾ˆä¹…æ²¡ç”¨çš„ value äº¤æ¢åˆ°ç£ç›˜ã€‚è€Œ Memcached çš„æ•°æ®åˆ™ä¼šä¸€ç›´åœ¨å†…å­˜ä¸­ã€‚</li></ul><h3 id="19-ä¸ºä»€ä¹ˆå•çº¿ç¨‹çš„-redis-æ€§èƒ½åè€Œä¼˜äºå¤šçº¿ç¨‹çš„-memcached"><a class="markdownIt-Anchor" href="#19-ä¸ºä»€ä¹ˆå•çº¿ç¨‹çš„-redis-æ€§èƒ½åè€Œä¼˜äºå¤šçº¿ç¨‹çš„-memcached"></a> 1.9. ä¸ºä»€ä¹ˆå•çº¿ç¨‹çš„ Redis æ€§èƒ½åè€Œä¼˜äºå¤šçº¿ç¨‹çš„ Memcachedï¼Ÿ</h3><p>Redis å¿«é€Ÿçš„åŸå› ï¼š</p><ol><li>ç»å¤§éƒ¨åˆ†è¯·æ±‚æ˜¯çº¯ç²¹çš„å†…å­˜æ“ä½œï¼ˆéå¸¸å¿«é€Ÿï¼‰</li><li>é‡‡ç”¨å•çº¿ç¨‹,é¿å…äº†ä¸å¿…è¦çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œç«äº‰æ¡ä»¶</li><li>éé˜»å¡ IO</li></ol><p>å†…éƒ¨å®ç°é‡‡ç”¨ epollï¼Œé‡‡ç”¨äº† epoll+è‡ªå·±å®ç°çš„ç®€å•çš„äº‹ä»¶æ¡†æ¶ã€‚epoll ä¸­çš„è¯»ã€å†™ã€å…³é—­ã€è¿æ¥éƒ½è½¬åŒ–æˆäº†äº‹ä»¶ï¼Œç„¶ååˆ©ç”¨ epoll çš„å¤šè·¯å¤ç”¨ç‰¹æ€§ï¼Œç»ä¸åœ¨ io ä¸Šæµªè´¹ä¸€ç‚¹æ—¶é—´ã€‚</p><h2 id="2-åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—mq"><a class="markdownIt-Anchor" href="#2-åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—mq"></a> 2. åˆ†å¸ƒå¼æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆMQï¼‰</h2><h3 id="21-ä¸ºä»€ä¹ˆä½¿ç”¨-mq"><a class="markdownIt-Anchor" href="#21-ä¸ºä»€ä¹ˆä½¿ç”¨-mq"></a> 2.1. ä¸ºä»€ä¹ˆä½¿ç”¨ MQï¼Ÿ</h3><ul><li>å¼‚æ­¥å¤„ç† - ç›¸æ¯”äºä¼ ç»Ÿçš„ä¸²è¡Œã€å¹¶è¡Œæ–¹å¼ï¼Œæé«˜äº†ç³»ç»Ÿååé‡ã€‚</li><li>åº”ç”¨è§£è€¦ - ç³»ç»Ÿé—´é€šè¿‡æ¶ˆæ¯é€šä¿¡ï¼Œä¸ç”¨å…³å¿ƒå…¶ä»–ç³»ç»Ÿçš„å¤„ç†ã€‚</li><li>æµé‡å‰Šé”‹ - å¯ä»¥é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—é•¿åº¦æ§åˆ¶è¯·æ±‚é‡ï¼›å¯ä»¥ç¼“è§£çŸ­æ—¶é—´å†…çš„é«˜å¹¶å‘è¯·æ±‚ã€‚</li><li>æ—¥å¿—å¤„ç† - è§£å†³å¤§é‡æ—¥å¿—ä¼ è¾“ã€‚</li><li>æ¶ˆæ¯é€šè®¯ - æ¶ˆæ¯é˜Ÿåˆ—ä¸€èˆ¬éƒ½å†…ç½®äº†é«˜æ•ˆçš„é€šä¿¡æœºåˆ¶ï¼Œå› æ­¤ä¹Ÿå¯ä»¥ç”¨åœ¨çº¯çš„æ¶ˆæ¯é€šè®¯ã€‚æ¯”å¦‚å®ç°ç‚¹å¯¹ç‚¹æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæˆ–è€…èŠå¤©å®¤ç­‰ã€‚</li></ul><h3 id="22-å¦‚ä½•ä¿è¯-mq-çš„é«˜å¯ç”¨"><a class="markdownIt-Anchor" href="#22-å¦‚ä½•ä¿è¯-mq-çš„é«˜å¯ç”¨"></a> 2.2. å¦‚ä½•ä¿è¯ MQ çš„é«˜å¯ç”¨ï¼Ÿ</h3><h4 id="æ•°æ®å¤åˆ¶"><a class="markdownIt-Anchor" href="#æ•°æ®å¤åˆ¶"></a> æ•°æ®å¤åˆ¶</h4><ol><li>å°†æ‰€æœ‰ Broker å’Œå¾…åˆ†é…çš„ Partition æ’åº</li><li>å°†ç¬¬ i ä¸ª Partition åˆ†é…åˆ°ç¬¬ï¼ˆi mod nï¼‰ä¸ª Broker ä¸Š</li><li>å°†ç¬¬ i ä¸ª Partition çš„ç¬¬ j ä¸ª Replica åˆ†é…åˆ°ç¬¬ï¼ˆ(i + j) mode nï¼‰ä¸ª Broker ä¸Š</li></ol><h4 id="é€‰ä¸¾ä¸»æœåŠ¡å™¨"><a class="markdownIt-Anchor" href="#é€‰ä¸¾ä¸»æœåŠ¡å™¨"></a> é€‰ä¸¾ä¸»æœåŠ¡å™¨</h4><h3 id="23-mq-æœ‰å“ªäº›å¸¸è§é—®é¢˜å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜"><a class="markdownIt-Anchor" href="#23-mq-æœ‰å“ªäº›å¸¸è§é—®é¢˜å¦‚ä½•è§£å†³è¿™äº›é—®é¢˜"></a> 2.3. MQ æœ‰å“ªäº›å¸¸è§é—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³è¿™äº›é—®é¢˜ï¼Ÿ</h3><p>MQ çš„å¸¸è§é—®é¢˜æœ‰ï¼š</p><ol><li>æ¶ˆæ¯çš„é¡ºåºé—®é¢˜</li><li>æ¶ˆæ¯çš„é‡å¤é—®é¢˜</li></ol><h4 id="æ¶ˆæ¯çš„é¡ºåºé—®é¢˜"><a class="markdownIt-Anchor" href="#æ¶ˆæ¯çš„é¡ºåºé—®é¢˜"></a> æ¶ˆæ¯çš„é¡ºåºé—®é¢˜</h4><p>æ¶ˆæ¯æœ‰åºæŒ‡çš„æ˜¯å¯ä»¥æŒ‰ç…§æ¶ˆæ¯çš„å‘é€é¡ºåºæ¥æ¶ˆè´¹ã€‚</p><p>å‡å¦‚ç”Ÿäº§è€…äº§ç”Ÿäº† 2 æ¡æ¶ˆæ¯ï¼šM1ã€M2ï¼Œå‡å®š M1 å‘é€åˆ° S1ï¼ŒM2 å‘é€åˆ° S2ï¼Œå¦‚æœè¦ä¿è¯ M1 å…ˆäº M2 è¢«æ¶ˆè´¹ï¼Œæ€ä¹ˆåšï¼Ÿ</p><p><br><div align="center"><img src="http://upload-images.jianshu.io/upload_images/3101171-23145c8b554a0f2f.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></div><br></p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>ï¼ˆ1ï¼‰ä¿è¯ç”Ÿäº§è€… - MQServer - æ¶ˆè´¹è€…æ˜¯ä¸€å¯¹ä¸€å¯¹ä¸€çš„å…³ç³»</p><p><br><div align="center"><img src="http://upload-images.jianshu.io/upload_images/3101171-034106d7e04c062d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></div><br></p><p>ç¼ºé™·ï¼š</p><ul><li>å¹¶è¡Œåº¦å°±ä¼šæˆä¸ºæ¶ˆæ¯ç³»ç»Ÿçš„ç“¶é¢ˆï¼ˆååé‡ä¸å¤Ÿï¼‰</li><li>æ›´å¤šçš„å¼‚å¸¸å¤„ç†ï¼Œæ¯”å¦‚ï¼šåªè¦æ¶ˆè´¹ç«¯å‡ºç°é—®é¢˜ï¼Œå°±ä¼šå¯¼è‡´æ•´ä¸ªå¤„ç†æµç¨‹é˜»å¡ï¼Œæˆ‘ä»¬ä¸å¾—ä¸èŠ±è´¹æ›´å¤šçš„ç²¾åŠ›æ¥è§£å†³é˜»å¡çš„é—®é¢˜ã€‚</li></ul><p>ï¼ˆ2ï¼‰é€šè¿‡åˆç†çš„è®¾è®¡æˆ–è€…å°†é—®é¢˜åˆ†è§£æ¥è§„é¿ã€‚</p><ul><li>ä¸å…³æ³¨ä¹±åºçš„åº”ç”¨å®é™…å¤§é‡å­˜åœ¨</li><li>é˜Ÿåˆ—æ— åºå¹¶ä¸æ„å‘³ç€æ¶ˆæ¯æ— åº</li></ul><p>æ‰€ä»¥ä»ä¸šåŠ¡å±‚é¢æ¥ä¿è¯æ¶ˆæ¯çš„é¡ºåºè€Œä¸ä»…ä»…æ˜¯ä¾èµ–äºæ¶ˆæ¯ç³»ç»Ÿï¼Œæ˜¯ä¸€ç§æ›´åˆç†çš„æ–¹å¼ã€‚</p><h4 id="æ¶ˆæ¯çš„é‡å¤é—®é¢˜"><a class="markdownIt-Anchor" href="#æ¶ˆæ¯çš„é‡å¤é—®é¢˜"></a> æ¶ˆæ¯çš„é‡å¤é—®é¢˜</h4><p>é€ æˆæ¶ˆæ¯é‡å¤çš„æ ¹æœ¬åŸå› æ˜¯ï¼šç½‘ç»œä¸å¯è¾¾ã€‚</p><p>æ‰€ä»¥è§£å†³è¿™ä¸ªé—®é¢˜çš„åŠæ³•å°±æ˜¯ç»•è¿‡è¿™ä¸ªé—®é¢˜ã€‚é‚£ä¹ˆé—®é¢˜å°±å˜æˆäº†ï¼šå¦‚æœæ¶ˆè´¹ç«¯æ”¶åˆ°ä¸¤æ¡ä¸€æ ·çš„æ¶ˆæ¯ï¼Œåº”è¯¥æ€æ ·å¤„ç†ï¼Ÿ</p><p>æ¶ˆè´¹ç«¯å¤„ç†æ¶ˆæ¯çš„ä¸šåŠ¡é€»è¾‘ä¿æŒå¹‚ç­‰æ€§ã€‚åªè¦ä¿æŒå¹‚ç­‰æ€§ï¼Œä¸ç®¡æ¥å¤šå°‘æ¡é‡å¤æ¶ˆæ¯ï¼Œæœ€åå¤„ç†çš„ç»“æœéƒ½ä¸€æ ·ã€‚<br>ä¿è¯æ¯æ¡æ¶ˆæ¯éƒ½æœ‰å”¯ä¸€ç¼–å·ä¸”ä¿è¯æ¶ˆæ¯å¤„ç†æˆåŠŸä¸å»é‡è¡¨çš„æ—¥å¿—åŒæ—¶å‡ºç°ã€‚åˆ©ç”¨ä¸€å¼ æ—¥å¿—è¡¨æ¥è®°å½•å·²ç»å¤„ç†æˆåŠŸçš„æ¶ˆæ¯çš„ IDï¼Œå¦‚æœæ–°åˆ°çš„æ¶ˆæ¯ ID å·²ç»åœ¨æ—¥å¿—è¡¨ä¸­ï¼Œé‚£ä¹ˆå°±ä¸å†å¤„ç†è¿™æ¡æ¶ˆæ¯ã€‚</p><h3 id="24-kafka-activemq-rabbitmq-rocketmq-å„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#24-kafka-activemq-rabbitmq-rocketmq-å„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹"></a> 2.4. Kafka, ActiveMQ, RabbitMQ, RocketMQ å„æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ</h3><p><br><div align="center"><img src="http://upload-images.jianshu.io/upload_images/3101171-c26f4a3048c38af4.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></div><br></p><h2 id="3-åˆ†å¸ƒå¼æœåŠ¡rpc"><a class="markdownIt-Anchor" href="#3-åˆ†å¸ƒå¼æœåŠ¡rpc"></a> 3. åˆ†å¸ƒå¼æœåŠ¡ï¼ˆRPCï¼‰</h2><h3 id="31-dubbo-çš„å®ç°è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#31-dubbo-çš„å®ç°è¿‡ç¨‹"></a> 3.1. Dubbo çš„å®ç°è¿‡ç¨‹ï¼Ÿ</h3><div align="center"><img src="https://raw.githubusercontent.com/dunwu/JavaWeb/master/images/distributed/rpc/dubbo/dubboåŸºæœ¬æ¶æ„.png" width="500"></div><p>èŠ‚ç‚¹è§’è‰²ï¼š</p><table><thead><tr><th>èŠ‚ç‚¹</th><th>è§’è‰²è¯´æ˜</th></tr></thead><tbody><tr><td>Provider</td><td>æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹</td></tr><tr><td>Consumer</td><td>è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹</td></tr><tr><td>Registry</td><td>æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ</td></tr><tr><td>Monitor</td><td>ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ</td></tr><tr><td>Container</td><td>æœåŠ¡è¿è¡Œå®¹å™¨</td></tr></tbody></table><p>è°ƒç”¨å…³ç³»ï¼š</p><ol><li>åŠ¡å®¹å™¨è´Ÿè´£å¯åŠ¨ï¼ŒåŠ è½½ï¼Œè¿è¡ŒæœåŠ¡æä¾›è€…ã€‚</li><li>æœåŠ¡æä¾›è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±æä¾›çš„æœåŠ¡ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…åœ¨å¯åŠ¨æ—¶ï¼Œå‘æ³¨å†Œä¸­å¿ƒè®¢é˜…è‡ªå·±æ‰€éœ€çš„æœåŠ¡ã€‚</li><li>æ³¨å†Œä¸­å¿ƒè¿”å›æœåŠ¡æä¾›è€…åœ°å€åˆ—è¡¨ç»™æ¶ˆè´¹è€…ï¼Œå¦‚æœæœ‰å˜æ›´ï¼Œæ³¨å†Œä¸­å¿ƒå°†åŸºäºé•¿è¿æ¥æ¨é€å˜æ›´æ•°æ®ç»™æ¶ˆè´¹è€…ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…ï¼Œä»æä¾›è€…åœ°å€åˆ—è¡¨ä¸­ï¼ŒåŸºäºè½¯è´Ÿè½½å‡è¡¡ç®—æ³•ï¼Œé€‰ä¸€å°æä¾›è€…è¿›è¡Œè°ƒç”¨ï¼Œå¦‚æœè°ƒç”¨å¤±è´¥ï¼Œå†é€‰å¦ä¸€å°è°ƒç”¨ã€‚</li><li>æœåŠ¡æ¶ˆè´¹è€…å’Œæä¾›è€…ï¼Œåœ¨å†…å­˜ä¸­ç´¯è®¡è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´ï¼Œå®šæ—¶æ¯åˆ†é’Ÿå‘é€ä¸€æ¬¡ç»Ÿè®¡æ•°æ®åˆ°ç›‘æ§ä¸­å¿ƒã€‚</li></ol><h3 id="32-dubbo-è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›"><a class="markdownIt-Anchor" href="#32-dubbo-è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›"></a> 3.2. Dubbo è´Ÿè½½å‡è¡¡ç­–ç•¥æœ‰å“ªäº›ï¼Ÿ</h3><h5 id="random"><a class="markdownIt-Anchor" href="#random"></a> Random</h5><ul><li>éšæœºï¼ŒæŒ‰æƒé‡è®¾ç½®éšæœºæ¦‚ç‡ã€‚</li><li>åœ¨ä¸€ä¸ªæˆªé¢ä¸Šç¢°æ’çš„æ¦‚ç‡é«˜ï¼Œä½†è°ƒç”¨é‡è¶Šå¤§åˆ†å¸ƒè¶Šå‡åŒ€ï¼Œè€Œä¸”æŒ‰æ¦‚ç‡ä½¿ç”¨æƒé‡åä¹Ÿæ¯”è¾ƒå‡åŒ€ï¼Œæœ‰åˆ©äºåŠ¨æ€è°ƒæ•´æä¾›è€…æƒé‡ã€‚</li></ul><h5 id="roundrobin"><a class="markdownIt-Anchor" href="#roundrobin"></a> RoundRobin</h5><ul><li>è½®å¾ªï¼ŒæŒ‰å…¬çº¦åçš„æƒé‡è®¾ç½®è½®å¾ªæ¯”ç‡ã€‚</li><li>å­˜åœ¨æ…¢çš„æä¾›è€…ç´¯ç§¯è¯·æ±‚çš„é—®é¢˜ï¼Œæ¯”å¦‚ï¼šç¬¬äºŒå°æœºå™¨å¾ˆæ…¢ï¼Œä½†æ²¡æŒ‚ï¼Œå½“è¯·æ±‚è°ƒåˆ°ç¬¬äºŒå°æ—¶å°±å¡åœ¨é‚£ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½å¡åœ¨è°ƒåˆ°ç¬¬äºŒå°ä¸Šã€‚</li></ul><h5 id="leastactive"><a class="markdownIt-Anchor" href="#leastactive"></a> LeastActive</h5><ul><li>æœ€å°‘æ´»è·ƒè°ƒç”¨æ•°ï¼Œç›¸åŒæ´»è·ƒæ•°çš„éšæœºï¼Œæ´»è·ƒæ•°æŒ‡è°ƒç”¨å‰åè®¡æ•°å·®ã€‚</li><li>ä½¿æ…¢çš„æä¾›è€…æ”¶åˆ°æ›´å°‘è¯·æ±‚ï¼Œå› ä¸ºè¶Šæ…¢çš„æä¾›è€…çš„è°ƒç”¨å‰åè®¡æ•°å·®ä¼šè¶Šå¤§ã€‚</li></ul><h5 id="consistenthash"><a class="markdownIt-Anchor" href="#consistenthash"></a> ConsistentHash</h5><ul><li>ä¸€è‡´æ€§ Hashï¼Œç›¸åŒå‚æ•°çš„è¯·æ±‚æ€»æ˜¯å‘åˆ°åŒä¸€æä¾›è€…ã€‚</li><li>å½“æŸä¸€å°æä¾›è€…æŒ‚æ—¶ï¼ŒåŸæœ¬å‘å¾€è¯¥æä¾›è€…çš„è¯·æ±‚ï¼ŒåŸºäºè™šæ‹ŸèŠ‚ç‚¹ï¼Œå¹³æ‘Šåˆ°å…¶å®ƒæä¾›è€…ï¼Œä¸ä¼šå¼•èµ·å‰§çƒˆå˜åŠ¨ã€‚</li><li>ç®—æ³•å‚è§ï¼š<a href="http://en.wikipedia.org/wiki/Consistent_hashing" target="_blank" rel="noopener">http://en.wikipedia.org/wiki/Consistent_hashing</a></li><li>ç¼ºçœåªå¯¹ç¬¬ä¸€ä¸ªå‚æ•° Hashï¼Œå¦‚æœè¦ä¿®æ”¹ï¼Œè¯·é…ç½® <code>&lt;dubbo:parameter key=&quot;hash.arguments&quot; value=&quot;0,1&quot; /&gt;</code></li><li>ç¼ºçœç”¨ 160 ä»½è™šæ‹ŸèŠ‚ç‚¹ï¼Œå¦‚æœè¦ä¿®æ”¹ï¼Œè¯·é…ç½® <code>&lt;dubbo:parameter key=&quot;hash.nodes&quot; value=&quot;320&quot; /&gt;</code></li></ul><h3 id="33-dubbo-é›†ç¾¤å®¹é”™ç­–ç•¥"><a class="markdownIt-Anchor" href="#33-dubbo-é›†ç¾¤å®¹é”™ç­–ç•¥"></a> 3.3. Dubbo é›†ç¾¤å®¹é”™ç­–ç•¥ ï¼Ÿ</h3><p><br><div align="center"><img src="https://raw.githubusercontent.com/dunwu/JavaWeb/master/images/distributed/rpc/dubbo/dubbo%E9%9B%86%E7%BE%A4%E5%AE%B9%E9%94%99.jpg"></div><br></p><ul><li><strong>Failover</strong> - å¤±è´¥è‡ªåŠ¨åˆ‡æ¢ï¼Œå½“å‡ºç°å¤±è´¥ï¼Œé‡è¯•å…¶å®ƒæœåŠ¡å™¨ã€‚é€šå¸¸ç”¨äºè¯»æ“ä½œï¼Œä½†é‡è¯•ä¼šå¸¦æ¥æ›´é•¿å»¶è¿Ÿã€‚å¯é€šè¿‡ retries=â€œ2â€ æ¥è®¾ç½®é‡è¯•æ¬¡æ•°(ä¸å«ç¬¬ä¸€æ¬¡)ã€‚</li><li><strong>Failfast</strong> - å¿«é€Ÿå¤±è´¥ï¼Œåªå‘èµ·ä¸€æ¬¡è°ƒç”¨ï¼Œå¤±è´¥ç«‹å³æŠ¥é”™ã€‚é€šå¸¸ç”¨äºéå¹‚ç­‰æ€§çš„å†™æ“ä½œï¼Œæ¯”å¦‚æ–°å¢è®°å½•ã€‚</li><li><strong>Failsafe</strong> - å¤±è´¥å®‰å…¨ï¼Œå‡ºç°å¼‚å¸¸æ—¶ï¼Œç›´æ¥å¿½ç•¥ã€‚é€šå¸¸ç”¨äºå†™å…¥å®¡è®¡æ—¥å¿—ç­‰æ“ä½œã€‚</li><li><strong>Failback</strong> - å¤±è´¥è‡ªåŠ¨æ¢å¤ï¼Œåå°è®°å½•å¤±è´¥è¯·æ±‚ï¼Œå®šæ—¶é‡å‘ã€‚é€šå¸¸ç”¨äºæ¶ˆæ¯é€šçŸ¥æ“ä½œã€‚</li><li><strong>Forking</strong> - å¹¶è¡Œè°ƒç”¨å¤šä¸ªæœåŠ¡å™¨ï¼Œåªè¦ä¸€ä¸ªæˆåŠŸå³è¿”å›ã€‚é€šå¸¸ç”¨äºå®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„è¯»æ“ä½œï¼Œä½†éœ€è¦æµªè´¹æ›´å¤šæœåŠ¡èµ„æºã€‚å¯é€šè¿‡ forks=â€œ2â€ æ¥è®¾ç½®æœ€å¤§å¹¶è¡Œæ•°ã€‚</li><li><strong>Broadcast</strong> - æ’­è°ƒç”¨æ‰€æœ‰æä¾›è€…ï¼Œé€ä¸ªè°ƒç”¨ï¼Œä»»æ„ä¸€å°æŠ¥é”™åˆ™æŠ¥é”™ã€‚é€šå¸¸ç”¨äºé€šçŸ¥æ‰€æœ‰æä¾›è€…æ›´æ–°ç¼“å­˜æˆ–æ—¥å¿—ç­‰æœ¬åœ°èµ„æºä¿¡æ¯ã€‚</li></ul><h3 id="34-åŠ¨æ€ä»£ç†ç­–ç•¥"><a class="markdownIt-Anchor" href="#34-åŠ¨æ€ä»£ç†ç­–ç•¥"></a> 3.4. åŠ¨æ€ä»£ç†ç­–ç•¥ï¼Ÿ</h3><p>Dubbo ä½œä¸º RPC æ¡†æ¶ï¼Œé¦–å…ˆè¦å®Œæˆçš„å°±æ˜¯è·¨ç³»ç»Ÿï¼Œè·¨ç½‘ç»œçš„æœåŠ¡è°ƒç”¨ã€‚æ¶ˆè´¹æ–¹ä¸æä¾›æ–¹éµå¾ªç»Ÿä¸€çš„æ¥å£å®šä¹‰ï¼Œæ¶ˆè´¹æ–¹è°ƒç”¨æ¥å£æ—¶ï¼ŒDubbo å°†å…¶è½¬æ¢æˆç»Ÿä¸€æ ¼å¼çš„æ•°æ®ç»“æ„ï¼Œé€šè¿‡ç½‘ç»œä¼ è¾“ï¼Œæä¾›æ–¹æ ¹æ®è§„åˆ™æ‰¾åˆ°æ¥å£å®ç°ï¼Œé€šè¿‡åå°„å®Œæˆè°ƒç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¶ˆè´¹æ–¹è·å–çš„æ˜¯å¯¹è¿œç¨‹æœåŠ¡çš„ä¸€ä¸ªä»£ç†(Proxy)ï¼Œè€Œæä¾›æ–¹å› ä¸ºè¦æ”¯æŒä¸åŒçš„æ¥å£å®ç°ï¼Œéœ€è¦ä¸€ä¸ªåŒ…è£…å±‚(Wrapper)ã€‚è°ƒç”¨çš„è¿‡ç¨‹å¤§æ¦‚æ˜¯è¿™æ ·ï¼š</p><p><br><div align="center"><img src="https://oscimg.oschina.net/oscnet/bef19cd5a31b5ae13aff35a8cb4898faaf0.jpg"></div><br></p><p>æ¶ˆè´¹æ–¹çš„ Proxy å’Œæä¾›æ–¹çš„ Wrapper å¾—ä»¥è®© Dubbo æ„å»ºå‡ºå¤æ‚ã€ç»Ÿä¸€çš„ä½“ç³»ã€‚è€Œè¿™ç§åŠ¨æ€ä»£ç†ä¸åŒ…è£…ä¹Ÿæ˜¯é€šè¿‡åŸºäº SPI çš„æ’ä»¶æ–¹å¼å®ç°çš„ï¼Œå®ƒçš„æ¥å£å°±æ˜¯<strong>ProxyFactory</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@SPI</span>(<span class="string">"javassist"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProxyFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Adaptive</span>(&#123;Constants.PROXY_KEY&#125;)</span><br><span class="line">    &lt;T&gt; <span class="function">T <span class="title">getProxy</span><span class="params">(Invoker&lt;T&gt; invoker)</span> <span class="keyword">throws</span> RpcException</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Adaptive</span>(&#123;Constants.PROXY_KEY&#125;)</span><br><span class="line">    &lt;T&gt; <span class="function">Invoker&lt;T&gt; <span class="title">getInvoker</span><span class="params">(T proxy, Class&lt;T&gt; type, URL url)</span> <span class="keyword">throws</span> RpcException</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ProxyFactory æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼Œä¸€ç§æ˜¯åŸºäº JDK çš„ä»£ç†å®ç°ï¼Œä¸€ç§æ˜¯åŸºäº javassist çš„å®ç°ã€‚ProxyFactory æ¥å£ä¸Šå®šä¹‰äº†@SPI(â€œjavassistâ€)ï¼Œé»˜è®¤ä¸º javassist çš„å®ç°ã€‚</p><h3 id="35-dubbo-æ”¯æŒå“ªäº›åºåˆ—åŒ–åè®®hessianhessian-çš„æ•°æ®ç»“æ„"><a class="markdownIt-Anchor" href="#35-dubbo-æ”¯æŒå“ªäº›åºåˆ—åŒ–åè®®hessianhessian-çš„æ•°æ®ç»“æ„"></a> 3.5. Dubbo æ”¯æŒå“ªäº›åºåˆ—åŒ–åè®®ï¼ŸHessianï¼ŸHessian çš„æ•°æ®ç»“æ„ï¼Ÿ</h3><ol><li>dubbo åºåˆ—åŒ–ï¼Œé˜¿é‡Œå°šä¸æˆç†Ÿçš„ java åºåˆ—åŒ–å®ç°ã€‚</li><li>hessian2 åºåˆ—åŒ–ï¼šhessian æ˜¯ä¸€ç§è·¨è¯­è¨€çš„é«˜æ•ˆäºŒè¿›åˆ¶çš„åºåˆ—åŒ–æ–¹å¼ï¼Œä½†è¿™é‡Œå®é™…ä¸æ˜¯åŸç”Ÿçš„ hessian2 åºåˆ—åŒ–ï¼Œè€Œæ˜¯é˜¿é‡Œä¿®æ”¹è¿‡çš„ hessian liteï¼Œå®ƒæ˜¯ dubbo RPC é»˜è®¤å¯ç”¨çš„åºåˆ—åŒ–æ–¹å¼ã€‚</li><li>json åºåˆ—åŒ–ï¼šç›®å‰æœ‰ä¸¤ç§å®ç°ï¼Œä¸€ç§æ˜¯é‡‡ç”¨çš„é˜¿é‡Œçš„ fastjson åº“ï¼Œå¦ä¸€ç§æ˜¯é‡‡ç”¨ dubbo ä¸­è‡ªå·²å®ç°çš„ç®€å• json åº“ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œjson è¿™ç§æ–‡æœ¬åºåˆ—åŒ–æ€§èƒ½ä¸å¦‚äºŒè¿›åˆ¶åºåˆ—åŒ–ã€‚</li><li>java åºåˆ—åŒ–ï¼šä¸»è¦æ˜¯é‡‡ç”¨ JDK è‡ªå¸¦çš„ java åºåˆ—åŒ–å®ç°ï¼Œæ€§èƒ½å¾ˆä¸ç†æƒ³ã€‚</li><li>Kryo å’Œ FSTï¼šKryo å’Œ FST çš„æ€§èƒ½ä¾ç„¶æ™®éä¼˜äº hessian å’Œ dubbo åºåˆ—åŒ–ã€‚</li></ol><p>Hessian åºåˆ—åŒ–ä¸ Java é»˜è®¤çš„åºåˆ—åŒ–åŒºåˆ«ï¼Ÿ</p><p>Hessian æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ remoting on http å·¥å…·ï¼Œé‡‡ç”¨çš„æ˜¯ Binary RPC åè®®ï¼Œæ‰€ä»¥å®ƒå¾ˆé€‚åˆäºå‘é€äºŒè¿›åˆ¶æ•°æ®ï¼ŒåŒæ—¶åˆå…·æœ‰é˜²ç«å¢™ç©¿é€èƒ½åŠ›ã€‚</p><ol><li>Hessian æ”¯æŒè·¨è¯­è¨€ä¸²è¡Œ</li><li>æ¯” java åºåˆ—åŒ–å…·æœ‰æ›´å¥½çš„æ€§èƒ½å’Œæ˜“ç”¨æ€§</li><li>æ”¯æŒçš„è¯­è¨€æ¯”è¾ƒå¤š</li></ol><h3 id="36-protoco-buffer-æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#36-protoco-buffer-æ˜¯ä»€ä¹ˆ"></a> 3.6. Protoco Buffer æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>Protocol Buffer æ˜¯ Google å‡ºå“çš„ä¸€ç§è½»é‡ &amp; é«˜æ•ˆçš„ç»“æ„åŒ–æ•°æ®å­˜å‚¨æ ¼å¼ï¼Œæ€§èƒ½æ¯” Jsonã€XML çœŸçš„å¼ºï¼å¤ªï¼å¤šï¼</p><p>Protocol Buffer çš„åºåˆ—åŒ– &amp; ååºåˆ—åŒ–ç®€å• &amp; é€Ÿåº¦å¿«çš„åŸå› æ˜¯ï¼š</p><ol><li>ç¼–ç  / è§£ç  æ–¹å¼ç®€å•ï¼ˆåªéœ€è¦ç®€å•çš„æ•°å­¦è¿ç®— = ä½ç§»ç­‰ç­‰ï¼‰</li><li>é‡‡ç”¨ Protocol Buffer è‡ªèº«çš„æ¡†æ¶ä»£ç  å’Œ ç¼–è¯‘å™¨ å…±åŒå®Œæˆ</li></ol><p>Protocol Buffer çš„æ•°æ®å‹ç¼©æ•ˆæœå¥½ï¼ˆå³åºåˆ—åŒ–åçš„æ•°æ®é‡ä½“ç§¯å°ï¼‰çš„åŸå› æ˜¯ï¼š</p><ol><li>é‡‡ç”¨äº†ç‹¬ç‰¹çš„ç¼–ç æ–¹å¼ï¼Œå¦‚ Varintã€Zigzag ç¼–ç æ–¹å¼ç­‰ç­‰</li><li>é‡‡ç”¨ T - L - V çš„æ•°æ®å­˜å‚¨æ–¹å¼ï¼šå‡å°‘äº†åˆ†éš”ç¬¦çš„ä½¿ç”¨ &amp; æ•°æ®å­˜å‚¨å¾—ç´§å‡‘</li></ol><h3 id="37-æ³¨å†Œä¸­å¿ƒæŒ‚äº†å¯ä»¥ç»§ç»­é€šä¿¡å—"><a class="markdownIt-Anchor" href="#37-æ³¨å†Œä¸­å¿ƒæŒ‚äº†å¯ä»¥ç»§ç»­é€šä¿¡å—"></a> 3.7. æ³¨å†Œä¸­å¿ƒæŒ‚äº†å¯ä»¥ç»§ç»­é€šä¿¡å—ï¼Ÿ</h3><p>å¯ä»¥ã€‚Dubbo æ¶ˆè´¹è€…åœ¨åº”ç”¨å¯åŠ¨æ—¶ä¼šä»æ³¨å†Œä¸­å¿ƒæ‹‰å–å·²æ³¨å†Œçš„ç”Ÿäº§è€…çš„åœ°å€æ¥å£ï¼Œå¹¶ç¼“å­˜åœ¨æœ¬åœ°ã€‚æ¯æ¬¡è°ƒç”¨æ—¶ï¼ŒæŒ‰ç…§æœ¬åœ°å­˜å‚¨çš„åœ°å€è¿›è¡Œè°ƒç”¨ã€‚</p><h3 id="38-zookeeper-åŸç†æ˜¯ä»€ä¹ˆzookeeper-æœ‰ä»€ä¹ˆç”¨"><a class="markdownIt-Anchor" href="#38-zookeeper-åŸç†æ˜¯ä»€ä¹ˆzookeeper-æœ‰ä»€ä¹ˆç”¨"></a> 3.8. ZooKeeper åŸç†æ˜¯ä»€ä¹ˆï¼ŸZooKeeper æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p>ZooKeeper æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼åº”ç”¨åè°ƒç³»ç»Ÿï¼Œå·²ç»ç”¨åˆ°äº†è®¸å¤šåˆ†å¸ƒå¼é¡¹ç›®ä¸­ï¼Œç”¨æ¥å®Œæˆç»Ÿä¸€å‘½åæœåŠ¡ã€çŠ¶æ€åŒæ­¥æœåŠ¡ã€é›†ç¾¤ç®¡ç†ã€åˆ†å¸ƒå¼åº”ç”¨é…ç½®é¡¹çš„ç®¡ç†ç­‰å·¥ä½œã€‚</p><div align="center"><img src="https://raw.githubusercontent.com/dunwu/JavaWeb/master/images/distributed/rpc/zookeeper/zookeeper-service.png"></div><ol><li>æ¯ä¸ª Server åœ¨å†…å­˜ä¸­å­˜å‚¨äº†ä¸€ä»½æ•°æ®ï¼›</li><li>Zookeeper å¯åŠ¨æ—¶ï¼Œå°†ä»å®ä¾‹ä¸­é€‰ä¸¾ä¸€ä¸ª leaderï¼ˆPaxos åè®®ï¼‰ï¼›</li><li>Leader è´Ÿè´£å¤„ç†æ•°æ®æ›´æ–°ç­‰æ“ä½œï¼ˆZab åè®®ï¼‰ï¼›</li><li>ä¸€ä¸ªæ›´æ–°æ“ä½œæˆåŠŸï¼Œå½“ä¸”ä»…å½“å¤§å¤šæ•° Server åœ¨å†…å­˜ä¸­æˆåŠŸä¿®æ”¹æ•°æ®ã€‚</li></ol><h3 id="39-netty-æœ‰ä»€ä¹ˆç”¨niobioaio-æœ‰ä»€ä¹ˆç”¨æœ‰ä»€ä¹ˆåŒºåˆ«"><a class="markdownIt-Anchor" href="#39-netty-æœ‰ä»€ä¹ˆç”¨niobioaio-æœ‰ä»€ä¹ˆç”¨æœ‰ä»€ä¹ˆåŒºåˆ«"></a> 3.9. Netty æœ‰ä»€ä¹ˆç”¨ï¼ŸNIO/BIO/AIO æœ‰ä»€ä¹ˆç”¨ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>Netty æ˜¯ä¸€ä¸ªâ€œç½‘ç»œé€šè®¯æ¡†æ¶â€ã€‚</p><p>Netty è¿›è¡Œäº‹ä»¶å¤„ç†çš„æµç¨‹ã€‚<code>Channel</code>æ˜¯è¿æ¥çš„é€šé“ï¼Œæ˜¯ ChannelEvent çš„äº§ç”Ÿè€…ï¼Œè€Œ<code>ChannelPipeline</code>å¯ä»¥ç†è§£ä¸º ChannelHandler çš„é›†åˆã€‚</p><p><br><div align="center"><img src="https://camo.githubusercontent.com/5f7331d15c79fba29474c5be6e9e86db465637c3/687474703a2f2f7374617469632e6f736368696e612e6e65742f75706c6f6164732f73706163652f323031332f303932312f3137343033325f313872625f3139303539312e706e67"></div><br></p><blockquote><p>å‚è€ƒï¼š<a href="https://github.com/code4craft/netty-learning/blob/master/posts/ch1-overview.md" target="_blank" rel="noopener">https://github.com/code4craft/netty-learning/blob/master/posts/ch1-overview.md</a></p></blockquote><p>IO çš„æ–¹å¼é€šå¸¸åˆ†ä¸ºå‡ ç§ï¼š</p><ul><li>åŒæ­¥é˜»å¡çš„ BIO</li><li>åŒæ­¥éé˜»å¡çš„ NIO</li><li>å¼‚æ­¥éé˜»å¡çš„ AIO</li></ul><p>åœ¨ä½¿ç”¨åŒæ­¥ I/O çš„ç½‘ç»œåº”ç”¨ä¸­ï¼Œå¦‚æœè¦åŒæ—¶å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚ï¼Œæˆ–æ˜¯åœ¨å®¢æˆ·ç«¯è¦åŒæ—¶å’Œå¤šä¸ªæœåŠ¡å™¨è¿›è¡Œé€šè®¯ï¼Œå°±å¿…é¡»ä½¿ç”¨å¤šçº¿ç¨‹æ¥å¤„ç†ã€‚</p><p>NIO åŸºäº Reactorï¼Œå½“ socket æœ‰æµå¯è¯»æˆ–å¯å†™å…¥ socket æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šç›¸åº”çš„é€šçŸ¥å¼•ç”¨ç¨‹åºè¿›è¡Œå¤„ç†ï¼Œåº”ç”¨å†å°†æµè¯»å–åˆ°ç¼“å†²åŒºæˆ–å†™å…¥æ“ä½œç³»ç»Ÿã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå·²ç»ä¸æ˜¯ä¸€ä¸ªè¿æ¥å°±è¦å¯¹åº”ä¸€ä¸ªå¤„ç†çº¿ç¨‹äº†ï¼Œè€Œæ˜¯æœ‰æ•ˆçš„è¯·æ±‚ï¼Œå¯¹åº”ä¸€ä¸ªçº¿ç¨‹ï¼Œå½“è¿æ¥æ²¡æœ‰æ•°æ®æ—¶ï¼Œæ˜¯æ²¡æœ‰å·¥ä½œçº¿ç¨‹æ¥å¤„ç†çš„ã€‚</p><p>ä¸ NIO ä¸åŒï¼Œå½“è¿›è¡Œè¯»å†™æ“ä½œæ—¶ï¼Œåªé¡»ç›´æ¥è°ƒç”¨ API çš„ read æˆ– write æ–¹æ³•å³å¯ã€‚è¿™ä¸¤ç§æ–¹æ³•å‡ä¸ºå¼‚æ­¥çš„ï¼Œå¯¹äºè¯»æ“ä½œè€Œè¨€ï¼Œå½“æœ‰æµå¯è¯»å–æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šå°†å¯è¯»çš„æµä¼ å…¥ read æ–¹æ³•çš„ç¼“å†²åŒºï¼Œå¹¶é€šçŸ¥åº”ç”¨ç¨‹åºï¼›å¯¹äºå†™æ“ä½œè€Œè¨€ï¼Œå½“æ“ä½œç³»ç»Ÿå°† write æ–¹æ³•ä¼ é€’çš„æµå†™å…¥å®Œæ¯•æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¸»åŠ¨é€šçŸ¥åº”ç”¨ç¨‹åºã€‚  å³å¯ä»¥ç†è§£ä¸ºï¼Œread/write æ–¹æ³•éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå®Œæˆåä¼šä¸»åŠ¨è°ƒç”¨å›è°ƒå‡½æ•°ã€‚</p><blockquote><p>å‚è€ƒï¼š<a href="https://blog.csdn.net/skiof007/article/details/52873421" target="_blank" rel="noopener">https://blog.csdn.net/skiof007/article/details/52873421</a></p></blockquote><h3 id="310-ä¸ºä»€ä¹ˆè¦è¿›è¡Œç³»ç»Ÿæ‹†åˆ†æ‹†åˆ†ä¸ç”¨-dubbo-å¯ä»¥å—"><a class="markdownIt-Anchor" href="#310-ä¸ºä»€ä¹ˆè¦è¿›è¡Œç³»ç»Ÿæ‹†åˆ†æ‹†åˆ†ä¸ç”¨-dubbo-å¯ä»¥å—"></a> 3.10. ä¸ºä»€ä¹ˆè¦è¿›è¡Œç³»ç»Ÿæ‹†åˆ†ï¼Ÿæ‹†åˆ†ä¸ç”¨ Dubbo å¯ä»¥å—ï¼Ÿ</h3><p>ç³»ç»Ÿæ‹†åˆ†ä»èµ„æºè§’åº¦åˆ†ä¸ºï¼šåº”ç”¨æ‹†åˆ†å’Œæ•°æ®åº“æ‹†åˆ†ã€‚</p><p>ä»é‡‡ç”¨çš„å…ˆåé¡ºåºå¯åˆ†ä¸ºï¼šæ°´å¹³æ‰©å±•ã€å‚ç›´æ‹†åˆ†ã€ä¸šåŠ¡æ‹†åˆ†ã€æ°´å¹³æ‹†åˆ†ã€‚</p><p><br><div align="center"><img src="http://misc.linkedkeeper.com/misc/img/blog/201804/linkedkeeper0_9c2ed2ed-6156-40f7-ad08-20af067047ca.jpg"></div><br></p><p>æ˜¯å¦ä½¿ç”¨æœåŠ¡ä¾æ®å®é™…ä¸šåŠ¡åœºæ™¯æ¥å†³å®šã€‚</p><p>å½“å‚ç›´åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œåº”ç”¨ä¹‹é—´äº¤äº’ä¸å¯é¿å…ï¼Œå°†æ ¸å¿ƒä¸šåŠ¡æŠ½å–å‡ºæ¥ï¼Œä½œä¸ºç‹¬ç«‹çš„æœåŠ¡ï¼Œé€æ¸å½¢æˆç¨³å®šçš„æœåŠ¡ä¸­å¿ƒï¼Œä½¿å‰ç«¯åº”ç”¨èƒ½æ›´å¿«é€Ÿçš„å“åº”å¤šå˜çš„å¸‚åœºéœ€æ±‚ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜ä¸šåŠ¡å¤ç”¨åŠæ•´åˆçš„åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶(RPC)æ˜¯å…³é”®ã€‚</p><p>å½“æœåŠ¡è¶Šæ¥è¶Šå¤šï¼Œå®¹é‡çš„è¯„ä¼°ï¼Œå°æœåŠ¡èµ„æºçš„æµªè´¹ç­‰é—®é¢˜é€æ¸æ˜¾ç°ï¼Œæ­¤æ—¶éœ€å¢åŠ ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒåŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤åˆ©ç”¨ç‡ã€‚æ­¤æ—¶ï¼Œç”¨äºæé«˜æœºå™¨åˆ©ç”¨ç‡çš„èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA)æ˜¯å…³é”®ã€‚</p><h3 id="311-dubbo-å’Œ-thrift-æœ‰ä»€ä¹ˆåŒºåˆ«"><a class="markdownIt-Anchor" href="#311-dubbo-å’Œ-thrift-æœ‰ä»€ä¹ˆåŒºåˆ«"></a> 3.11. Dubbo å’Œ Thrift æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><ul><li>Thrift æ˜¯è·¨è¯­è¨€çš„ RPC æ¡†æ¶ã€‚</li><li>Dubbo æ”¯æŒæœåŠ¡æ²»ç†ï¼Œè€Œ Thrift ä¸æ”¯æŒã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åˆ†å¸ƒå¼æŠ€æœ¯é¢è¯•é¢˜&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#åˆ†å¸ƒå¼æŠ€æœ¯é¢è¯•é¢˜&quot;&gt;&lt;/a&gt; åˆ†å¸ƒå¼æŠ€æœ¯é¢è¯•é¢˜&lt;/h1&gt;
&lt;!-- TOC depthFrom:2 depthTo:3 --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;#1-%
      
    
    </summary>
    
      <category term="design" scheme="https://dunwu.github.io/categories/design/"/>
    
      <category term="architecture" scheme="https://dunwu.github.io/categories/design/architecture/"/>
    
    
      <category term="design" scheme="https://dunwu.github.io/tags/design/"/>
    
      <category term="architecture" scheme="https://dunwu.github.io/tags/architecture/"/>
    
      <category term="distributed" scheme="https://dunwu.github.io/tags/distributed/"/>
    
      <category term="interview" scheme="https://dunwu.github.io/tags/interview/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/java/spring/web/README/"/>
    <id>https://dunwu.github.io/2019/03/06/java/spring/web/README/</id>
    <published>2019-03-06T08:38:13.369Z</published>
    <updated>2019-03-26T15:47:30.767Z</updated>
    
    <content type="html"><![CDATA[<h1 id="web"><a class="markdownIt-Anchor" href="#web"></a> Web</h1><h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2><ul><li><a href="spring-mvc-introduction.html">SpringMVC ç®€ä»‹</a></li><li><a href="spring-and-websocket.html">Spring å’Œ WebSocket</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;web&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#web&quot;&gt;&lt;/a&gt; Web&lt;/h1&gt;
&lt;h2 id=&quot;ç›®å½•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç›®å½•&quot;&gt;&lt;/a&gt; ç›®å½•&lt;/h2&gt;
&lt;ul&gt;
&lt;l
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/java/spring/introduction/README/"/>
    <id>https://dunwu.github.io/2019/03/06/java/spring/introduction/README/</id>
    <published>2019-03-06T08:38:13.347Z</published>
    <updated>2019-03-26T15:47:30.716Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ç®€ä»‹introduction"><a class="markdownIt-Anchor" href="#ç®€ä»‹introduction"></a> ç®€ä»‹ï¼ˆintroductionï¼‰</h1><h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ç®€ä»‹introduction&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç®€ä»‹introduction&quot;&gt;&lt;/a&gt; ç®€ä»‹ï¼ˆintroductionï¼‰&lt;/h1&gt;
&lt;h2 id=&quot;ç›®å½•&quot;&gt;&lt;a class=&quot;markdownIt-Anch
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/java/spring/integration/README/"/>
    <id>https://dunwu.github.io/2019/03/06/java/spring/integration/README/</id>
    <published>2019-03-06T08:38:13.311Z</published>
    <updated>2019-03-26T15:47:30.657Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é›†æˆintegration"><a class="markdownIt-Anchor" href="#é›†æˆintegration"></a> é›†æˆï¼ˆintegrationï¼‰</h1><h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2><ul><li><a href="spring-and-dubbo.html">Spring é›†æˆ Dubbo</a></li><li><a href="spring-and-cache.html">Spring é›†æˆç¼“å­˜</a></li><li><a href="spring-and-scheduler.html">Spring é›†æˆè°ƒåº¦å™¨</a></li><li><a href="lombok.html">Lombok ä½¿ç”¨å°ç»“</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;é›†æˆintegration&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é›†æˆintegration&quot;&gt;&lt;/a&gt; é›†æˆï¼ˆintegrationï¼‰&lt;/h1&gt;
&lt;h2 id=&quot;ç›®å½•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot;
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/java/spring/data/README/"/>
    <id>https://dunwu.github.io/2019/03/06/java/spring/data/README/</id>
    <published>2019-03-06T08:38:13.263Z</published>
    <updated>2019-03-26T15:47:30.601Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®data"><a class="markdownIt-Anchor" href="#æ•°æ®data"></a> æ•°æ®ï¼ˆdataï¼‰</h1><h2 id="å†…å®¹"><a class="markdownIt-Anchor" href="#å†…å®¹"></a> å†…å®¹</h2><ul><li><p>Spring çš„æ•°æ®è®¿é—®ç­–ç•¥</p></li><li><p>ä½¿ç”¨ JDBC è®¿é—®æ•°æ®</p></li><li><p>ä½¿ç”¨ ORM è®¿é—®æ•°æ®ï¼ˆå¾…è¡¥å……ï¼‰</p></li><li><p>äº‹åŠ¡ç®¡ç†ï¼ˆå¾…è¡¥å……ï¼‰</p></li></ul><h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ•°æ®data&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ•°æ®data&quot;&gt;&lt;/a&gt; æ•°æ®ï¼ˆdataï¼‰&lt;/h1&gt;
&lt;h2 id=&quot;å†…å®¹&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å†…å®¹&quot;&gt;&lt;/a&gt; å†…å®¹&lt;/
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/java/spring/appendix/README/"/>
    <id>https://dunwu.github.io/2019/03/06/java/spring/appendix/README/</id>
    <published>2019-03-06T08:38:13.221Z</published>
    <updated>2019-03-26T15:47:30.486Z</updated>
    
    <content type="html"><![CDATA[<h1 id="é™„å½•appendix"><a class="markdownIt-Anchor" href="#é™„å½•appendix"></a> é™„å½•ï¼ˆappendixï¼‰</h1><h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;é™„å½•appendix&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#é™„å½•appendix&quot;&gt;&lt;/a&gt; é™„å½•ï¼ˆappendixï¼‰&lt;/h1&gt;
&lt;h2 id=&quot;ç›®å½•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#ç›®
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/java/javastack/javatool/build/maven/README/"/>
    <id>https://dunwu.github.io/2019/03/06/java/javastack/javatool/build/maven/README/</id>
    <published>2019-03-06T08:38:12.757Z</published>
    <updated>2019-03-26T15:47:29.364Z</updated>
    
    <content type="html"><![CDATA[<h1 id="maven"><a class="markdownIt-Anchor" href="#maven"></a> Maven</h1><ul><li><a href="maven-quickstart.md">Maven å¿«é€ŸæŒ‡å—</a></li><li><a href="maven-pom.md">Maven ä¹‹ pom.xml è¯¦è§£</a></li><li><a href="maven-settings.md">Maven ä¹‹ settings.xml è¯¦è§£</a></li><li><a href="maven-action.md">Maven å¸¸è§é—®é¢˜å’Œæœ€ä½³å®è·µ</a></li><li><a href="maven-deploy.md">å‘å¸ƒé¡¹ç›®åˆ° Maven ä¸­å¤®ä»“åº“</a></li><li><a href="nexus.md">éƒ¨ç½²å¹¶ä½¿ç”¨ Nexus ä½œä¸º Maven ç§æœ</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;maven&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#maven&quot;&gt;&lt;/a&gt; Maven&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;maven-quickstart.md&quot;&gt;Maven å¿«é€ŸæŒ‡å—&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a 
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/java/javacore/concurrent/README/"/>
    <id>https://dunwu.github.io/2019/03/06/java/javacore/concurrent/README/</id>
    <published>2019-03-06T08:38:12.520Z</published>
    <updated>2019-03-26T15:47:27.820Z</updated>
    
    <content type="html"><![CDATA[<h1 id="java-å¹¶å‘"><a class="markdownIt-Anchor" href="#java-å¹¶å‘"></a> Java å¹¶å‘</h1><h2 id="å†…å®¹ç›®å½•"><a class="markdownIt-Anchor" href="#å†…å®¹ç›®å½•"></a> å†…å®¹ç›®å½•</h2><ul><li><a href="Java%E5%B9%B6%E5%8F%91%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%86.md">Java å¹¶å‘é¢è¯•é¢˜é›†</a></li><li><a href="%E5%B9%B6%E5%8F%91%E7%AE%80%E4%BB%8B.md">ç¬¬ä¸€ç«  å¹¶å‘ç®€ä»‹</a></li><li><a href="%E7%BA%BF%E7%A8%8B%E5%9F%BA%E7%A1%80.md">ç¬¬äºŒç«  çº¿ç¨‹åŸºç¡€</a></li><li><a href="%E5%B9%B6%E5%8F%91%E6%9C%BA%E5%88%B6%E7%9A%84%E5%BA%95%E5%B1%82%E5%AE%9E%E7%8E%B0.md">ç¬¬ä¸‰ç«  å¹¶å‘æœºåˆ¶çš„åº•å±‚å®ç°</a></li><li><a href="%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B.md">ç¬¬å››ç«  å†…å­˜æ¨¡å‹</a></li><li><a href="%E5%90%8C%E6%AD%A5%E5%AE%B9%E5%99%A8%E5%92%8C%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8.md">ç¬¬äº”ç«  åŒæ­¥å®¹å™¨å’Œå¹¶å‘å®¹å™¨</a></li><li><a href="%E9%94%81.md">ç¬¬å…­ç«  é”</a></li><li><a href="%E5%8E%9F%E5%AD%90%E5%8F%98%E9%87%8F%E7%B1%BB.md">ç¬¬ä¸ƒç«  åŸå­å˜é‡ç±»</a></li><li><a href="%E5%B9%B6%E5%8F%91%E5%B7%A5%E5%85%B7%E7%B1%BB.md">ç¬¬å…«ç«  å¹¶å‘å·¥å…·ç±»</a></li><li><a href="%E7%BA%BF%E7%A8%8B%E6%B1%A0.md">ç¬¬ä¹ç«  çº¿ç¨‹æ± </a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;java-å¹¶å‘&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#java-å¹¶å‘&quot;&gt;&lt;/a&gt; Java å¹¶å‘&lt;/h1&gt;
&lt;h2 id=&quot;å†…å®¹ç›®å½•&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å†…å®¹ç›®å½•&quot;&gt;&lt;/a&gt;
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title>React å¿«é€Ÿå…¥é—¨</title>
    <link href="https://dunwu.github.io/2019/03/06/frontend/mvc/react/"/>
    <id>https://dunwu.github.io/2019/03/06/frontend/mvc/react/</id>
    <published>2019-03-06T08:38:11.317Z</published>
    <updated>2019-03-26T15:47:27.069Z</updated>
    
    <content type="html"><![CDATA[<h1 id="react-å¿«é€Ÿå…¥é—¨"><a class="markdownIt-Anchor" href="#react-å¿«é€Ÿå…¥é—¨"></a> React å¿«é€Ÿå…¥é—¨</h1><!-- TOC depthFrom:2 depthTo:3 --><ul><li><a href="#%E5%AE%89%E8%A3%85">å®‰è£…</a></li><li><a href="#introducing-jsx">Introducing JSX</a><ul><li><a href="#jsx-%E4%B8%AD%E5%B5%8C%E5%85%A5%E8%A1%A8%E8%BE%BE%E5%BC%8F">JSX ä¸­åµŒå…¥è¡¨è¾¾å¼</a></li><li><a href="#jsx-%E4%B9%9F%E6%98%AF%E4%B8%80%E4%B8%AA%E8%A1%A8%E8%BE%BE%E5%BC%8F">JSX ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</a></li><li><a href="#%E7%94%A8-jsx-%E6%8C%87%E5%AE%9A%E5%B1%9E%E6%80%A7%E5%80%BC">ç”¨ JSX æŒ‡å®šå±æ€§å€¼</a></li><li><a href="#%E7%94%A8-jsx-%E6%8C%87%E5%AE%9A%E5%AD%90%E5%85%83%E7%B4%A0">ç”¨ JSX æŒ‡å®šå­å…ƒç´ </a></li><li><a href="#jsx-%E9%98%B2%E6%AD%A2%E6%B3%A8%E5%85%A5%E6%94%BB%E5%87%BB">JSX é˜²æ­¢æ³¨å…¥æ”»å‡»</a></li><li><a href="#jsx-%E8%A1%A8%E7%A4%BA%E5%AF%B9%E8%B1%A1">JSX è¡¨ç¤ºå¯¹è±¡</a></li></ul></li><li><a href="#%E6%B8%B2%E6%9F%93%E5%85%83%E7%B4%A0">æ¸²æŸ“å…ƒç´ </a><ul><li><a href="#%E6%B8%B2%E6%9F%93%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E5%88%B0-dom">æ¸²æŸ“ä¸€ä¸ªå…ƒç´ åˆ° DOM</a></li><li><a href="#%E6%9B%B4%E6%96%B0%E5%B7%B2%E6%B8%B2%E6%9F%93%E7%9A%84%E5%85%83%E7%B4%A0">æ›´æ–°å·²æ¸²æŸ“çš„å…ƒç´ </a></li><li><a href="#react-%E5%8F%AA%E6%9B%B4%E6%96%B0%E5%BF%85%E9%9C%80%E8%A6%81%E6%9B%B4%E6%96%B0%E7%9A%84%E9%83%A8%E5%88%86">React åªæ›´æ–°å¿…éœ€è¦æ›´æ–°çš„éƒ¨åˆ†</a></li></ul></li><li><a href="#%E7%BB%84%E4%BB%B6components-%E5%92%8C-%E5%B1%9E%E6%80%A7props">ç»„ä»¶(Components) å’Œ å±æ€§(Props)</a><ul><li><a href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6%E5%92%8C%E7%B1%BB%E7%BB%84%E4%BB%B6">å‡½æ•°å¼ç»„ä»¶å’Œç±»ç»„ä»¶</a></li><li><a href="#%E6%B8%B2%E6%9F%93%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6">æ¸²æŸ“ä¸€ä¸ªç»„ä»¶</a></li><li><a href="#%E6%9E%84%E6%88%90%E7%BB%84%E4%BB%B6">æ„æˆç»„ä»¶</a></li><li><a href="#%E6%8F%90%E5%8F%96%E7%BB%84%E4%BB%B6">æå–ç»„ä»¶</a></li><li><a href="#props-%E6%98%AF%E5%8F%AA%E8%AF%BB%E7%9A%84">Props æ˜¯åªè¯»çš„</a></li></ul></li><li><a href="#%E6%8A%8A%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BB%84%E4%BB%B6%E8%BD%AC%E5%8C%96%E4%B8%BA%E7%B1%BB%E7%BB%84%E4%BB%B6">æŠŠå‡½æ•°å¼ç»„ä»¶è½¬åŒ–ä¸ºç±»ç»„ä»¶</a></li><li><a href="#%E5%9C%A8%E7%B1%BB%E7%BB%84%E4%BB%B6%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%9C%AC%E5%9C%B0%E7%8A%B6%E6%80%81state">åœ¨ç±»ç»„ä»¶ä¸­æ·»åŠ æœ¬åœ°çŠ¶æ€(state)</a></li><li><a href="#%E5%9C%A8%E7%B1%BB%E4%B8%AD%E6%B7%BB%E5%8A%A0%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%96%B9%E6%B3%95">åœ¨ç±»ä¸­æ·»åŠ ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</a></li><li><a href="#%E6%AD%A3%E7%A1%AE%E5%9C%B0%E4%BD%BF%E7%94%A8-state%E7%8A%B6%E6%80%81">æ­£ç¡®åœ°ä½¿ç”¨ State(çŠ¶æ€)</a><ul><li><a href="#%E4%B8%8D%E8%A6%81%E7%9B%B4%E6%8E%A5%E4%BF%AE%E6%94%B9-state%E7%8A%B6%E6%80%81">ä¸è¦ç›´æ¥ä¿®æ”¹ state(çŠ¶æ€)</a></li><li><a href="#state%E7%8A%B6%E6%80%81-%E6%9B%B4%E6%96%B0%E5%8F%AF%E8%83%BD%E6%98%AF%E5%BC%82%E6%AD%A5%E7%9A%84">state(çŠ¶æ€) æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„</a></li><li><a href="#state%E7%8A%B6%E6%80%81%E6%9B%B4%E6%96%B0%E4%BC%9A%E8%A2%AB%E5%90%88%E5%B9%B6">state(çŠ¶æ€)æ›´æ–°ä¼šè¢«åˆå¹¶</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E5%90%91%E4%B8%8B%E6%B5%81%E5%8A%A8">æ•°æ®å‘ä¸‹æµåŠ¨</a><ul><li><a href="#%E5%85%83%E7%B4%A0%E5%8F%98%E9%87%8F">å…ƒç´ å˜é‡</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E9%80%BB%E8%BE%91--%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E5%86%85%E8%81%94-if-%E7%94%A8%E6%B3%95">ä½¿ç”¨é€»è¾‘ &amp;&amp; æ“ä½œç¬¦çš„å†…è” if ç”¨æ³•</a></li><li><a href="#%E4%BD%BF%E7%94%A8%E6%9D%A1%E4%BB%B6%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E5%86%85%E8%81%94-if-else">ä½¿ç”¨æ¡ä»¶æ“ä½œç¬¦çš„å†…è” If-Else</a></li><li><a href="#%E9%98%B2%E6%AD%A2%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93">é˜²æ­¢ç»„ä»¶æ¸²æŸ“</a></li><li><a href="#%E5%A4%9A%E7%BB%84%E4%BB%B6%E6%B8%B2%E6%9F%93">å¤šç»„ä»¶æ¸²æŸ“</a></li><li><a href="#%E5%9F%BA%E6%9C%AC%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6">åŸºæœ¬åˆ—è¡¨ç»„ä»¶</a></li></ul></li><li><a href="#%E9%94%AEkeys">é”®(Keys)</a><ul><li><a href="#%E4%BD%BF%E7%94%A8-keys-%E6%8F%90%E5%8F%96%E7%BB%84%E4%BB%B6">ä½¿ç”¨ keys æå–ç»„ä»¶</a></li><li><a href="#keys-%E5%9C%A8%E5%90%8C%E8%BE%88%E5%85%83%E7%B4%A0%E4%B8%AD%E5%BF%85%E9%A1%BB%E6%98%AF%E5%94%AF%E4%B8%80%E7%9A%84">keys åœ¨åŒè¾ˆå…ƒç´ ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„</a></li><li><a href="#%E5%9C%A8-jsx-%E4%B8%AD%E5%B5%8C%E5%85%A5-map">åœ¨ JSX ä¸­åµŒå…¥ map()</a></li></ul></li><li><a href="#%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6controlled-components">å—æ§ç»„ä»¶(Controlled Components)</a></li><li><a href="#textare-%E6%A0%87%E7%AD%BE">textare æ ‡ç­¾</a></li><li><a href="#select-%E6%A0%87%E7%AD%BE">select æ ‡ç­¾</a></li><li><a href="#%E5%A4%84%E7%90%86%E5%A4%9A%E4%B8%AA%E8%BE%93%E5%85%A5%E5%85%83%E7%B4%A0">å¤„ç†å¤šä¸ªè¾“å…¥å…ƒç´ </a></li><li><a href="#%E5%8F%97%E6%8E%A7%E7%BB%84%E4%BB%B6%E7%9A%84%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88">å—æ§ç»„ä»¶çš„æ›¿ä»£æ–¹æ¡ˆ</a></li><li><a href="#%E6%B7%BB%E5%8A%A0%E7%AC%AC%E4%BA%8C%E4%B8%AA%E8%BE%93%E5%85%A5">æ·»åŠ ç¬¬äºŒä¸ªè¾“å…¥</a></li><li><a href="#%E7%BC%96%E5%86%99%E8%BD%AC%E6%8D%A2%E5%87%BD%E6%95%B0">ç¼–å†™è½¬æ¢å‡½æ•°</a></li><li><a href="#%E7%8A%B6%E6%80%81%E6%8F%90%E5%8D%87lifting-state-up">çŠ¶æ€æå‡(Lifting State Up)</a></li><li><a href="#%E7%BB%8F%E9%AA%8C%E6%80%BB%E7%BB%93">ç»éªŒæ€»ç»“</a></li><li><a href="#%E5%8C%85%E5%90%AB">åŒ…å«</a></li><li><a href="#%E7%89%B9%E4%BE%8B">ç‰¹ä¾‹</a></li><li><a href="#%E5%A6%82%E4%BD%95%E7%9C%8B%E5%BE%85">å¦‚ä½•çœ‹å¾…ï¼Ÿ</a></li></ul><!-- /TOC --><h2 id="å®‰è£…"><a class="markdownIt-Anchor" href="#å®‰è£…"></a> å®‰è£…</h2><ol><li>ç›´æ¥ä¸‹è½½ä½¿ç”¨</li></ol><p>React å¯ä»¥ç›´æ¥ä¸‹è½½ä½¿ç”¨ï¼Œä¸‹è½½åŒ…ä¸­ä¹Ÿæä¾›äº†å¾ˆå¤šå­¦ä¹ çš„å®ä¾‹ã€‚</p><p>ä½ å¯ä»¥åœ¨å®˜ç½‘  <a href="http://facebook.github.io/react/" target="_blank" rel="noopener">http://facebook.github.io/react/</a>  ä¸‹è½½æœ€æ–°ç‰ˆã€‚</p><ol start="2"><li>é€šè¿‡ npm ä½¿ç”¨ React</li></ol><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ npm install -S react react-dom</span><br></pre></td></tr></table></figure><ol start="3"><li>é€šè¿‡ yarn ä½¿ç”¨ React</li></ol><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ yarn add react react-dom</span><br></pre></td></tr></table></figure><ol start="4"><li><p>ä½¿ç”¨å„ç§å¿«é€Ÿæ„å»ºå·¥å…·</p><p>ç›®å‰æœ€æµè¡Œçš„æ„å»ºå·¥å…·åº”è¯¥æ˜¯ create-react-appï¼Œå®ƒä½¿å¾—ç”¨æˆ·å¯ä»¥é€šè¿‡å‘½ä»¤å°±èƒ½å¿«é€Ÿæ„å»º React å¼€å‘ç¯å¢ƒã€‚</p><p>create-react-app è‡ªåŠ¨åˆ›å»ºçš„é¡¹ç›®æ˜¯åŸºäº Webpack + ES6 ã€‚</p></li></ol><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">$ npm install -g create-react-app</span><br><span class="line">$ create-react-app my-app</span><br><span class="line">$ <span class="built_in">cd</span> my-app/</span><br><span class="line">$ npm start</span><br></pre></td></tr></table></figure><h2 id="introducing-jsx"><a class="markdownIt-Anchor" href="#introducing-jsx"></a> Introducing JSX</h2><p>è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªå˜é‡çš„å£°æ˜ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure><p>è¿™ç§æœ‰è¶£çš„æ ‡ç­¾è¯­æ³•æ—¢ä¸æ˜¯å­—ç¬¦ä¸²ä¹Ÿä¸æ˜¯ HTMLã€‚</p><p>è¿™å°±æ˜¯ JSX ï¼Œä»–æ˜¯ JavaScrip çš„ä¸€ç§æ‰©å±•è¯­æ³•ã€‚æˆ‘ä»¬æ¨èåœ¨ React ä¸­ä½¿ç”¨è¿™ç§è¯­æ³•æ¥æè¿° UI ä¿¡æ¯ã€‚JSX å¯èƒ½ä¼šè®©ä½ æƒ³èµ·æŸç§æ¨¡æ¿è¯­è¨€ï¼Œä½†æ˜¯å®ƒå…·æœ‰ JavaScrip çš„å…¨éƒ¨èƒ½åŠ›ã€‚</p><p>JSX å¯ä»¥ç”Ÿæˆ React â€œå…ƒç´ â€ã€‚æˆ‘ä»¬å°†åœ¨<a href="http://www.css88.com/react/docs/rendering-elements.html" target="_blank" rel="noopener">ä¸‹ä¸€ç« </a>æ¢ç´¢å¦‚ä½•æŠŠå®ƒæ¸²æŸ“åˆ° DOM ä¸Šã€‚ä¸‹é¢ä½ å¯ä»¥æ‰¾åˆ° JSX çš„åŸºç¡€çŸ¥è¯†ï¼Œä»¥å¸®åŠ©æ‚¨å¼€å§‹ä½¿ç”¨ã€‚</p><h3 id="jsx-ä¸­åµŒå…¥è¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#jsx-ä¸­åµŒå…¥è¡¨è¾¾å¼"></a> JSX ä¸­åµŒå…¥è¡¨è¾¾å¼</h3><p>ä½ å¯ä»¥ç”¨ èŠ±æ‹¬å· æŠŠä»»æ„çš„  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Expressions_and_Operators#Expressions" target="_blank" rel="noopener">JavaScript è¡¨è¾¾å¼</a>  åµŒå…¥åˆ° JSX ä¸­ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>2 + 2</code>ï¼Œ <code>user.firstName</code>ï¼Œ å’Œ  <code>formatName(user)</code>ï¼Œè¿™äº›éƒ½æ˜¯å¯ç”¨çš„è¡¨è¾¾å¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">formatName</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> user.firstName + <span class="string">' '</span> + user.lastName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> user = &#123;</span><br><span class="line">  firstName: <span class="string">'Harper'</span>,</span><br><span class="line">  lastName: <span class="string">'Perez'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> element = (</span><br><span class="line">  &lt;h1&gt;</span><br><span class="line">    Hello, &#123;formatName(user)&#125;!</span><br><span class="line">  &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  element,</span></span><br><span class="line"><span class="regexp">  document.getElementById('root')</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/PGEjdG?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>ä¸ºä¾¿äºé˜…è¯»ï¼Œæˆ‘ä»¬å°† JSX åˆ†å‰²æˆå¤šè¡Œã€‚æˆ‘ä»¬æ¨èä½¿ç”¨æ‹¬å·å°† JSX åŒ…è£¹èµ·æ¥ï¼Œè™½ç„¶è¿™ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†è¿™æ ·åšå¯ä»¥é¿å…<a href="http://stackoverflow.com/q/2846283" target="_blank" rel="noopener">åˆ†å·è‡ªåŠ¨æ’å…¥</a>çš„é™·é˜±ã€‚</p><h3 id="jsx-ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼"><a class="markdownIt-Anchor" href="#jsx-ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼"></a> JSX ä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼</h3><p>ç¼–è¯‘ä¹‹åï¼ŒJSX è¡¨è¾¾å¼å°±å˜æˆäº†å¸¸è§„çš„ JavaScript å¯¹è±¡ã€‚</p><p>è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨  <code>if</code>  è¯­å¥æˆ–è€…æ˜¯  <code>for</code>  å¾ªç¯ä¸­ä½¿ç”¨ JSXï¼Œç”¨å®ƒç»™å˜é‡èµ‹å€¼ï¼Œå½“åšå‚æ•°æ¥æ”¶ï¼Œæˆ–è€…ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼ã€‚</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getGreeting</span>(<span class="params">user</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (user) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;formatName(user)&#125;!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, Stranger.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç”¨-jsx-æŒ‡å®šå±æ€§å€¼"><a class="markdownIt-Anchor" href="#ç”¨-jsx-æŒ‡å®šå±æ€§å€¼"></a> ç”¨ JSX æŒ‡å®šå±æ€§å€¼</h3><p>æ‚¨å¯ä»¥ä½¿ç”¨åŒå¼•å·æ¥æŒ‡å®šå­—ç¬¦ä¸²å­—é¢é‡ä½œä¸ºå±æ€§å€¼ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">tabIndex</span>=<span class="string">"0"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure><p>æ‚¨ä¹Ÿå¯ä»¥ç”¨èŠ±æ‹¬å·åµŒå…¥ä¸€ä¸ª JavaScript è¡¨è¾¾å¼ä½œä¸ºå±æ€§å€¼:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;user.avatarUrl&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">img</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure><p>åœ¨å±æ€§ä¸­åµŒå…¥ JavaScript è¡¨è¾¾å¼æ—¶ï¼Œä¸è¦ä½¿ç”¨å¼•å·æ¥åŒ…è£¹å¤§æ‹¬å·ã€‚å¦åˆ™ï¼ŒJSX å°†è¯¥å±æ€§è§†ä¸ºå­—ç¬¦ä¸²å­—é¢é‡è€Œä¸æ˜¯è¡¨è¾¾å¼ã€‚å¯¹äºå­—ç¬¦ä¸²å€¼ä½ åº”è¯¥ä½¿ç”¨å¼•å·ï¼Œå¯¹äºè¡¨è¾¾å¼ä½ åº”è¯¥ä½¿ç”¨å¤§æ‹¬å·ï¼Œä½†ä¸¤è€…ä¸èƒ½åŒæ—¶ç”¨äºåŒä¸€å±æ€§ã€‚</p><h3 id="ç”¨-jsx-æŒ‡å®šå­å…ƒç´ "><a class="markdownIt-Anchor" href="#ç”¨-jsx-æŒ‡å®šå­å…ƒç´ "></a> ç”¨ JSX æŒ‡å®šå­å…ƒç´ </h3><p>å¦‚æœæ˜¯ç©ºæ ‡ç­¾ï¼Œæ‚¨åº”è¯¥åƒ XML ä¸€æ ·ï¼Œä½¿ç”¨  <code>/&gt;</code>ç«‹å³é—­åˆå®ƒï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;user.avatarUrl&#125;</span> /&gt;</span>;</span></span><br></pre></td></tr></table></figure><p>JSX æ ‡ç­¾å¯èƒ½åŒ…å«å­å…ƒç´ ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = (</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;h1&gt;Hello!<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">    &lt;h2&gt;Good to see you here.&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><blockquote><p><strong>è­¦å‘Šï¼š</strong></p><p>æ¯”èµ· HTML ï¼Œ JSX æ›´æ¥è¿‘äº JavaScript ï¼Œ æ‰€ä»¥ React DOM ä½¿ç”¨é©¼å³°(<code>camelCase</code>)å±æ€§å‘½åçº¦å®š, è€Œä¸æ˜¯ HTML å±æ€§åç§°ã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>class</code>  åœ¨ JSX ä¸­å˜ä¸º<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/className" target="_blank" rel="noopener"><code>className</code></a>ï¼Œ<code>tabindex</code>  å˜ä¸º  <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/tabIndex" target="_blank" rel="noopener"><code>tabIndex</code></a>ã€‚</p></blockquote><h3 id="jsx-é˜²æ­¢æ³¨å…¥æ”»å‡»"><a class="markdownIt-Anchor" href="#jsx-é˜²æ­¢æ³¨å…¥æ”»å‡»"></a> JSX é˜²æ­¢æ³¨å…¥æ”»å‡»</h3><p>åœ¨ JSX ä¸­åµŒå…¥ç”¨æˆ·è¾“å…¥æ˜¯å®‰å…¨çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> title = response.potentiallyMaliciousInput;</span><br><span class="line"><span class="comment">// This is safe:</span></span><br><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;title&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ åœ¨æ¸²æŸ“ä¹‹å‰, React DOM ä¼šæ ¼å¼åŒ–(<a href="http://stackoverflow.com/questions/7381974/which-characters-need-to-be-escaped-on-html" target="_blank" rel="noopener">escapes</a>) JSX ä¸­çš„æ‰€æœ‰å€¼. ä»è€Œä¿è¯ç”¨æˆ·æ— æ³•æ³¨å…¥ä»»ä½•åº”ç”¨ä¹‹å¤–çš„ä»£ç . åœ¨è¢«æ¸²æŸ“ä¹‹å‰ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½è¢«è½¬ä¹‰æˆä¸ºäº†å­—ç¬¦ä¸²å¤„ç†ã€‚ ä»¥é¿å…  <a href="https://en.wikipedia.org/wiki/Cross-site_scripting" target="_blank" rel="noopener">XSS(è·¨ç«™è„šæœ¬)</a>  æ”»å‡»ã€‚</p><h3 id="jsx-è¡¨ç¤ºå¯¹è±¡"><a class="markdownIt-Anchor" href="#jsx-è¡¨ç¤ºå¯¹è±¡"></a> JSX è¡¨ç¤ºå¯¹è±¡</h3><p>Babel å°† JSX ç¼–è¯‘æˆ  <code>React.createElement()</code>  è°ƒç”¨ã€‚</p><p>ä¸‹é¢çš„ä¸¤ä¸ªä¾‹å­æ˜¯æ˜¯å®Œå…¨ç›¸åŒçš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = (</span><br><span class="line">  &lt;h1 className=<span class="string">"greeting"</span>&gt;</span><br><span class="line">    Hello, world!</span><br><span class="line">  &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">const element</span> = React.createElement(</span><br><span class="line">  <span class="string">'h1'</span>,</span><br><span class="line">  &#123;className: <span class="string">'greeting'</span>&#125;,</span><br><span class="line">  <span class="string">'Hello, world!'</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><code>React.createElement()</code>  ä¼šæ‰§è¡Œä¸€äº›æ£€æŸ¥æ¥å¸®åŠ©ä½ ç¼–å†™æ²¡æœ‰ bug çš„ä»£ç ï¼Œä½†åŸºæœ¬ä¸Šå®ƒä¼šåˆ›å»ºä¸€ä¸ªå¦‚ä¸‹æ‰€ç¤ºçš„å¯¹è±¡ï¼š</p><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„: è¿™æ˜¯ç®€åŒ–çš„ç»“æ„</span></span><br><span class="line"><span class="keyword">const</span> element = &#123;</span><br><span class="line">  <span class="keyword">type</span>: <span class="string">'h1'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    className: <span class="string">'greeting'</span>,</span><br><span class="line">    children: <span class="string">'Hello, world'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>è¿™äº›å¯¹è±¡è¢«ç§°ä½œâ€œReact å…ƒç´ â€ã€‚ä½ å¯ä»¥æŠŠä»–ä»¬æƒ³è±¡æˆä¸ºä½ æƒ³åœ¨å±å¹•ä¸Šæ˜¾ç¤ºå†…å®¹çš„ä¸€ç§æè¿°ã€‚React ä¼šè¯»å–è¿™äº›å¯¹è±¡ï¼Œç”¨ä»–ä»¬æ¥æ„å»º DOMï¼Œå¹¶ä¸”ä¿æŒå®ƒä»¬çš„ä¸æ–­æ›´æ–°ã€‚</p><p>æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­æ¥æ¢ç´¢å¦‚ä½•å°† React å…ƒç´ æ¸²æŸ“åˆ° DOM ä¸Šã€‚</p><blockquote><p><strong>æç¤º:</strong></p><p>æˆ‘ä»¬å»ºè®®ä½ å»æœä¸€ä¸‹ä½ ç”¨çš„ç¼–è¾‘å™¨çš„ â€œBabelâ€ è¯­æ³•æ–¹æ¡ˆ, ä»¥ä¾¿ ES6 å’Œ JSX ä»£ç éƒ½èƒ½å¤Ÿè¢«æ­£ç¡®é«˜äº®çš„æ˜¾ç¤ºã€‚</p></blockquote><h2 id="æ¸²æŸ“å…ƒç´ "><a class="markdownIt-Anchor" href="#æ¸²æŸ“å…ƒç´ "></a> æ¸²æŸ“å…ƒç´ </h2><p>å…ƒç´ (Elements)æ˜¯ React åº”ç”¨ä¸­æœ€å°çš„å»ºé€ éƒ¨ä»¶ï¼ˆæˆ–è€…è¯´æ„å»ºå—ï¼Œbuilding blocksï¼‰ã€‚</p><p>ä¸€ä¸ªå…ƒç´ ç”¨äºæè¿°ä½ åœ¨å°†åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å†…å®¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br></pre></td></tr></table></figure><p>ä¸åŒäºæµè§ˆå™¨çš„ DOM å…ƒç´ ï¼Œ React å…ƒç´ æ˜¯æ™®é€šçš„å¯¹è±¡ï¼Œéå¸¸å®¹æ˜“åˆ›å»ºã€‚React DOM ä¼šè´Ÿè´£æ›´æ–° DOM ï¼Œä»¥åŒ¹é… React å…ƒç´ ï¼ˆæ„šäººç å¤´æ³¨ï¼šDOM å…ƒç´ ä¸ React å…ƒç´ ä¿æŒä¸€è‡´ï¼‰ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼š</strong></p><p>æœ‰äººå¯èƒ½ä¼šå°†å…ƒç´ ä¸æ›´å¹¿ä¸ºäººçŸ¥çš„ â€œç»„ä»¶(Components)â€ æ¦‚å¿µç›¸æ··æ·†ã€‚æˆ‘ä»¬å°†åœ¨<a href="http://www.css88.com/react/docs/components-and-props.html" target="_blank" rel="noopener">ä¸‹ä¸€èŠ‚</a>ä»‹ç»ç»„ä»¶ã€‚å…ƒç´ æ˜¯æ„æˆç»„ä»¶çš„&quot;ææ–™&quot;ï¼Œ æ‰€ä»¥æˆ‘ä»¬å»ºè®®ä½ çœ‹å®Œæœ¬èŠ‚å†è¿›å…¥ä¸‹ä¸€èŠ‚ã€‚</p></blockquote><h3 id="æ¸²æŸ“ä¸€ä¸ªå…ƒç´ åˆ°-dom"><a class="markdownIt-Anchor" href="#æ¸²æŸ“ä¸€ä¸ªå…ƒç´ åˆ°-dom"></a> æ¸²æŸ“ä¸€ä¸ªå…ƒç´ åˆ° DOM</h3><p>æˆ‘ä»¬å‡è®¾ä½ çš„ HTML æ–‡ä»¶ä¸­çš„ä»€ä¹ˆåœ°æ–¹æœ‰è¿™ä¹ˆä¸€ä¸ª``ï¼š</p><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="built_in">id</span>=<span class="string">"root"</span>&gt;&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç§°è¿™ä¸ªæ˜¯ä¸€ä¸ª â€œæ ¹â€ DOM èŠ‚ç‚¹ï¼Œå› ä¸ºè¯¥èŠ‚ç‚¹å†…çš„æ‰€æœ‰å†…å®¹éƒ½ç”± React DOM ç®¡ç†ã€‚</p><p>å•çº¯ç”¨ React æ„å»ºçš„åº”ç”¨ç¨‹åºé€šå¸¸åªæœ‰ä¸€ä¸ªå•ç‹¬çš„ æ ¹ DOM èŠ‚ç‚¹ã€‚ä½†å¦‚æœä½ è¦æŠŠ React æ•´åˆè¿›ç°æœ‰çš„ app ä¸­ ï¼Œé‚£ä½ å¯èƒ½ä¼šæœ‰å¤šä¸ªç›¸äº’ç‹¬ç«‹çš„æ ¹ DOM èŠ‚ç‚¹ã€‚</p><p>è¦æ¸²æŸ“ä¸€ä¸ª React å…ƒç´ åˆ°ä¸€ä¸ª æ ¹ DOM èŠ‚ç‚¹ï¼Œå§å®ƒä»¬ä¼ é€’ç»™  <code>ReactDOM.render()</code>  æ–¹æ³•ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, world<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  element,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/rrpgNB?editors=1010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>ä¸Šé¢ä»£ç ä¼šåœ¨é¡µé¢ä¸Šæ˜¾ç¤º â€œHello, worldâ€ ã€‚</p><h3 id="æ›´æ–°å·²æ¸²æŸ“çš„å…ƒç´ "><a class="markdownIt-Anchor" href="#æ›´æ–°å·²æ¸²æŸ“çš„å…ƒç´ "></a> æ›´æ–°å·²æ¸²æŸ“çš„å…ƒç´ </h3><p>React å…ƒç´ æ˜¯  <a href="https://en.wikipedia.org/wiki/Immutable_object" target="_blank" rel="noopener">ä¸å¯çªå˜ï¼ˆimmutableï¼‰</a>  çš„. ä¸€æ—¦ä½ åˆ›å»ºäº†ä¸€ä¸ªå…ƒç´ , å°±ä¸èƒ½å†ä¿®æ”¹å…¶å­å…ƒç´ æˆ–ä»»ä½•å±æ€§ã€‚ä¸€ä¸ªå…ƒç´ å°±åƒç”µå½±é‡Œçš„ä¸€å¸§: å®ƒè¡¨ç¤ºåœ¨æŸä¸€ç‰¹å®šæ—¶é—´ç‚¹çš„ UI ã€‚</p><p>å°±æˆ‘ä»¬æ‰€çŸ¥, æ›´æ–° UI çš„å”¯ä¸€æ–¹æ³•æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å…ƒç´ , å¹¶å°†å…¶ä¼ å…¥<code>ReactDOM.render()</code>æ–¹æ³•.</p><p>æ€è€ƒä»¥ä¸‹æ—¶é’Ÿä¾‹å­:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tick</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> element = (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hello, world!<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">      &lt;h2&gt;It is &#123;<span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleTimeString()&#125;.&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  );</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    element,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setInterval(tick, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/gwoJZk?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>ä»¥ä¸Šä»£ç æ¯éš” 1 ç§’, å°±ä¼šé€šè¿‡  <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval" target="_blank" rel="noopener"><code>setInterval()</code></a>  å›è°ƒ  <code>ReactDOM.render()</code>  æ–¹æ³•æ¥é‡æ–°æ¸²æŸ“å…ƒç´ ã€‚</p><blockquote><p><strong>æ³¨æ„ï¼š</strong></p><p>å®é™…ä¸Šï¼Œå¤§å¤šæ•° React åº”ç”¨åªä¼šè°ƒç”¨  <code>ReactDOM.render()</code>  ä¸€æ¬¡ã€‚åœ¨æ¥ä¸‹æ¥çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å°†è¿™äº›ä»£ç å°è£…åˆ°<a href="http://www.css88.com/react/docs/state-and-lifecycle.html" target="_blank" rel="noopener">æœ‰çŠ¶æ€çš„ç»„ä»¶ä¸­</a>ã€‚</p><p>æˆ‘ä»¬å»ºè®®æ‚¨ä¸è¦è·³è¿‡ä»»ä½•ä¸€èŠ‚ï¼Œå› ä¸ºæ¯ä¸€èŠ‚ä¹‹é—´éƒ½æ˜¯å½¼æ­¤æœ‰è”ç³»çš„ã€‚</p></blockquote><h3 id="react-åªæ›´æ–°å¿…éœ€è¦æ›´æ–°çš„éƒ¨åˆ†"><a class="markdownIt-Anchor" href="#react-åªæ›´æ–°å¿…éœ€è¦æ›´æ–°çš„éƒ¨åˆ†"></a> React åªæ›´æ–°å¿…éœ€è¦æ›´æ–°çš„éƒ¨åˆ†</h3><p>React DOM ä¼šå°†å…ƒç´ åŠå…¶å­å…ƒç´ ä¸ä¹‹å‰ç‰ˆæœ¬é€ä¸€å¯¹æ¯”, å¹¶åªå¯¹æœ‰å¿…è¦æ›´æ–°çš„ DOM è¿›è¡Œæ›´æ–°, ä»¥è¾¾åˆ° DOM æ‰€éœ€çš„çŠ¶æ€ã€‚</p><p>ä½ å¯ä»¥ç”¨æµè§ˆå™¨å·¥å…·å¯¹  <a href="http://codepen.io/gaearon/pen/gwoJZk?editors=0010" target="_blank" rel="noopener">ä¸Šä¸€ä¸ªä¾‹å­</a>  è¿›è¡Œæ£€æŸ¥æ¥éªŒè¯è¿™ä¸€ç‚¹:</p><p><br><div align="center"><img src="http://www.css88.com/react/img/docs/granular-dom-updates.gif"></div><br></p><p>å³ä½¿æˆ‘ä»¬æˆ‘ä»¬æ¯éš” 1 ç§’éƒ½é‡å»ºäº†æ•´ä¸ªå…ƒç´ , ä½†å®é™…ä¸Š React DOM åªæ›´æ–°äº†ä¿®æ”¹è¿‡çš„æ–‡æœ¬èŠ‚ç‚¹.</p><p>åœ¨æˆ‘ä»¬çš„ç»éªŒä¸­, å…³æ³¨æ¯ä¸ªæ—¶é—´ç‚¹ UI çš„è¡¨ç°, è€Œä¸æ˜¯å…³æ³¨éšç€æ—¶é—´ä¸æ–­æ›´æ–° UI çš„çŠ¶æ€, å¯ä»¥å‡å°‘å¾ˆå¤šå¥‡æ€ªçš„ bug ã€‚</p><h2 id="ç»„ä»¶components-å’Œ-å±æ€§props"><a class="markdownIt-Anchor" href="#ç»„ä»¶components-å’Œ-å±æ€§props"></a> ç»„ä»¶(Components) å’Œ å±æ€§(Props)</h2><p>ç»„ä»¶ä½¿ä½ å¯ä»¥å°† UI åˆ’åˆ†ä¸ºä¸€ä¸ªä¸€ä¸ªç‹¬ç«‹ï¼Œå¯å¤ç”¨çš„å°éƒ¨ä»¶ï¼Œå¹¶å¯ä»¥å¯¹æ¯ä¸ªéƒ¨ä»¶è¿›è¡Œå•ç‹¬çš„è®¾è®¡ã€‚</p><p>ä»å®šä¹‰ä¸Šæ¥è¯´ï¼Œ ç»„ä»¶å°±åƒ JavaScript çš„å‡½æ•°ã€‚ç»„ä»¶å¯ä»¥æ¥æ”¶ä»»æ„è¾“å…¥(ç§°ä¸º&quot;props&quot;)ï¼Œ å¹¶è¿”å› React å…ƒç´ ï¼Œç”¨ä»¥æè¿°å±å¹•æ˜¾ç¤ºå†…å®¹ã€‚</p><blockquote><p>æ„šäººç å¤´æ³¨ï¼šProps ï¼Œ å³å±æ€§(Property)ï¼Œ åœ¨ä»£ç ä¸­å†™ä½œ props ï¼Œ æ•…å¯ç”¨ props æŒ‡ä»£ properties .</p></blockquote><h3 id="å‡½æ•°å¼ç»„ä»¶å’Œç±»ç»„ä»¶"><a class="markdownIt-Anchor" href="#å‡½æ•°å¼ç»„ä»¶å’Œç±»ç»„ä»¶"></a> å‡½æ•°å¼ç»„ä»¶å’Œç±»ç»„ä»¶</h3><p>æœ€ç®€å•çš„å®šä¹‰ç»„ä»¶çš„æ–¹æ³•æ˜¯å†™ä¸€ä¸ª JavaScript å‡½æ•°:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°æ˜¯ä¸€ä¸ªåˆæ³•çš„ React ç»„ä»¶ï¼Œå› ä¸ºå®ƒæ¥æ”¶ä¸€ä¸ª  <code>props</code>  å‚æ•°, å¹¶è¿”å›ä¸€ä¸ª React å…ƒç´ ã€‚ æˆ‘ä»¬æŠŠæ­¤ç±»ç»„ä»¶ç§°ä¸º&quot;å‡½æ•°å¼(Functional)&quot;ç»„ä»¶ï¼Œ å› ä¸ºä»å­—é¢ä¸Šçœ‹æ¥å®ƒå°±æ˜¯ä¸€ä¸ª JavaScript å‡½æ•°ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ª  <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener">ES6 çš„ class</a>  æ¥å®šä¹‰ä¸€ä¸ªç»„ä»¶:</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Welcome</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> &lt;h1&gt;<span class="type">Hello</span>, &#123;<span class="keyword">this</span>.props.name&#125;&lt;/h1&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä¸¤ä¸ªç»„ä»¶ä» React çš„è§’åº¦æ¥çœ‹æ˜¯ç­‰æ•ˆçš„ã€‚</p><p>ç±»ç»„ä»¶æœ‰ä¸€äº›é¢å¤–çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å°†åœ¨<a href="http://www.css88.com/react/docs/state-and-lifecycle.html" target="_blank" rel="noopener">ä¸‹ä¸€èŠ‚</a>è®¨è®ºã€‚åœ¨æ­¤ä¹‹å‰, æˆ‘ä»¬å…ˆç”¨å‡½æ•°å¼ç»„ä»¶ï¼Œå› ä¸ºå®ƒä»¬æ›´åŠ ç®€æ´ã€‚</p><h3 id="æ¸²æŸ“ä¸€ä¸ªç»„ä»¶"><a class="markdownIt-Anchor" href="#æ¸²æŸ“ä¸€ä¸ªç»„ä»¶"></a> æ¸²æŸ“ä¸€ä¸ªç»„ä»¶</h3><p>åœ¨å‰é¢, æˆ‘ä»¬åªé‡åˆ°ä»£è¡¨ DOM æ ‡ç­¾çš„ React å…ƒç´ ï¼š</p><figure class="highlight delphi"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> element = &lt;<span class="keyword">div</span> /&gt;;</span><br></pre></td></tr></table></figure><p>ç„¶è€Œï¼Œå…ƒç´ ä¹Ÿå¯ä»¥ä»£è¡¨ç”¨æˆ·å®šä¹‰çš„ç»„ä»¶ï¼š</p><figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">const element</span> = &lt;Welcome name=<span class="string">"Sara"</span> /&gt;;</span><br></pre></td></tr></table></figure><p>å½“ React é‡åˆ°ä¸€ä¸ªä»£è¡¨ç”¨æˆ·å®šä¹‰ç»„ä»¶çš„å…ƒç´ æ—¶ï¼Œå®ƒå°† JSX å±æ€§ä»¥ä¸€ä¸ªå•ç‹¬å¯¹è±¡çš„å½¢å¼ä¼ é€’ç»™ç›¸åº”çš„ç»„ä»¶ã€‚ æˆ‘ä»¬å°†å…¶ç§°ä¸º â€œpropsâ€ å¯¹è±¡ã€‚</p><p>æ¯”å¦‚, ä»¥ä¸‹ä»£ç åœ¨é¡µé¢ä¸Šæ¸²æŸ“ â€œHello, Saraâ€ ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Welcome</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, &#123;props.name&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> element = <span class="xml"><span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">"Sara"</span> /&gt;</span>;</span></span><br><span class="line"><span class="xml">ReactDOM.render(</span></span><br><span class="line"><span class="xml">  element,</span></span><br><span class="line"><span class="xml">  document.getElementById('root')</span></span><br><span class="line"><span class="xml">);</span></span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/YGYmEG?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>æˆ‘ä»¬ç®€å•æ‰¼è¦é‡è¿°ä¸€ä¸‹ä¸Šé¢è¿™ä¸ªä¾‹å­:</p><ol><li>æˆ‘ä»¬è°ƒç”¨äº†  <code>ReactDOM.render()</code>  æ–¹æ³•å¹¶å‘å…¶ä¸­ä¼ å…¥äº†  ``  å…ƒç´ ã€‚</li><li>React è°ƒç”¨  <code>Welcome</code>  ç»„ä»¶ï¼Œå¹¶å‘å…¶ä¸­ä¼ å…¥äº†  <code>{name: 'Sara'}</code>  ä½œä¸º props å¯¹è±¡ã€‚</li><li><code>Welcome</code>  ç»„ä»¶è¿”å›  <code>Hello, Sara</code>ã€‚</li><li>React DOM è¿…é€Ÿæ›´æ–° DOM ï¼Œä½¿å…¶æ˜¾ç¤ºä¸º  <code>Hello, Sara</code>ã€‚</li></ol><blockquote><p><strong>è­¦å‘Šï¼š</strong></p><p>ç»„ä»¶åç§°æ€»æ˜¯ä»¥å¤§å†™å­—æ¯å¼€å§‹ã€‚</p><p>ä¸¾ä¾‹æ¥è¯´, <code>ä»£è¡¨ä¸€ä¸ª DOM æ ‡ç­¾ï¼Œè€Œ</code>  åˆ™ä»£è¡¨ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶ä¸”éœ€è¦åœ¨ä½œç”¨åŸŸä¸­æœ‰ä¸€ä¸ª  <code>Welcome</code>  ç»„ä»¶ã€‚</p></blockquote><h3 id="æ„æˆç»„ä»¶"><a class="markdownIt-Anchor" href="#æ„æˆç»„ä»¶"></a> æ„æˆç»„ä»¶</h3><p>ç»„ä»¶å¯ä»¥åœ¨å®ƒä»¬çš„è¾“å‡ºä¸­å¼•ç”¨å…¶å®ƒç»„ä»¶ã€‚è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæ ·çš„ç»„ä»¶æ¥æŠ½è±¡åˆ°ä»»æ„å±‚çº§ã€‚ä¸€ä¸ªæŒ‰é’®ï¼Œä¸€ä¸ªè¡¨å•ï¼Œä¸€ä¸ªå¯¹è¯æ¡†ï¼Œä¸€ä¸ªå±å¹•ï¼šåœ¨ React åº”ç”¨ä¸­ï¼Œæ‰€æœ‰è¿™äº›éƒ½é€šå¸¸æè¿°ä¸ºç»„ä»¶ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª  <code>App</code>  ç»„ä»¶ï¼Œå¹¶åœ¨å…¶å†…éƒ¨å¤šæ¬¡æ¸²æŸ“  <code>Welcome</code>ï¼š</p><figure class="highlight xquery"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> Welcome(props) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, </span><span class="xquery">&#123;props<span class="built_in">.name</span>&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> App() &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">"Sara"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">"Cahal"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Welcome</span> <span class="attr">name</span>=<span class="string">"Edite"</span> /&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;App /&gt;,</span><br><span class="line"> <span class="built_in"> document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/KgQKPr?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>é€šå¸¸ï¼Œæ–°çš„ React apps éƒ½æœ‰ä¸€ä¸ªå•ç‹¬çš„é¡¶å±‚  <code>App</code>  ç»„ä»¶ã€‚ç„¶è€Œï¼Œå¦‚æœä½ åœ¨å·²æœ‰çš„åº”ç”¨ä¸­æ•´åˆ Reactï¼Œä½ å¯ä»¥éœ€è¦ç”±ä¸‹è‡³ä¸Šåœ°, ä»ç±»ä¼¼äº  <code>Button</code>  è¿™æ ·çš„å°ç»„ä»¶å¼€å§‹, é€æ¸æ•´åˆåˆ°è§†å›¾å±‚çš„é¡¶å±‚ã€‚</p><blockquote><p><strong>è­¦å‘Šï¼š</strong></p><p>ç»„ä»¶å¿…é¡»è¿”å›ä¸€ä¸ªå•ç‹¬çš„æ ¹å…ƒç´ ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ·»åŠ ä¸€ä¸ª  <code>æ¥åŒ…å«æ‰€æœ‰</code>  å…ƒç´ çš„åŸå› ã€‚</p></blockquote><h3 id="æå–ç»„ä»¶"><a class="markdownIt-Anchor" href="#æå–ç»„ä»¶"></a> æå–ç»„ä»¶</h3><p>ä¸è¦å®³æ€•æŠŠä¸€ä¸ªç»„ä»¶åˆ†ä¸ºå¤šä¸ªæ›´å°çš„ç»„ä»¶ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ€è€ƒä¸‹å  <code>Comment</code>  ç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"Comment"</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">"UserInfo"</span>&gt;</span><br><span class="line">        &lt;img className=<span class="string">"Avatar"</span></span><br><span class="line">          src=&#123;props.author.avatarUrl&#125;</span><br><span class="line">          alt=&#123;props.author.name&#125;</span><br><span class="line">        /&gt;</span><br><span class="line">        &lt;div className=<span class="string">"UserInfo-name"</span>&gt;</span><br><span class="line">          &#123;props.author.name&#125;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">      &lt;div className=<span class="string">"Comment-text"</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div className="Comment-date"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;formatDate(props.date)&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/VKQwEo?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>å®ƒæ¥å—  <code>author</code>ï¼ˆä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œ<code>text</code>ï¼ˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰å’Œ  <code>date</code>ï¼ˆä¸€ä¸ªæ—¥æœŸï¼‰ä½œä¸º propsï¼Œå¹¶ç”¨äºåœ¨æŸç¤¾äº¤ç½‘ç«™ä¸­æè¿°ä¸€æ¡è¯„è®ºã€‚</p><p>è¿™ä¸ªç»„ä»¶ä¿®æ”¹èµ·æ¥å¾ˆéº»çƒ¦ï¼Œå› ä¸ºå®ƒæ˜¯è¢«åµŒå¥—çš„ï¼Œè€Œä¸”å¾ˆéš¾å¤ç”¨å…¶ä¸­çš„æŸä¸ªéƒ¨åˆ†ã€‚è®©æˆ‘ä»¬ä»å…¶ä¸­æå–ä¸€äº›ç»„ä»¶ã€‚</p><p>é¦–å…ˆï¼Œæå–å¤´åƒ  <code>Avatar</code>ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Avatar</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;img className=<span class="string">"Avatar"</span></span><br><span class="line">      src=&#123;props.user.avatarUrl&#125;</span><br><span class="line">      alt=&#123;props.user.name&#125;</span><br><span class="line">    /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>Avatar</code>  ç»„ä»¶ä¸ç”¨å…³å¿ƒå®ƒåœ¨  <code>Comment</code>  ä¸­æ˜¯å¦‚ä½•æ¸²æŸ“çš„ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬å®ƒçš„ prop ä¸€ä¸ªæ›´é€šç”¨çš„å±æ€§å: <code>user</code>, è€Œä¸æ˜¯  <code>author</code>  çš„åŸå› ã€‚</p><p>æˆ‘ä»¬å»ºè®®ä»ç»„ä»¶æœ¬èº«çš„è§’åº¦æ¥å‘½å props è€Œä¸æ˜¯å®ƒè¢«ä½¿ç”¨çš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</p><p>æˆ‘ä»¬å¯ä»¥ç¨å¾®ç®€åŒ–ä¸€ä¸‹  <code>Comment</code>  ç»„ä»¶:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"Comment"</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">"UserInfo"</span>&gt;</span><br><span class="line">        &lt;Avatar user=&#123;props.author&#125; /&gt;</span><br><span class="line">        &lt;div className=<span class="string">"UserInfo-name"</span>&gt;</span><br><span class="line">          &#123;props.author.name&#125;</span><br><span class="line">        &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">      &lt;div className=<span class="string">"Comment-text"</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div className="Comment-date"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;formatDate(props.date)&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æå–ç”¨æˆ·ä¿¡æ¯  <code>UserInfo</code>  ç»„ä»¶ï¼Œ ç”¨äºå°†  <code>Avatar</code>  æ˜¾ç¤ºåœ¨ç”¨æˆ·åæ—è¾¹ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UserInfo</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"UserInfo"</span>&gt;</span><br><span class="line">      &lt;Avatar user=&#123;props.user&#125; /&gt;</span><br><span class="line">      &lt;div className=<span class="string">"UserInfo-name"</span>&gt;</span><br><span class="line">        &#123;props.user.name&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä½¿æˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥ç®€åŒ–  <code>Comment</code>  ç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Comment</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"Comment"</span>&gt;</span><br><span class="line">      &lt;UserInfo user=&#123;props.author&#125; /&gt;</span><br><span class="line">      &lt;div className=<span class="string">"Comment-text"</span>&gt;</span><br><span class="line">        &#123;props.text&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div className="Comment-date"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;formatDate(props.date)&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/rrJNJY?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>æå–ç»„ä»¶å¯èƒ½çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªç¹ççš„å·¥ä½œï¼Œä½†æ˜¯åœ¨å¤§å‹çš„ Apps ä¸­å¯ä»¥å›æŠ¥ç»™æˆ‘ä»¬çš„æ˜¯å¤§é‡çš„å¯å¤ç”¨ç»„ä»¶ã€‚ä¸€ä¸ªå¥½çš„ç»éªŒå‡†åˆ™æ˜¯å¦‚æœä½  UI çš„ä¸€éƒ¨åˆ†éœ€è¦ç”¨å¤šæ¬¡ (<code>Button</code>ï¼Œ<code>Panel</code>ï¼Œ<code>Avatar</code>)ï¼Œæˆ–è€…æœ¬èº«è¶³å¤Ÿå¤æ‚(<code>App</code>ï¼Œ<code>FeedStory</code>ï¼Œ<code>Comment</code>)ï¼Œæœ€å¥½çš„åšæ³•æ˜¯ä½¿å…¶æˆä¸ºå¯å¤ç”¨ç»„ä»¶ã€‚</p><h3 id="props-æ˜¯åªè¯»çš„"><a class="markdownIt-Anchor" href="#props-æ˜¯åªè¯»çš„"></a> Props æ˜¯åªè¯»çš„</h3><p>æ— è®ºä½ ç”¨<a href="http://www.css88.com/react/docs/components-and-props.html#functional-and-class-components" target="_blank" rel="noopener">å‡½æ•°æˆ–ç±»</a>çš„æ–¹æ³•æ¥å£°æ˜ç»„ä»¶, å®ƒéƒ½æ— æ³•ä¿®æ”¹å…¶è‡ªèº« props. æ€è€ƒä¸‹åˆ—  <code>sum</code> (æ±‚å’Œ)å‡½æ•°:</p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">sum</span>(a, b) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">a</span> + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ç§å‡½æ•°ç§°ä¸º  <a href="https://en.wikipedia.org/wiki/Pure_function" target="_blank" rel="noopener">â€œçº¯å‡½æ•°â€</a> ï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šè¯•å›¾æ”¹å˜å®ƒä»¬çš„è¾“å…¥ï¼Œå¹¶ä¸”å¯¹äºåŒæ ·çš„è¾“å…¥,å§‹ç»ˆå¯ä»¥å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚</p><p>åä¹‹ï¼Œ ä»¥ä¸‹æ˜¯éçº¯å‡½æ•°ï¼Œ å› ä¸ºå®ƒæ”¹å˜äº†è‡ªèº«çš„è¾“å…¥å€¼ï¼š</p><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">withdraw</span><span class="params">(account, amount)</span> </span>&#123;</span><br><span class="line">  account.total -= amount;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è™½ç„¶ React å¾ˆçµæ´»ï¼Œä½†æ˜¯å®ƒæœ‰ä¸€æ¡ä¸¥æ ¼çš„è§„åˆ™ï¼š</p><p><strong>æ‰€æœ‰ React ç»„ä»¶éƒ½å¿…é¡»æ˜¯çº¯å‡½æ•°ï¼Œå¹¶ç¦æ­¢ä¿®æ”¹å…¶è‡ªèº« props ã€‚</strong></p><p>å½“ç„¶ï¼Œ åº”ç”¨ UI æ€»æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸”éšæ—¶æœ‰å¯ä»¥æ”¹å˜ã€‚ æ‰€ä»¥åœ¨<a href="http://www.css88.com/react/docs/state-and-lifecycle.html" target="_blank" rel="noopener">ä¸‹ä¸€èŠ‚</a>, æˆ‘ä»¬ä¼šä»‹ç»ä¸€ä¸ªæ–°çš„æ¦‚å¿µ<code>state</code>(çŠ¶æ€) ã€‚<code>state</code>  å…è®¸ React ç»„ä»¶åœ¨ä¸è¿åä¸Šè¿°è§„åˆ™çš„æƒ…å†µä¸‹, æ ¹æ®ç”¨æˆ·æ“ä½œ, ç½‘ç»œå“åº”, æˆ–è€…å…¶ä»–éšä¾¿ä»€ä¹ˆä¸œè¥¿, æ¥åŠ¨æ€åœ°æ”¹å˜å…¶è¾“å‡ºã€‚</p><h1 id="çŠ¶æ€state-å’Œç”Ÿå‘½å‘¨æœŸ"><a class="markdownIt-Anchor" href="#çŠ¶æ€state-å’Œç”Ÿå‘½å‘¨æœŸ"></a> çŠ¶æ€(State) å’Œç”Ÿå‘½å‘¨æœŸ</h1><p>æ€è€ƒ<a href="http://www.css88.com/react/docs/rendering-elements.html#updating-the-rendered-element" target="_blank" rel="noopener">å‰é¢ç« èŠ‚</a>ä¸­æåˆ°è¿‡çš„æ—¶é’Ÿä¾‹å­.</p><p>ç›®å‰ä¸ºæ­¢æˆ‘ä»¬åªå­¦äº†ä¸€ç§æ›´æ–° UI çš„æ–¹å¼ã€‚</p><p>æˆ‘ä»¬é€šè¿‡è°ƒ  <code>ReactDOM.render()</code>  æ–¹æ³•æ¥æ›´æ–°æ¸²æŸ“çš„è¾“å‡º:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tick</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> element = (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hello, world!<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">      &lt;h2&gt;It is &#123;<span class="keyword">new</span> <span class="built_in">Date</span>().toLocaleTimeString()&#125;.&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  );</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    element,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setInterval(tick, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/gwoJZk?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ä½¿  <code>Clock</code>  ç»„ä»¶å˜å¾—çœŸæ­£å¯å¤ç”¨ å’Œ å°è£…çš„æ›´å¥½ã€‚å®ƒå°†è®¾ç½®è‡ªå·±çš„è®¡æ—¶å™¨ï¼Œå¹¶åœ¨æ¯ç§’æ›´æ–°è‡ªèº«ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä»å°è£…æ—¶é’Ÿå¼€å§‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Clock</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hello, world!<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">      &lt;h2&gt;It is &#123;props.date.toLocaleTimeString()&#125;.&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">tick</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ReactDOM.render(</span><br><span class="line">    &lt;Clock date=&#123;<span class="keyword">new</span> <span class="built_in">Date</span>()&#125; /&gt;,</span><br><span class="line">    <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">setInterval(tick, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/dpdoYR?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>ç„¶è€Œï¼Œå®ƒæ²¡æœ‰æ»¡è¶³ä¸€ä¸ªå…³é”®çš„è¦æ±‚ï¼š<code>Clock</code>  è®¾ç½®å®šæ—¶å™¨å¹¶æ¯ç§’æ›´æ–° UI ï¼Œäº‹å®ä¸Šåº”è¯¥æ˜¯  <code>Clock</code>è‡ªèº«å®ç°çš„ä¸€éƒ¨åˆ†ã€‚</p><p>ç†æƒ³æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥åªå¼•ç”¨ä¸€ä¸ª  <code>Clock</code> , ç„¶åè®©å®ƒè‡ªåŠ¨è®¡æ—¶å¹¶æ›´æ–°:</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">ReactDOM</span>.</span></span>render(</span><br><span class="line">  &lt;Clock /&gt;,</span><br><span class="line">  document.get<span class="constructor">ElementById('<span class="params">root</span>')</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>è¦å®ç°è¿™ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ   <code>state</code>  åˆ°  <code>Clock</code>  ç»„ä»¶ã€‚</p><p><code>state</code>  å’Œ  <code>props</code>  ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒæ˜¯ç§æœ‰çš„ï¼Œå¹¶ä¸”ç”±ç»„ä»¶æœ¬èº«å®Œå…¨æ§åˆ¶ã€‚</p><p>æˆ‘ä»¬<a href="http://www.css88.com/react/docs/components-and-props.html#functional-and-class-components" target="_blank" rel="noopener">ä¹‹å‰æåˆ°è¿‡</a>, ç”¨ç±»å®šä¹‰çš„ç»„ä»¶æœ‰ä¸€äº›é¢å¤–çš„ç‰¹æ€§ã€‚ è¿™ä¸ª&quot;ç±»ä¸“æœ‰çš„ç‰¹æ€§&quot;ï¼Œ æŒ‡çš„å°±æ˜¯å±€éƒ¨çŠ¶æ€ã€‚</p><h2 id="æŠŠå‡½æ•°å¼ç»„ä»¶è½¬åŒ–ä¸ºç±»ç»„ä»¶"><a class="markdownIt-Anchor" href="#æŠŠå‡½æ•°å¼ç»„ä»¶è½¬åŒ–ä¸ºç±»ç»„ä»¶"></a> æŠŠå‡½æ•°å¼ç»„ä»¶è½¬åŒ–ä¸ºç±»ç»„ä»¶</h2><p>ä½ å¯ä»¥éµä»ä»¥ä¸‹ 5 æ­¥, æŠŠä¸€ä¸ªç±»ä¼¼  <code>Clock</code>  è¿™æ ·çš„å‡½æ•°å¼ç»„ä»¶è½¬åŒ–ä¸ºç±»ç»„ä»¶ï¼š</p><ol><li>åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ª  <code>React.Component</code>  ç±»çš„  <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener">ES6 class</a>  åŒåç±»ã€‚</li><li>æ·»åŠ ä¸€ä¸ªåä¸º  <code>render()</code>  çš„ç©ºæ–¹æ³•ã€‚</li><li>æŠŠåŸå‡½æ•°ä¸­çš„æ‰€æœ‰å†…å®¹ç§»è‡³  <code>render()</code>  ä¸­ã€‚</li><li>åœ¨  <code>render()</code>  æ–¹æ³•ä¸­ä½¿ç”¨  <code>this.props</code>  æ›¿ä»£  <code>props</code>ã€‚</li><li>åˆ é™¤ä¿ç•™çš„ç©ºå‡½æ•°å£°æ˜ã€‚</li></ol><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clock</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;<span class="type">Hello</span>, world!&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;<span class="type">It</span> is &#123;<span class="keyword">this</span>.props.date.toLocaleTimeString()&#125;.&lt;/h2&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/zKRGpo?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p><code>Clock</code>  ç°åœ¨è¢«å®šä¸ºç±»ç»„ä»¶ï¼Œè€Œä¸æ˜¯å‡½æ•°å¼ç»„ä»¶ã€‚</p><p>ç±»å…è®¸æˆ‘ä»¬åœ¨å…¶ä¸­æ·»åŠ æœ¬åœ°çŠ¶æ€(state)å’Œç”Ÿå‘½å‘¨æœŸé’©å­ã€‚</p><h2 id="åœ¨ç±»ç»„ä»¶ä¸­æ·»åŠ æœ¬åœ°çŠ¶æ€state"><a class="markdownIt-Anchor" href="#åœ¨ç±»ç»„ä»¶ä¸­æ·»åŠ æœ¬åœ°çŠ¶æ€state"></a> åœ¨ç±»ç»„ä»¶ä¸­æ·»åŠ æœ¬åœ°çŠ¶æ€(state)</h2><p>æˆ‘ä»¬ç°åœ¨é€šè¿‡ä»¥ä¸‹ 3 æ­¥, æŠŠ<code>date</code>ä»å±æ€§(<code>props</code>) æ”¹ä¸º çŠ¶æ€(<code>state</code>)ï¼š</p><p>We will move the <code>date</code> from props to state in three steps:</p><ol><li>æ›¿æ¢  <code>render()</code>  æ–¹æ³•ä¸­çš„  <code>this.props.date</code>  ä¸º  <code>this.state.date</code>ï¼š</li></ol><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clock</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;<span class="type">Hello</span>, world!&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;<span class="type">It</span> is &#123;<span class="keyword">this</span>.state.date.toLocaleTimeString()&#125;.&lt;/h2&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>æ·»åŠ ä¸€ä¸ª  <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes#Constructor" target="_blank" rel="noopener">ç±»æ„é€ å‡½æ•°(class constructor)</a>  åˆå§‹åŒ–  <code>this.state</code>:</li></ol><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clock</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;date: <span class="keyword">new</span> <span class="type">Date</span>()&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;<span class="type">Hello</span>, world!&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;<span class="type">It</span> is &#123;<span class="keyword">this</span>.state.date.toLocaleTimeString()&#125;.&lt;/h2&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„æˆ‘ä»¬å¦‚ä½•å°†  <code>props</code>  ä¼ é€’ç»™åŸºç¡€æ„é€ å‡½æ•°ï¼š</p><figure class="highlight delphi"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">constructor</span><span class="params">(props)</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">  super(props);</span></span></span><br><span class="line"><span class="function"><span class="comment">  this.state = &#123;date: new Date()&#125;</span>;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»ç»„ä»¶åº”å§‹ç»ˆä½¿ç”¨  <code>props</code>  è°ƒç”¨åŸºç¡€æ„é€ å‡½æ•°ã€‚</p><ol start="3"><li>ç§»é™¤  ``  å…ƒç´ ä¸­çš„  <code>date</code>  å±æ€§ï¼š</li></ol><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="module-access"><span class="module"><span class="identifier">ReactDOM</span>.</span></span>render(</span><br><span class="line">  &lt;Clock /&gt;,</span><br><span class="line">  document.get<span class="constructor">ElementById('<span class="params">root</span>')</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç¨åå†æŠŠ è®¡æ—¶å™¨ä»£ç  æ·»åŠ åˆ°ç»„ä»¶å†…éƒ¨ã€‚</p><p>ç°æœ‰çš„ç»“æœæ˜¯è¿™æ ·:</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clock</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;date: <span class="keyword">new</span> <span class="type">Date</span>()&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;<span class="type">Hello</span>, world!&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;<span class="type">It</span> is &#123;<span class="keyword">this</span>.state.date.toLocaleTimeString()&#125;.&lt;/h2&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">ReactDOM</span>.render(</span><br><span class="line">  &lt;<span class="type">Clock</span> /&gt;,</span><br><span class="line">  document.getElementById(<span class="symbol">'roo</span>t')</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/KgQpJd?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä½¿  <code>Clock</code>  è®¾ç½®è‡ªå·±çš„è®¡æ—¶å™¨ï¼Œå¹¶æ¯ç§’æ›´æ–°ä¸€æ¬¡ã€‚</p><h2 id="åœ¨ç±»ä¸­æ·»åŠ ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"><a class="markdownIt-Anchor" href="#åœ¨ç±»ä¸­æ·»åŠ ç”Ÿå‘½å‘¨æœŸæ–¹æ³•"></a> åœ¨ç±»ä¸­æ·»åŠ ç”Ÿå‘½å‘¨æœŸæ–¹æ³•</h2><p>åœ¨ä¸€ä¸ªå…·æœ‰è®¸å¤šç»„ä»¶çš„åº”ç”¨ç¨‹åºä¸­ï¼Œåœ¨ç»„ä»¶è¢«é”€æ¯æ—¶é‡Šæ”¾æ‰€å ç”¨çš„èµ„æºæ˜¯éå¸¸é‡è¦çš„ã€‚</p><p>å½“  <code>Clock</code>  ç¬¬ä¸€æ¬¡æ¸²æŸ“åˆ° DOM æ—¶ï¼Œæˆ‘ä»¬è¦<a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval" target="_blank" rel="noopener">è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨</a> ã€‚ è¿™åœ¨ React ä¸­ç§°ä¸º â€œæŒ‚è½½(mounting)â€ ã€‚</p><p>å½“  <code>Clock</code>  äº§ç”Ÿçš„ DOM è¢«é”€æ¯æ—¶ï¼Œæˆ‘ä»¬ä¹Ÿæƒ³<a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/clearInterval" target="_blank" rel="noopener">æ¸…é™¤è¯¥è®¡æ—¶å™¨</a>ã€‚ è¿™åœ¨ React ä¸­ç§°ä¸º â€œå¸è½½(unmounting)â€ ã€‚</p><p>å½“ç»„ä»¶æŒ‚è½½å’Œå¸è½½æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»„ä»¶ç±»ä¸Šå£°æ˜ç‰¹æ®Šçš„æ–¹æ³•æ¥è¿è¡Œä¸€äº›ä»£ç ï¼š</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clock</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;date: <span class="keyword">new</span> <span class="type">Date</span>()&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;<span class="type">Hello</span>, world!&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;<span class="type">It</span> is &#123;<span class="keyword">this</span>.state.date.toLocaleTimeString()&#125;.&lt;/h2&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™äº›æ–¹æ³•ç§°ä¸º â€œç”Ÿå‘½å‘¨æœŸé’©å­â€ã€‚</p><p><code>componentDidMount()</code>  é’©å­åœ¨ç»„ä»¶è¾“å‡ºè¢«æ¸²æŸ“åˆ° DOM ä¹‹åè¿è¡Œã€‚è¿™æ˜¯è®¾ç½®æ—¶é’Ÿçš„ä¸é”™çš„ä½ç½®ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line">componentDidMount() &#123;</span><br><span class="line">  <span class="keyword">this</span>.timerID = setInterval(</span><br><span class="line">    () =&gt; <span class="keyword">this</span>.tick(),</span><br><span class="line">    <span class="number">1000</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„æˆ‘ä»¬æŠŠè®¡æ—¶å™¨ ID ç›´æ¥å­˜åœ¨  <code>this</code>  ä¸­ã€‚</p><p><code>this.props</code>  ç”± React æœ¬èº«è®¾å®š, è€Œ  <code>this.state</code>  å…·æœ‰ç‰¹æ®Šçš„å«ä¹‰ï¼Œä½†å¦‚æœéœ€è¦å­˜å‚¨ä¸€äº›ä¸ç”¨äºè§†è§‰è¾“å‡ºçš„å†…å®¹ï¼Œåˆ™å¯ä»¥æ‰‹åŠ¨å‘ç±»ä¸­æ·»åŠ é¢å¤–çš„å­—æ®µã€‚</p><p>å¦‚æœåœ¨  <code>render()</code>  æ–¹æ³•ä¸­æ²¡æœ‰è¢«å¼•ç”¨, å®ƒä¸åº”è¯¥å‡ºç°åœ¨ state ä¸­ã€‚</p><p>æˆ‘ä»¬åœ¨<code>componentWillUnmount()</code>ç”Ÿå‘½å‘¨æœŸé’©å­ä¸­å–æ¶ˆè¿™ä¸ªè®¡æ—¶å™¨ï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">component<span class="constructor">WillUnmount()</span> &#123;</span><br><span class="line">  clear<span class="constructor">Interval(<span class="params">this</span>.<span class="params">timerID</span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€åï¼Œæˆ‘ä»¬å°†ä¼šå®ç°æ¯ç§’è¿è¡Œçš„  <code>tick()</code>  æ–¹æ³•ã€‚</p><p>å®ƒå°†ä½¿ç”¨  <code>this.setState()</code>  æ¥æ¥å‘¨æœŸæ€§åœ°æ›´æ–°ç»„ä»¶æœ¬åœ°çŠ¶æ€ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clock</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;<span class="attr">date</span>: <span class="keyword">new</span> <span class="built_in">Date</span>()&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="keyword">this</span>.timerID = setInterval(</span><br><span class="line">      () =&gt; <span class="keyword">this</span>.tick(),</span><br><span class="line">      <span class="number">1000</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    clearInterval(<span class="keyword">this</span>.timerID);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  tick() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      date: <span class="keyword">new</span> <span class="built_in">Date</span>()</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;h1&gt;Hello, world!<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">        &lt;h2&gt;It is &#123;<span class="keyword">this</span>.state.date.toLocaleTimeString()&#125;.&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Clock /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/amqdNA?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>ç°åœ¨è¿™ä¸ªæ—¶é’Ÿæ¯ç§’éƒ½ä¼šèµ°äº†ã€‚</p><p>æˆ‘ä»¬æ¥å¿«é€Ÿå›é¡¾ä¸€ä¸‹è¯¥è¿‡ç¨‹ï¼Œä»¥åŠè°ƒç”¨æ–¹æ³•çš„é¡ºåºï¼š</p><ol><li>å½“  ``  è¢«ä¼ å…¥  <code>ReactDOM.render()</code>  æ—¶, React ä¼šè°ƒç”¨  <code>Clock</code>ç»„ä»¶çš„æ„é€ å‡½æ•°ã€‚ å› ä¸º<code>Clock</code>  è¦æ˜¾ç¤ºçš„æ˜¯å½“å‰æ—¶é—´ï¼Œæ‰€ä»¥å®ƒå°†ä½¿ç”¨åŒ…å«å½“å‰æ—¶é—´çš„å¯¹è±¡æ¥åˆå§‹åŒ–  <code>this.state</code>ã€‚æˆ‘ä»¬ç¨åä¼šæ›´æ–°æ­¤çŠ¶æ€ã€‚</li><li>ç„¶å React è°ƒç”¨äº†  <code>Clock</code>  ç»„ä»¶çš„  <code>render()</code>  æ–¹æ³•ã€‚ React ä»è¯¥æ–¹æ³•è¿”å›å†…å®¹ä¸­å¾—åˆ°è¦æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„å†…å®¹ã€‚ç„¶åï¼ŒReact ç„¶åæ›´æ–° DOM ä»¥åŒ¹é…  <code>Clock</code>  çš„æ¸²æŸ“è¾“å‡ºã€‚</li><li>å½“  <code>Clock</code>  è¾“å‡ºè¢«æ’å…¥åˆ° DOM ä¸­æ—¶ï¼ŒReact è°ƒç”¨  <code>componentDidMount()</code>  ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œ<code>Clock</code>  ç»„ä»¶è¯·æ±‚æµè§ˆå™¨è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨æ¥ä¸€æ¬¡è°ƒç”¨  <code>tick()</code>ã€‚</li><li>æµè§ˆå™¨ä¼šæ¯éš”ä¸€ç§’è°ƒç”¨ä¸€æ¬¡  <code>tick()</code>æ–¹æ³•ã€‚åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œ <code>Clock</code>  ç»„ä»¶é€šè¿‡  <code>setState()</code>  æ–¹æ³•å¹¶ä¼ é€’ä¸€ä¸ªåŒ…å«å½“å‰æ—¶é—´çš„å¯¹è±¡æ¥å®‰æ’ä¸€ä¸ª UI çš„æ›´æ–°ã€‚é€šè¿‡  <code>setState()</code>, React å¾—çŸ¥äº†ç»„ä»¶  <code>state</code>(çŠ¶æ€)çš„å˜åŒ–, éšå³å†æ¬¡è°ƒç”¨  <code>render()</code>  æ–¹æ³•ï¼Œè·å–äº†å½“å‰åº”è¯¥æ˜¾ç¤ºçš„å†…å®¹ã€‚ è¿™æ¬¡ï¼Œ<code>render()</code>  æ–¹æ³•ä¸­çš„  <code>this.state.date</code>  çš„å€¼å·²ç»å‘ç”Ÿäº†æ”¹å˜ï¼Œ ä»è€Œï¼Œå…¶è¾“å‡ºçš„å†…å®¹ä¹Ÿéšä¹‹æ”¹å˜ã€‚React äºæ˜¯æ®æ­¤å¯¹ DOM è¿›è¡Œæ›´æ–°ã€‚</li><li>å¦‚æœé€šè¿‡å…¶ä»–æ“ä½œå°†  <code>Clock</code>  ç»„ä»¶ä» DOM ä¸­ç§»é™¤äº†, React ä¼šè°ƒç”¨<code>componentWillUnmount()</code>  ç”Ÿå‘½å‘¨æœŸé’©å­, æ‰€ä»¥è®¡æ—¶å™¨ä¹Ÿä¼šè¢«åœæ­¢ã€‚</li></ol><h2 id="æ­£ç¡®åœ°ä½¿ç”¨-stateçŠ¶æ€"><a class="markdownIt-Anchor" href="#æ­£ç¡®åœ°ä½¿ç”¨-stateçŠ¶æ€"></a> æ­£ç¡®åœ°ä½¿ç”¨ State(çŠ¶æ€)</h2><p>å…³äº  <code>setState()</code>  æœ‰ä¸‰ä»¶äº‹æ˜¯ä½ åº”è¯¥çŸ¥é“çš„ã€‚</p><h3 id="ä¸è¦ç›´æ¥ä¿®æ”¹-stateçŠ¶æ€"><a class="markdownIt-Anchor" href="#ä¸è¦ç›´æ¥ä¿®æ”¹-stateçŠ¶æ€"></a> ä¸è¦ç›´æ¥ä¿®æ”¹ state(çŠ¶æ€)</h3><p>ä¾‹å¦‚ï¼Œè¿™æ ·å°†ä¸ä¼šé‡æ–°æ¸²æŸ“ä¸€ä¸ªç»„ä»¶ï¼š</p><figure class="highlight pf"><table><tr><td class="code"><pre><span class="line">// é”™è¯¯</span><br><span class="line">this.<span class="keyword">state</span>.comment = 'Hello';</span><br></pre></td></tr></table></figure><p>ç”¨  <code>setState()</code>  ä»£æ›¿ï¼š</p><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">this</span>.setState(&#123;<span class="string">comment:</span> <span class="string">'Hello'</span>&#125;);</span><br></pre></td></tr></table></figure><p>å”¯ä¸€å¯ä»¥åˆ†é…  <code>this.state</code>  çš„åœ°æ–¹æ˜¯æ„é€ å‡½æ•°ã€‚</p><h3 id="stateçŠ¶æ€-æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„"><a class="markdownIt-Anchor" href="#stateçŠ¶æ€-æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„"></a> state(çŠ¶æ€) æ›´æ–°å¯èƒ½æ˜¯å¼‚æ­¥çš„</h3><p>React ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œæœ‰å¯èƒ½ä¼šå°†å¤šä¸ª  <code>setState()</code>  è°ƒç”¨åˆå¹¶ä¸ºä¸€æ¬¡æ›´æ–°ã€‚</p><p>å› ä¸º  <code>this.props</code>  å’Œ  <code>this.state</code>  å¯èƒ½æ˜¯å¼‚æ­¥æ›´æ–°çš„ï¼Œä½ ä¸èƒ½ä¾èµ–ä»–ä»¬çš„å€¼è®¡ç®—ä¸‹ä¸€ä¸ª state(çŠ¶æ€)ã€‚</p><p>ä¾‹å¦‚, ä»¥ä¸‹ä»£ç å¯èƒ½å¯¼è‡´  <code>counter</code>(è®¡æ•°å™¨)æ›´æ–°å¤±è´¥ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯</span></span><br><span class="line"><span class="keyword">this</span>.setState(&#123;</span><br><span class="line">  counter: <span class="keyword">this</span>.state.counter + <span class="keyword">this</span>.props.increment,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåº”è¯¥ä½¿ç”¨ç¬¬ 2 ç§  <code>setState()</code>  çš„æ ¼å¼ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚è¯¥å‡½æ•°æ¥æ”¶å‰ä¸€ä¸ªçŠ¶æ€å€¼ä½œä¸ºç¬¬ 1 ä¸ªå‚æ•°ï¼Œ å¹¶å°†æ›´æ–°åçš„å€¼ä½œä¸ºç¬¬ 21 ä¸ªå‚æ•°:</p><p>è¦å¼¥è¡¥è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨å¦ä¸€ç§ setState() çš„å½¢å¼ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‡½æ•°è€Œä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ã€‚è¿™ä¸ªå‡½æ•°å°†æ¥æ”¶å‰ä¸€ä¸ªçŠ¶æ€ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œåº”ç”¨æ›´æ–°æ—¶çš„ props ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼š</p><figure class="highlight coffeescript"><table><tr><td class="code"><pre><span class="line"><span class="regexp">//</span> æ­£ç¡®</span><br><span class="line"><span class="keyword">this</span>.setState(<span class="function"><span class="params">(prevState, props)</span> =&gt;</span> (&#123;</span><br><span class="line">  counter: prevState.counter + props.increment</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åœ¨ä¸Šé¢ä½¿ç”¨äº†ä¸€ä¸ª<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">ç®­å¤´å‡½æ•°</a>ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¸¸è§„çš„å‡½æ•°ï¼š</p><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ­£ç¡®</span></span><br><span class="line"><span class="keyword">this</span>.setState(<span class="function"><span class="keyword">function</span><span class="params">(prevState, props)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    counter: prevState.counter + props.increment</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="stateçŠ¶æ€æ›´æ–°ä¼šè¢«åˆå¹¶"><a class="markdownIt-Anchor" href="#stateçŠ¶æ€æ›´æ–°ä¼šè¢«åˆå¹¶"></a> state(çŠ¶æ€)æ›´æ–°ä¼šè¢«åˆå¹¶</h3><p>å½“ä½ è°ƒç”¨  <code>setState()</code>ï¼Œ React å°†åˆå¹¶ä½ æä¾›çš„å¯¹è±¡åˆ°å½“å‰çš„çŠ¶æ€ä¸­ã€‚</p><p>ä¾‹å¦‚ï¼Œä½ çš„çŠ¶æ€å¯èƒ½åŒ…å«å‡ ä¸ªç‹¬ç«‹çš„å˜é‡ï¼š</p><figure class="highlight delphi"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">constructor</span><span class="params">(props)</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">  super(props);</span></span></span><br><span class="line"><span class="function"><span class="comment">  this.state = &#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">    posts: [],</span></span></span><br><span class="line"><span class="function"><span class="comment">    comments: []</span></span></span><br><span class="line"><span class="function"><span class="comment">  &#125;</span>;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶åé€šè¿‡è°ƒç”¨ç‹¬ç«‹çš„  <code>setState()</code>  è°ƒç”¨åˆ†åˆ«æ›´æ–°å®ƒä»¬:</p><figure class="highlight less"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">componentDidMount</span>() &#123;</span><br><span class="line">  <span class="selector-tag">fetchPosts</span>()<span class="selector-class">.then</span>(response =&gt; &#123;</span><br><span class="line">    <span class="selector-tag">this</span><span class="selector-class">.setState</span>(&#123;</span><br><span class="line">      <span class="attribute">posts</span>: response.posts</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">fetchComments</span>()<span class="selector-class">.then</span>(response =&gt; &#123;</span><br><span class="line">    <span class="selector-tag">this</span><span class="selector-class">.setState</span>(&#123;</span><br><span class="line">      <span class="attribute">comments</span>: response.comments</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆå¹¶æ˜¯æµ…åˆå¹¶ï¼Œæ‰€ä»¥  <code>this.setState({comments})</code>  ä¸ä¼šæ”¹å˜  <code>this.state.posts</code>  çš„å€¼ï¼Œä½†ä¼šå®Œå…¨æ›¿æ¢<code>this.state.comments</code>  çš„å€¼ã€‚</p><h2 id="æ•°æ®å‘ä¸‹æµåŠ¨"><a class="markdownIt-Anchor" href="#æ•°æ®å‘ä¸‹æµåŠ¨"></a> æ•°æ®å‘ä¸‹æµåŠ¨</h2><p>æ— è®ºä½œä¸ºçˆ¶ç»„ä»¶è¿˜æ˜¯å­ç»„ä»¶ï¼Œå®ƒéƒ½æ— æ³•è·æ‚‰ä¸€ä¸ªç»„ä»¶æ˜¯å¦æœ‰çŠ¶æ€ï¼ŒåŒæ—¶ä¹Ÿä¸éœ€è¦å…³å¿ƒå¦ä¸€ä¸ªç»„ä»¶æ˜¯å®šä¹‰ä¸ºå‡½æ•°ç»„ä»¶è¿˜æ˜¯ç±»ç»„ä»¶ã€‚</p><p>è¿™å°±æ˜¯ state(çŠ¶æ€) ç»å¸¸è¢«ç§°ä¸º æœ¬åœ°çŠ¶æ€ æˆ– å°è£…çŠ¶æ€çš„åŸå› ã€‚ å®ƒä¸èƒ½è¢«æ‹¥æœ‰å¹¶è®¾ç½®å®ƒçš„ç»„ä»¶ ä»¥å¤–çš„ä»»ä½•ç»„ä»¶è®¿é—®ã€‚</p><p>ä¸€ä¸ªç»„ä»¶å¯ä»¥é€‰æ‹©å°† state(çŠ¶æ€) å‘ä¸‹ä¼ é€’ï¼Œä½œä¸ºå…¶å­ç»„ä»¶çš„ props(å±æ€§)ï¼š</p><figure class="highlight pf"><table><tr><td class="code"><pre><span class="line"><span class="variable">&lt;h2&gt;</span>It is &#123;this.<span class="keyword">state</span>.date.<span class="keyword">to</span>LocaleTimeString()&#125;.&lt;/h2&gt;</span><br></pre></td></tr></table></figure><p>åŒæ ·é€‚ç”¨äºç”¨æˆ·å®šä¹‰ç»„ä»¶:</p><figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line">&lt;FormattedDate <span class="keyword">date</span>=&#123;<span class="keyword">this</span>.state.<span class="keyword">date</span>&#125; /&gt;</span><br></pre></td></tr></table></figure><p><code>FormattedDate</code>  ç»„ä»¶é€šè¿‡ props(å±æ€§) æ¥æ”¶äº†  <code>date</code>  çš„å€¼ï¼Œä½†å®ƒä»ç„¶ä¸èƒ½è·çŸ¥è¯¥å€¼æ˜¯æ¥è‡ªäº<code>Clock</code>çš„ state(çŠ¶æ€) ï¼Œè¿˜æ˜¯  <code>Clock</code>  çš„ props(å±æ€§)ï¼Œæˆ–è€…æ˜¯ç›´æ¥æ‰‹åŠ¨åˆ›å»ºçš„ï¼š</p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">FormattedDate</span>(props) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">&lt;h2&gt;It</span> <span class="keyword">is</span> &#123;props.date.toLocaleTimeString()&#125;.&lt;/h2&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/zKRqNB?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>è¿™é€šå¸¸ç§°ä¸ºä¸€ä¸ªâ€œä»ä¸Šåˆ°ä¸‹â€ï¼Œæˆ–è€…â€œå•å‘â€çš„æ•°æ®æµã€‚ä»»ä½• state(çŠ¶æ€) å§‹ç»ˆç”±æŸä¸ªç‰¹å®šç»„ä»¶æ‰€æœ‰ï¼Œå¹¶ä¸”ä»è¯¥ state(çŠ¶æ€) å¯¼å‡ºçš„ä»»ä½•æ•°æ® æˆ– UI åªèƒ½å½±å“æ ‘ä¸­ â€œä¸‹æ–¹â€ çš„ç»„ä»¶ã€‚</p><p>å¦‚æœæŠŠç»„ä»¶æ ‘æƒ³åƒä¸º props(å±æ€§) çš„ç€‘å¸ƒï¼Œæ‰€æœ‰ç»„ä»¶çš„ state(çŠ¶æ€) å°±å¦‚åŒä¸€ä¸ªé¢å¤–çš„æ°´æºæ±‡å…¥ä¸»æµï¼Œä¸”åªèƒ½éšç€ä¸»æµçš„æ–¹å‘å‘ä¸‹æµåŠ¨ã€‚</p><p>è¦è¯æ˜æ‰€æœ‰ç»„ä»¶éƒ½æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼Œ æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª  <code>App</code>  ç»„ä»¶ï¼Œå¹¶åœ¨å…¶ä¸­æ¸²æŸ“ 3 ä¸ª``:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;Clock /&gt;</span><br><span class="line">      &lt;Clock /&gt;</span><br><span class="line">      &lt;Clock /&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;App /</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/vXdGmd?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>æ¯ä¸ª  <code>Clock</code>  éƒ½è®¾ç½®å®ƒè‡ªå·±çš„è®¡æ—¶å™¨å¹¶ç‹¬ç«‹æ›´æ–°ã€‚</p><p>åœ¨ React åº”ç”¨ä¸­ï¼Œä¸€ä¸ªç»„ä»¶æ˜¯å¦æ˜¯æœ‰çŠ¶æ€æˆ–è€…æ— çŠ¶æ€çš„ï¼Œè¢«è®¤ä¸ºæ˜¯ç»„ä»¶çš„ä¸€ä¸ªå®ç°ç»†èŠ‚ï¼Œéšç€æ—¶é—´æ¨ç§»å¯èƒ½å‘ç”Ÿæ”¹å˜ã€‚ä½ å¯ä»¥åœ¨æœ‰çŠ¶æ€çš„ç»„ä»¶ä¸­ä½¿ç”¨æ— çŠ¶æ€ç»„ä»¶ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p>é€šè¿‡ React å…ƒç´ å¤„ç†äº‹ä»¶è·Ÿåœ¨ DOM å…ƒç´ ä¸Šå¤„ç†äº‹ä»¶éå¸¸ç›¸ä¼¼ã€‚ä½†æ˜¯æœ‰ä¸€äº›è¯­æ³•ä¸Šçš„åŒºåˆ«ï¼š</p><ul><li>React äº‹ä»¶ä½¿ç”¨é©¼å³°å‘½åï¼Œè€Œä¸æ˜¯å…¨éƒ¨å°å†™ã€‚</li><li>é€šè¿‡ JSX , ä½ ä¼ é€’ä¸€ä¸ªå‡½æ•°ä½œä¸ºäº‹ä»¶å¤„ç†ç¨‹åºï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</li></ul><p>ä¾‹å¦‚ï¼ŒHTMLï¼š</p><figure class="highlight hsp"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">button</span> <span class="keyword">onclick</span>=<span class="string">"activateLasers()"</span>&gt;</span><br><span class="line">  Activate Lasers</span><br><span class="line">&lt;/<span class="keyword">button</span>&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ React ä¸­ç•¥æœ‰ä¸åŒï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;activateLasers&#125;</span>&gt;</span></span><br><span class="line">  Activate Lasers</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦ä¸€ä¸ªåŒºåˆ«æ˜¯ï¼Œåœ¨ React ä¸­ä½ ä¸èƒ½é€šè¿‡è¿”å›  <code>false</code>ï¼ˆæ„šäººç å¤´æ³¨ï¼šå³  <code>return false;</code>  è¯­å¥ï¼‰ æ¥é˜»æ­¢é»˜è®¤è¡Œä¸ºã€‚å¿…é¡»æ˜ç¡®è°ƒç”¨  <code>preventDefault</code> ã€‚ä¾‹å¦‚ï¼Œå¯¹äºçº¯ HTML ï¼Œè¦é˜»æ­¢é“¾æ¥æ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢çš„é»˜è®¤è¡Œä¸ºï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">onclick</span>=<span class="string">"console.log('The link was clicked.'); return false"</span>&gt;</span></span><br><span class="line">  Click me</span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨ React ä¸­, åº”è¯¥è¿™ä¹ˆå†™:</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ActionLink</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleClick</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'The link was clicked.'</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;a href=<span class="string">"#"</span> onClick=&#123;handleClick&#125;&gt;</span><br><span class="line">      Click me</span><br><span class="line">    &lt;<span class="regexp">/a&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œ e æ˜¯ä¸€ä¸ªåˆæˆçš„äº‹ä»¶ã€‚ React æ ¹æ®  <a href="https://www.w3.org/TR/DOM-Level-3-Events/" target="_blank" rel="noopener">W3C è§„èŒƒ</a>  å®šä¹‰äº†è¿™ä¸ªåˆæˆäº‹ä»¶ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦æ‹…å¿ƒè·¨æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ã€‚æŸ¥çœ‹  <a href="http://www.css88.com/react/docs/events.html" target="_blank" rel="noopener"><code>SyntheticEvent</code></a>  å‚è€ƒæŒ‡å—äº†è§£æ›´å¤šã€‚</p><p>å½“ä½¿ç”¨ React æ—¶ï¼Œä½ ä¸€èˆ¬ä¸éœ€è¦è°ƒç”¨  <code>addEventListener</code>  åœ¨ DOM å…ƒç´ è¢«åˆ›å»ºåæ·»åŠ äº‹ä»¶ç›‘å¬å™¨ã€‚ç›¸åï¼Œåªè¦å½“å…ƒç´ è¢«åˆå§‹æ¸²æŸ“çš„æ—¶å€™æä¾›ä¸€ä¸ªç›‘å¬å™¨å°±å¯ä»¥äº†ã€‚</p><p>å½“ä½¿ç”¨ä¸€ä¸ª  <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes" target="_blank" rel="noopener">ES6 ç±»</a>  å®šä¹‰ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œé€šå¸¸çš„ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºæ˜¯ç±»ä¸Šçš„ä¸€ä¸ªæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œ<code>Toggle</code>  ç»„ä»¶æ¸²æŸ“ä¸€ä¸ªæŒ‰é’®ï¼Œè®©ç”¨æˆ·åœ¨ â€œONâ€ å’Œ â€œOFFâ€ çŠ¶æ€ä¹‹é—´åˆ‡æ¢ï¼š</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Toggle</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;isToggleOn: <span class="literal">true</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™ä¸ªç»‘å®šæ˜¯å¿…è¦çš„ï¼Œä½¿`this`åœ¨å›è°ƒä¸­èµ·ä½œç”¨</span></span><br><span class="line">    <span class="keyword">this</span>.handleClick = <span class="keyword">this</span>.handleClick.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleClick() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(prevState =&gt; (&#123;</span><br><span class="line">      isToggleOn: !prevState.isToggleOn</span><br><span class="line">    &#125;));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;button onClick=&#123;<span class="keyword">this</span>.handleClick&#125;&gt;</span><br><span class="line">        &#123;<span class="keyword">this</span>.state.isToggleOn ? <span class="symbol">'O</span>N' : <span class="symbol">'OF</span>F'&#125;</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">ReactDOM</span>.render(</span><br><span class="line">  &lt;<span class="type">Toggle</span> /&gt;,</span><br><span class="line">  document.getElementById(<span class="symbol">'roo</span>t')</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/xEmzGg?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>åœ¨ JSX å›è°ƒä¸­ä½ å¿…é¡»æ³¨æ„  <code>this</code>  çš„æŒ‡å‘ã€‚ åœ¨ JavaScript ä¸­ï¼Œç±»æ–¹æ³•é»˜è®¤æ²¡æœ‰  <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_objects/Function/bind" target="_blank" rel="noopener">ç»‘å®š</a>  çš„ã€‚å¦‚æœä½ å¿˜è®°ç»‘å®š  <code>this.handleClick</code>  å¹¶å°†å…¶ä¼ é€’ç»™<code>onClick</code>ï¼Œé‚£ä¹ˆåœ¨ç›´æ¥è°ƒç”¨è¯¥å‡½æ•°æ—¶ï¼Œ<code>this</code>  ä¼šæ˜¯<code>undefined</code> ã€‚</p><p>è¿™ä¸æ˜¯ React ç‰¹æœ‰çš„è¡Œä¸ºï¼›è¿™æ˜¯  <a href="https://www.smashingmagazine.com/2014/01/understanding-javascript-function-prototype-bind/" target="_blank" rel="noopener">JavaScript ä¸­çš„å‡½æ•°å¦‚ä½•å·¥ä½œ</a>çš„ä¸€éƒ¨åˆ†ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¦‚æœä½ å¼•ç”¨ä¸€ä¸ªåé¢æ²¡è·Ÿ  <code>()</code>  çš„æ–¹æ³•ï¼Œä¾‹å¦‚  <code>onClick={this.handleClick}</code> ï¼Œé‚£ä½ å°±åº”è¯¥ ç»‘å®š(bind) è¯¥æ–¹æ³•ã€‚</p><p>å¦‚æœè°ƒç”¨  <code>bind</code>  ä»¤ä½ çƒ¦æ¼ï¼Œæœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å¦‚æœæ‚¨ä½¿ç”¨å®éªŒæ€§çš„  <a href="https://babeljs.io/docs/plugins/transform-class-properties/" target="_blank" rel="noopener">å±æ€§åˆå§‹åŒ–è¯­æ³•</a> ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨å±æ€§åˆå§‹å€¼è®¾ç½®æ¥æ­£ç¡®åœ° ç»‘å®š(bind) å›è°ƒï¼š</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoggingButton</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="comment">// è¿™ä¸ªè¯­æ³•ç¡®ä¿ `this` ç»‘å®šåœ¨ handleClick ä¸­ã€‚</span></span><br><span class="line">  <span class="comment">// è­¦å‘Šï¼šè¿™æ˜¯ *å®éªŒæ€§çš„* è¯­æ³•ã€‚</span></span><br><span class="line">  handleClick = () =&gt; &#123;</span><br><span class="line">    console.log(<span class="symbol">'this</span> is:', <span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;button onClick=&#123;<span class="keyword">this</span>.handleClick&#125;&gt;</span><br><span class="line">        <span class="type">Click</span> me</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¯­æ³•åœ¨  <a href="https://github.com/facebookincubator/create-react-app" target="_blank" rel="noopener">åˆ›å»º React App</a>  ä¸­æ˜¯é»˜è®¤å¼€å¯çš„ã€‚</p><p>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨å±æ€§åˆå§‹åŒ–è¯­æ³•ï¼Œå¯ä»¥åœ¨å›è°ƒä¸­ä½¿ç”¨ä¸€ä¸ª  <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions" target="_blank" rel="noopener">ç®­å¤´å‡½æ•°</a>ï¼š</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoggingButton</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  handleClick() &#123;</span><br><span class="line">    console.log(<span class="symbol">'this</span> is:', <span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="comment">// è¿™ä¸ªè¯­æ³•ç¡®ä¿ `this` è¢«ç»‘å®šåœ¨ handleClick ä¸­</span></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;button onClick=&#123;(e) =&gt; <span class="keyword">this</span>.handleClick(e)&#125;&gt;</span><br><span class="line">        <span class="type">Click</span> me</span><br><span class="line">      &lt;/button&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¯­æ³•çš„é—®é¢˜æ˜¯ï¼Œæ¯æ¬¡  <code>LoggingButton</code>  æ¸²æŸ“æ—¶éƒ½åˆ›å»ºä¸€ä¸ªä¸åŒçš„å›è°ƒã€‚åœ¨å¤šæ•°æƒ…å†µä¸‹ï¼Œæ²¡ä»€ä¹ˆé—®é¢˜ã€‚ç„¶è€Œï¼Œå¦‚æœè¿™ä¸ªå›è°ƒè¢«ä½œä¸º prop(å±æ€§) ä¼ é€’ç»™ä¸‹çº§ç»„ä»¶ï¼Œè¿™äº›ç»„ä»¶å¯èƒ½éœ€è¦é¢å¤–çš„é‡å¤æ¸²æŸ“ã€‚æˆ‘ä»¬é€šå¸¸å»ºè®®åœ¨æ„é€ å‡½æ•°ä¸­è¿›è¡Œç»‘å®šï¼Œä»¥é¿å…è¿™ç±»æ€§èƒ½é—®é¢˜ã€‚</p><h1 id="æ¡ä»¶æ¸²æŸ“"><a class="markdownIt-Anchor" href="#æ¡ä»¶æ¸²æŸ“"></a> æ¡ä»¶æ¸²æŸ“</h1><p>åœ¨ React ä¸­ï¼Œä½ å¯ä»¥åˆ›å»ºä¸åŒçš„ç»„ä»¶å°è£…ä½ æ‰€éœ€è¦çš„è¡Œä¸ºã€‚ç„¶åï¼Œåªæ¸²æŸ“å®ƒä»¬ä¹‹ä¸­çš„ä¸€äº›ï¼Œå–å†³äºä½ çš„åº”ç”¨çš„çŠ¶æ€ã€‚</p><p>React ä¸­çš„æ¡ä»¶æ¸²æŸ“å°±å’Œåœ¨ JavaScript ä¸­çš„æ¡ä»¶è¯­å¥ä¸€æ ·ã€‚ä½¿ç”¨ JavaScript æ“ä½œç¬¦å¦‚  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else" target="_blank" rel="noopener"><code>if</code></a>  æˆ–è€…<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" target="_blank" rel="noopener">æ¡ä»¶æ“ä½œç¬¦</a>æ¥åˆ›å»ºæ¸²æŸ“å½“å‰çŠ¶æ€çš„å…ƒç´ ï¼Œå¹¶ä¸”è®© React æ›´æ–°åŒ¹é…çš„ UI ã€‚</p><p>æ€è€ƒä»¥ä¸‹ä¸¤ä¸ªç»„ä»¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">UserGreeting</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Welcome back!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GuestGreeting</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Please sign up.<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ª  <code>Greeting</code>  ç»„ä»¶, ç”¨æ¥æ ¹æ®ç”¨æˆ·æ˜¯å¦ç™»å½•, åˆ¤æ–­å¹¶æ˜¾ç¤ºä¸Šè¿°ä¸¤ä¸ªç»„ä»¶ä¹‹ä¸€ï¼š</p><figure class="highlight qml"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Greeting</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> isLoggedIn = props.isLoggedIn;</span><br><span class="line">  <span class="keyword">if</span> (isLoggedIn) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">UserGreeting</span> /&gt;</span>;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">GuestGreeting</span> /&gt;</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  <span class="comment">// ä¿®æ”¹ä¸º isLoggedIn=&#123;true&#125; è¯•è¯•:</span></span><br><span class="line">  &lt;Greeting isLoggedIn=&#123;<span class="literal">false</span>&#125; /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/ZpVxNq?editors=0011" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>è¿™ä¸ªä¾‹å­æ ¹æ®  <code>isLoggedIn</code> prop æ¸²æŸ“äº†ä¸åŒçš„é—®å€™è¯­ ã€‚</p><h3 id="å…ƒç´ å˜é‡"><a class="markdownIt-Anchor" href="#å…ƒç´ å˜é‡"></a> å…ƒç´ å˜é‡</h3><p>ä½ å¯ä»¥ç”¨å˜é‡æ¥å­˜å‚¨å…ƒç´ ã€‚è¿™å¯ä»¥å¸®åŠ©æ‚¨æœ‰æ¡ä»¶åœ°æ¸²æŸ“ç»„ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œè€Œè¾“å‡ºçš„å…¶ä½™éƒ¨åˆ†ä¸ä¼šæ›´æ”¹ã€‚</p><p>æ€è€ƒä»¥ä¸‹ä¸¤ä¸ªæ–°ç»„ä»¶ï¼Œåˆ†åˆ«ç”¨äºæ˜¾ç¤ºç™»å‡ºå’Œç™»å…¥æŒ‰é’®ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LoginButton</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;button onClick=&#123;props.onClick&#125;&gt;</span><br><span class="line">      Login</span><br><span class="line">    &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function LogoutButton(props) &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;button onClick=&#123;props.onClick&#125;&gt;</span></span><br><span class="line"><span class="regexp">      Logout</span></span><br><span class="line"><span class="regexp">    &lt;/</span>button&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ¥ä¸‹æ¥çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ä¼šåˆ›å»ºä¸€ä¸ª<a href="http://www.css88.com/react/docs/state-and-lifecycle.html#adding-local-state-to-a-class" target="_blank" rel="noopener">æœ‰çŠ¶æ€ç»„ä»¶</a>ï¼Œå«åš  <code>LoginControl</code> ã€‚</p><p>å®ƒå°†æ¸²æŸ“  <code>æˆ–è€…</code> ï¼Œå–å†³äºå½“å‰çŠ¶æ€ã€‚åŒæ—¶æ¸²æŸ“å‰é¢æåˆ°çš„``  ç»„ä»¶:</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginControl</span> <span class="title">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.handleLoginClick = <span class="keyword">this</span>.handleLoginClick.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.handleLogoutClick = <span class="keyword">this</span>.handleLogoutClick.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;isLoggedIn: <span class="literal">false</span>&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleLoginClick() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;isLoggedIn: <span class="literal">true</span>&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleLogoutClick() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;isLoggedIn: <span class="literal">false</span>&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> isLoggedIn = <span class="keyword">this</span>.state.isLoggedIn;</span><br><span class="line"></span><br><span class="line">    let button = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">if</span> (isLoggedIn) &#123;</span><br><span class="line">      button = &lt;LogoutButton onClick=&#123;<span class="keyword">this</span>.handleLogoutClick&#125; /&gt;;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      button = &lt;LoginButton onClick=&#123;<span class="keyword">this</span>.handleLoginClick&#125; /&gt;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;Greeting isLoggedIn=&#123;isLoggedIn&#125; /&gt;</span><br><span class="line">        &#123;button&#125;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;LoginControl /&gt;,</span><br><span class="line">  document.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/QKzAgB?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>è™½ç„¶å£°æ˜ä¸€ä¸ªå˜é‡å¹¶ä½¿ç”¨ä¸€ä¸ª  <code>if</code>  è¯­å¥æ˜¯ä¸€ä¸ªæœ‰æ¡ä»¶åœ°æ¸²æŸ“ç»„ä»¶çš„å¥½æ–¹æ³•ï¼Œæœ‰æ—¶ä½ å¯èƒ½æƒ³è¦ä½¿ç”¨ä¸€ä¸ªæ›´ç®€çŸ­çš„è¯­æ³•ã€‚åœ¨ JSX ä¸­æœ‰å‡ ç§å†…è”æ¡ä»¶çš„æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€è¿°ã€‚</p><h3 id="ä½¿ç”¨é€»è¾‘-æ“ä½œç¬¦çš„å†…è”-if-ç”¨æ³•"><a class="markdownIt-Anchor" href="#ä½¿ç”¨é€»è¾‘-æ“ä½œç¬¦çš„å†…è”-if-ç”¨æ³•"></a> ä½¿ç”¨é€»è¾‘ &amp;&amp; æ“ä½œç¬¦çš„å†…è” if ç”¨æ³•</h3><p>æ‚¨å¯ä»¥  <a href="http://www.css88.com/react/docs/introducing-jsx.html#embedding-expressions-in-jsx" target="_blank" rel="noopener">åœ¨ JSX ä¸­åµŒå…¥ä»»ä½•è¡¨è¾¾å¼</a> ï¼Œæ–¹æ³•æ˜¯å°†å…¶åŒ…è£¹åœ¨èŠ±æ‹¬å·ä¸­ã€‚è¿™ä¹ŸåŒ…æ‹¬ JavaScript é€»è¾‘<code>&amp;&amp;</code>  è¿ç®—ç¬¦ã€‚ å®ƒæœ‰åŠ©äºæœ‰æ¡ä»¶åœ°åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Mailbox</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> unreadMessages = props.unreadMessages;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;Hello!<span class="xml"><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">      &#123;unreadMessages.length &gt; <span class="number">0</span> &amp;&amp;</span><br><span class="line">        &lt;h2&gt;</span><br><span class="line">          You have &#123;unreadMessages.length&#125; unread messages.</span><br><span class="line">        &lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">      &#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> messages = [<span class="string">'React'</span>, <span class="string">'Re: React'</span>, <span class="string">'Re:Re: React'</span>];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Mailbox unreadMessages=&#123;messages&#125; /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/ozJddz?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>å®ƒå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå› ä¸ºåœ¨ JavaScript ä¸­ï¼Œ <code>true &amp;&amp; expression</code>  æ€»æ˜¯ä¼šè¯„ä¼°ä¸º  <code>expression</code> ï¼Œè€Œ<code>false &amp;&amp; expression</code>  æ€»æ˜¯æ‰§è¡Œä¸º  <code>false</code> ã€‚</p><p>å› æ­¤ï¼Œå¦‚æœæ¡ä»¶ä¸º  <code>true</code> ï¼Œåˆ™  <code>&amp;&amp;</code>  åé¢çš„å…ƒç´ å°†æ˜¾ç¤ºåœ¨è¾“å‡ºä¸­ã€‚ å¦‚æœæ˜¯  <code>false</code>ï¼ŒReact å°†ä¼šå¿½ç•¥å¹¶è·³è¿‡å®ƒã€‚</p><h3 id="ä½¿ç”¨æ¡ä»¶æ“ä½œç¬¦çš„å†…è”-if-else"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ¡ä»¶æ“ä½œç¬¦çš„å†…è”-if-else"></a> ä½¿ç”¨æ¡ä»¶æ“ä½œç¬¦çš„å†…è” If-Else</h3><p>å¦ä¸€ä¸ªç”¨äºæ¡ä»¶æ¸²æŸ“å…ƒç´ çš„å†…è”æ–¹æ³•æ˜¯ä½¿ç”¨ JavaScript çš„æ¡ä»¶æ“ä½œç¬¦  <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Conditional_Operator" target="_blank" rel="noopener"><code>condition ? true : false</code></a> ã€‚</p><p>åœ¨ä¸‹é¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å®ƒæ¥è¿›è¡Œæ¡ä»¶æ¸²æŸ“ä¸€ä¸ªå°çš„æ–‡æœ¬å—ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">const</span> isLoggedIn = <span class="keyword">this</span>.state.isLoggedIn;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      The user <span class="keyword">is</span> &lt;b&gt;&#123;isLoggedIn ? <span class="string">'currently'</span> : <span class="string">'not'</span>&#125;&lt;/b&gt; logged <span class="keyword">in</span>.</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®ƒä¹Ÿå¯ä»¥ç”¨äºæ›´å¤§çš„è¡¨è¾¾å¼ï¼Œè™½ç„¶ä¸å¤ªæ˜æ˜¾å‘ç”Ÿäº†ä»€ä¹ˆï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">  <span class="keyword">const</span> isLoggedIn = <span class="keyword">this</span>.state.isLoggedIn;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &#123;isLoggedIn ? (</span><br><span class="line">        &lt;LogoutButton onClick=&#123;<span class="keyword">this</span>.handleLogoutClick&#125; /&gt;</span><br><span class="line">      ) : (</span><br><span class="line">        &lt;LoginButton onClick=&#123;<span class="keyword">this</span>.handleLoginClick&#125; /&gt;</span><br><span class="line">      )&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°±åƒ JavaScript ä¸€æ ·ï¼Œä½ å¯ä»¥æ ¹æ®ä½ å’Œä½ çš„å›¢é˜Ÿè®¤ä¸ºæ›´æ˜“äºé˜…è¯»çš„æ–¹å¼é€‰æ‹©åˆé€‚çš„é£æ ¼ã€‚è¿˜è¦è®°ä½ï¼Œæ— è®ºä½•æ—¶ä½•åœ°ï¼Œå½“æ¡ä»¶å˜å¾—å¤ªå¤æ‚æ—¶ï¼Œå¯èƒ½æ˜¯<a href="http://www.css88.com/react/docs/components-and-props.html#extracting-components" target="_blank" rel="noopener">æå–ç»„ä»¶</a>çš„å¥½æ—¶æœºã€‚</p><h3 id="é˜²æ­¢ç»„ä»¶æ¸²æŸ“"><a class="markdownIt-Anchor" href="#é˜²æ­¢ç»„ä»¶æ¸²æŸ“"></a> é˜²æ­¢ç»„ä»¶æ¸²æŸ“</h3><p>åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ç»„ä»¶éšè—è‡ªèº«ï¼Œå³ä½¿å®ƒæ˜¯ç”±å¦ä¸€ä¸ªç»„ä»¶æ¸²æŸ“çš„ã€‚ä¸ºæ­¤ï¼Œè¿”å›<code>null</code>  è€Œä¸æ˜¯å…¶æ¸²æŸ“è¾“å‡ºã€‚</p><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ ¹æ®åä¸º<code>warn</code>çš„ prop å€¼ï¼Œå‘ˆç°  `` ã€‚å¦‚æœ prop å€¼ä¸º  <code>false</code>ï¼Œåˆ™è¯¥ç»„ä»¶ä¸æ¸²æŸ“ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">WarningBanner</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (!props.warn) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"warning"</span>&gt;</span><br><span class="line">      Warning!</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">class Page extends React.Component &#123;</span></span><br><span class="line"><span class="regexp">  constructor(props) &#123;</span></span><br><span class="line"><span class="regexp">    super(props);</span></span><br><span class="line"><span class="regexp">    this.state = &#123;showWarning: true&#125;</span></span><br><span class="line"><span class="regexp">    this.handleToggleClick = this.handleToggleClick.bind(this);</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  handleToggleClick() &#123;</span></span><br><span class="line"><span class="regexp">    this.setState(prevState =&gt; (&#123;</span></span><br><span class="line"><span class="regexp">      showWarning: !prevState.showWarning</span></span><br><span class="line"><span class="regexp">    &#125;));</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  render() &#123;</span></span><br><span class="line"><span class="regexp">    return (</span></span><br><span class="line"><span class="regexp">      &lt;div&gt;</span></span><br><span class="line"><span class="regexp">        &lt;WarningBanner warn=&#123;this.state.showWarning&#125; /</span>&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="keyword">this</span>.handleToggleClick&#125;&gt;</span><br><span class="line">          &#123;<span class="keyword">this</span>.state.showWarning ? <span class="string">'Hide'</span> : <span class="string">'Show'</span>&#125;</span><br><span class="line">        &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Page /&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/Xjoqwm?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>ä»ç»„ä»¶çš„  <code>render</code>  æ–¹æ³•è¿”å›  <code>null</code>  ä¸ä¼šå½±å“ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„è§¦å‘ã€‚ ä¾‹å¦‚ï¼Œ<code>componentWillUpdate</code>  å’Œ  <code>componentDidUpdate</code>  ä»å°†è¢«è°ƒç”¨ã€‚</p><h1 id="åˆ—è¡¨lists-å’Œ-é”®keys"><a class="markdownIt-Anchor" href="#åˆ—è¡¨lists-å’Œ-é”®keys"></a> åˆ—è¡¨(Lists) å’Œ é”®(Keys)</h1><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹åœ¨ JavaScript ä¸­å¦‚ä½•è½¬æ¢åˆ—è¡¨ã€‚</p><p>ç»™å®šä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noopener"><code>map()</code></a>  å‡½æ•°ä½¿  <code>numbers</code>  æ•°ç»„ä¸­çš„å…ƒç´ å€¼ç¿»å€ã€‚æˆ‘ä»¬å°†  <code>map()</code>  è¿”å›çš„æ–°æ•°ç»„åˆ†é…ç»™å˜é‡  <code>doubled</code>ï¼Œå¹¶ä¸”æ‰“å°è¿™ä¸ªå®ƒï¼š</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> <span class="built_in">double</span>d = numbers.map((number) =&gt; number * <span class="number">2</span>);</span><br><span class="line">console.log(<span class="built_in">double</span>d);</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç åœ¨æ§åˆ¶å°ä¸­æ‰“å°ä¸º  <code>[2, 4, 6, 8, 10]</code>ã€‚</p><p>åœ¨ React ä¸­ï¼Œè½¬æ¢æ•°ç»„ä¸º  <a href="http://www.css88.com/react/docs/rendering-elements.html" target="_blank" rel="noopener">å…ƒç´ åˆ—è¡¨</a>  çš„æ–¹å¼ï¼Œå’Œä¸Šè¿°æ–¹æ³•åŸºæœ¬ç›¸åŒã€‚</p><h3 id="å¤šç»„ä»¶æ¸²æŸ“"><a class="markdownIt-Anchor" href="#å¤šç»„ä»¶æ¸²æŸ“"></a> å¤šç»„ä»¶æ¸²æŸ“</h3><p>å¯ä»¥åˆ›å»ºå…ƒç´ é›†åˆï¼Œå¹¶ç”¨ä¸€å¯¹å¤§æ‹¬å·  <code>{}</code> <a href="http://www.css88.com/react/docs/introducing-jsx.html#embedding-expressions-in-jsx" target="_blank" rel="noopener">åœ¨ JSX ä¸­ç›´æ¥å°†å…¶å¼•ç”¨</a>å³å¯ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬ç”¨ JavaScript çš„  <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map" target="_blank" rel="noopener"><code>map()</code></a>  å‡½æ•°å°†  <code>numbers</code>  æ•°ç»„å¾ªç¯å¤„ç†ã€‚å¯¹äºæ¯ä¸€é¡¹ï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ª  ``  å…ƒç´ ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å°†ç»“æœå…ƒç´ æ•°ç»„åˆ†é…ç»™  <code>listItems</code>ï¼š</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> listItems = numbers.map((number) =&gt;</span><br><span class="line">  &lt;li&gt;&#123;number&#125;&lt;/li&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æŠŠæ•´ä¸ª  <code>listItems</code>  æ•°ç»„åŒ…å«åˆ°ä¸€ä¸ª  ``  å…ƒç´ ï¼Œå¹¶<a href="http://www.css88.com/react/docs/rendering-elements.html#rendering-an-element-into-the-dom" target="_blank" rel="noopener">æ¸²æŸ“åˆ° DOM</a>ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;ul&gt;&#123;listItems&#125;&lt;<span class="regexp">/ul&gt;,</span></span><br><span class="line"><span class="regexp">  document.getElementById('root')</span></span><br><span class="line"><span class="regexp">);</span></span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/GjPyQr?editors=0011" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>è¿™æ®µä»£ç æ˜¾ç¤ºä» 1 åˆ° 5 çš„æ•°å­—åˆ—è¡¨ã€‚</p><h3 id="åŸºæœ¬åˆ—è¡¨ç»„ä»¶"><a class="markdownIt-Anchor" href="#åŸºæœ¬åˆ—è¡¨ç»„ä»¶"></a> åŸºæœ¬åˆ—è¡¨ç»„ä»¶</h3><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸€ä¸ª<a href="http://www.css88.com/react/docs/components-and-props.html" target="_blank" rel="noopener">ç»„ä»¶</a>ä¸­æ¸²æŸ“åˆ—è¡¨ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é‡æ„å‰é¢çš„ä¾‹å­åˆ°ä¸€ä¸ªç»„ä»¶ï¼Œå®ƒæ¥å—ä¸€ä¸ª  <code>numbers</code>  æ•°ç»„ï¼Œå¹¶è¾“å‡ºä¸€ä¸ªå…ƒç´ çš„æ— åºåˆ—è¡¨ã€‚</p><figure class="highlight xquery"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> NumberList(props) &#123;</span><br><span class="line">  const numbers = props.numbers;</span><br><span class="line">  const listItems = numbers.<span class="keyword">map</span>(<span class="built_in">(number</span>) =&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span></span><span class="xquery"><span class="built_in">&#123;number</span>&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><span class="xquery">&#123;listItems&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;NumberList numbers=&#123;numbers&#125; /&gt;,</span><br><span class="line"> <span class="built_in"> document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>å½“è¿è¡Œä¸Šè¿°ä»£ç çš„æ—¶å€™ï¼Œå°†ä¼šæ”¶åˆ°ä¸€ä¸ªè­¦å‘Šï¼ša key should be provided for list itemsï¼ˆåº”è¯¥ä¸ºåˆ—è¡¨å…ƒç´ æä¾›ä¸€ä¸ªé”®ï¼‰ï¼ˆæ„šäººç å¤´æ³¨ ï¼šCodeOpen ä¸­æ²¡æœ‰æŠ¥è­¦å‘Šï¼Œæ˜¯å› ä¸ºå…¶ç¤ºä¾‹ä¸­ä½¿ç”¨çš„æ˜¯ min ç‰ˆæœ¬çš„ Reactï¼Œæ¢æˆé min ç‰ˆæœ¬çš„å°±å¯ä»¥çœ‹åˆ°ï¼‰ã€‚å½“åˆ›å»ºå…ƒç´ åˆ—è¡¨æ—¶ï¼Œâ€œkeyâ€ æ˜¯ä¸€ä¸ªä½ éœ€è¦åŒ…å«çš„ç‰¹æ®Šå­—ç¬¦ä¸²å±æ€§ã€‚æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚è®¨è®ºå®ƒçš„é‡è¦æ€§ã€‚</p><p>æˆ‘ä»¬åœ¨  <code>numbers.map()</code>  ä¸­èµ‹å€¼ä¸€ä¸ª  <code>key</code>  ç»™æˆ‘ä»¬çš„åˆ—è¡¨å…ƒç´ ï¼Œè§£å†³ä¸¢å¤± key çš„é—®é¢˜ã€‚</p><figure class="highlight xquery"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> NumberList(props) &#123;</span><br><span class="line">  const numbers = props.numbers;</span><br><span class="line">  const listItems = numbers.<span class="keyword">map</span>(<span class="built_in">(number</span>) =&gt;</span><br><span class="line">    &lt;li<span class="built_in"> key</span>=<span class="built_in">&#123;number</span>.toString()&#125;&gt;</span><br><span class="line">      <span class="built_in">&#123;number</span>&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><span class="xquery">&#123;listItems&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;NumberList numbers=&#123;numbers&#125; /&gt;,</span><br><span class="line"> <span class="built_in"> document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/jrXYRR?editors=0011" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><h2 id="é”®keys"><a class="markdownIt-Anchor" href="#é”®keys"></a> é”®(Keys)</h2><p>é”®(Keys) å¸®åŠ© React æ ‡è¯†å“ªä¸ªé¡¹è¢«ä¿®æ”¹ã€æ·»åŠ æˆ–è€…ç§»é™¤äº†ã€‚æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½åº”è¯¥æœ‰ä¸€ä¸ªå”¯ä¸€ä¸å˜çš„é”®(Keys)æ¥æ ‡è¯†ï¼š</p><figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">const</span> listItems = numbers.map((number) =&gt;</span><br><span class="line">  &lt;li key=&#123;number.toString()&#125;&gt;</span><br><span class="line">    &#123;number&#125;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>æŒ‘é€‰ key æœ€å¥½çš„æ–¹å¼æ˜¯ä½¿ç”¨ä¸€ä¸ªåœ¨å®ƒçš„åŒè¾ˆå…ƒç´ ä¸­ä¸é‡å¤çš„æ ‡è¯†å­—ç¬¦ä¸²ã€‚å¤šæ•°æƒ…å†µä½ å¯ä»¥ä½¿ç”¨æ•°æ®ä¸­çš„ IDs ä½œä¸º keysï¼š</p><figure class="highlight dust"><table><tr><td class="code"><pre><span class="line"><span class="xml">const todoItems = todos.map((todo) =&gt;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=</span></span><span class="template-variable">&#123;todo.id&#125;</span><span class="xml"><span class="tag">&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-variable">&#123;todo.text&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">);</span></span><br></pre></td></tr></table></figure><p>å½“è¦æ¸²æŸ“çš„åˆ—è¡¨é¡¹ä¸­æ²¡æœ‰ç¨³å®šçš„ IDs æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨æ•°æ®é¡¹çš„ç´¢å¼•å€¼ä½œä¸º key çš„æœ€åé€‰æ‹©ï¼š</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">const todoItems = todos.map((todo, <span class="keyword">index</span>) =&gt;</span><br><span class="line">  // <span class="keyword">Only</span> <span class="keyword">do</span> this <span class="keyword">if</span> items have <span class="keyword">no</span> <span class="keyword">stable</span> IDs</span><br><span class="line">  &lt;li key=&#123;<span class="keyword">index</span>&#125;&gt;</span><br><span class="line">    &#123;todo.text&#125;</span><br><span class="line">  &lt;/li&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>å¦‚æœåˆ—è¡¨é¡¹å¯èƒ½è¢«é‡æ–°æ’åºæ—¶ï¼Œæˆ‘ä»¬ä¸å»ºè®®ä½¿ç”¨ç´¢å¼•ä½œä¸º keysï¼Œå› ä¸ºè¿™å¯¼è‡´ä¸€å®šçš„æ€§èƒ½é—®é¢˜ï¼Œä¼šå¾ˆæ…¢ã€‚å¦‚æœæ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥é˜…è¯»ä¸€ä¸‹<a href="http://www.css88.com/react/docs/reconciliation.html#recursing-on-children" target="_blank" rel="noopener">æ·±å…¥çš„ä»‹ç»å…³äºä¸ºä»€ä¹ˆ keys æ˜¯å¿…é¡»çš„</a>ã€‚</p><h3 id="ä½¿ç”¨-keys-æå–ç»„ä»¶"><a class="markdownIt-Anchor" href="#ä½¿ç”¨-keys-æå–ç»„ä»¶"></a> ä½¿ç”¨ keys æå–ç»„ä»¶</h3><p>keys åªåœ¨æ•°ç»„çš„ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨æ„ä¹‰ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ <a href="http://www.css88.com/react/docs/components-and-props.html#extracting-components" target="_blank" rel="noopener">æå–</a>  ä¸€ä¸ª  <code>ListItem</code>  ç»„ä»¶ï¼Œåº”è¯¥æŠŠ key æ”¾ç½®åœ¨æ•°ç»„å¤„ç†çš„  <code>å…ƒç´ ä¸­ï¼Œä¸èƒ½æ”¾åœ¨ `ListItem` ç»„ä»¶è‡ªèº«ä¸­çš„</code>  æ ¹å…ƒç´ ä¸Šã€‚</p><p><strong>ä¾‹å­ï¼šé”™è¯¯çš„ key ç”¨æ³•</strong></p><figure class="highlight xquery"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> ListItem(props) &#123;</span><br><span class="line">  const <span class="keyword">value</span> = props.<span class="keyword">value</span>;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    // é”™è¯¯ï¼ä¸éœ€è¦åœ¨è¿™é‡ŒæŒ‡å®š<span class="built_in"> key</span>ï¼š</span><br><span class="line">    &lt;li<span class="built_in"> key</span>=&#123;<span class="keyword">value</span>.toString()&#125;&gt;</span><br><span class="line">      &#123;<span class="keyword">value</span>&#125;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> NumberList(props) &#123;</span><br><span class="line">  const numbers = props.numbers;</span><br><span class="line">  const listItems = numbers.<span class="keyword">map</span>(<span class="built_in">(number</span>) =&gt;</span><br><span class="line">    // é”™è¯¯<span class="built_in">ï¼key</span> åº”è¯¥åœ¨è¿™é‡ŒæŒ‡å®šï¼š</span><br><span class="line">    &lt;ListItem <span class="keyword">value</span>=<span class="built_in">&#123;number</span>&#125; /&gt;</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">      </span><span class="xquery">&#123;listItems&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;NumberList numbers=&#123;numbers&#125; /&gt;,</span><br><span class="line"> <span class="built_in"> document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><strong>é”™è¯¯ï¼key åº”è¯¥åœ¨è¿™é‡ŒæŒ‡å®šï¼š</strong></p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ListItem</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// æ­£ç¡®ï¼è¿™é‡Œä¸éœ€è¦æŒ‡å®š key ï¼š</span></span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>&#123;props.value&#125;<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NumberList</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> numbers = props.numbers;</span><br><span class="line">  <span class="keyword">const</span> listItems = numbers.map(<span class="function">(<span class="params">number</span>) =&gt;</span></span><br><span class="line">    <span class="comment">// æ­£ç¡®ï¼key åº”è¯¥åœ¨è¿™é‡Œè¢«æŒ‡å®š</span></span><br><span class="line">    &lt;ListItem key=&#123;number.toString()&#125;</span><br><span class="line">              value=&#123;number&#125; /&gt;</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;listItems&#125;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">const numbers = [1, 2, 3, 4, 5];</span></span><br><span class="line"><span class="regexp">ReactDOM.render(</span></span><br><span class="line"><span class="regexp">  &lt;NumberList numbers=&#123;numbers&#125; /</span>&gt;,</span><br><span class="line">  <span class="built_in">document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/rthor/pen/QKzJKG?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>ä¸€ä¸ªå¥½çš„ç»éªŒå‡†åˆ™æ˜¯å…ƒç´ ä¸­è°ƒç”¨  <code>map()</code>  éœ€è¦ keys ã€‚</p><h3 id="keys-åœ¨åŒè¾ˆå…ƒç´ ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„"><a class="markdownIt-Anchor" href="#keys-åœ¨åŒè¾ˆå…ƒç´ ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„"></a> keys åœ¨åŒè¾ˆå…ƒç´ ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„</h3><p>åœ¨æ•°ç»„ä¸­ä½¿ç”¨çš„ keys å¿…é¡»åœ¨å®ƒä»¬çš„åŒè¾ˆä¹‹é—´å”¯ä¸€ã€‚ç„¶è€Œå®ƒä»¬å¹¶ä¸éœ€è¦å…¨å±€å”¯ä¸€ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æ“ä½œä¸¤ä¸ªä¸åŒæ•°ç»„çš„æ—¶å€™ä½¿ç”¨ç›¸åŒçš„ keys ï¼š</p><figure class="highlight xquery"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> Blog(props) &#123;</span><br><span class="line">  const sidebar = (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">      </span><span class="xquery">&#123;props.posts.<span class="keyword">map</span>((post) =&gt;</span></span><br><span class="line"><span class="xquery">        &lt;li<span class="built_in"> key</span>=&#123;post<span class="built_in">.id</span>&#125;</span><span class="xml">&gt;</span></span><br><span class="line"><span class="xml">          </span><span class="xquery">&#123;post.title&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">      )&#125;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">  );</span><br><span class="line">  const content = props.posts.<span class="keyword">map</span>((post) =&gt;</span><br><span class="line">    &lt;div<span class="built_in"> key</span>=&#123;post<span class="built_in">.id</span>&#125;&gt;</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">h3</span>&gt;</span></span><span class="xquery">&#123;post.title&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="xquery">&#123;post.content&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      </span><span class="xquery">&#123;sidebar&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line"><span class="xml">      </span><span class="xquery">&#123;content&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const posts = [</span><br><span class="line">  <span class="built_in">&#123;id</span>: <span class="number">1</span>, title: <span class="string">'Hello World'</span>, content: <span class="string">'Welcome to learning React!'</span>&#125;,</span><br><span class="line">  <span class="built_in">&#123;id</span>: <span class="number">2</span>, title: <span class="string">'Installation'</span>, content: <span class="string">'You can install React from npm.'</span>&#125;</span><br><span class="line">];</span><br><span class="line">ReactDOM.render(</span><br><span class="line">  &lt;Blog posts=&#123;posts&#125; /&gt;,</span><br><span class="line"> <span class="built_in"> document</span>.getElementById(<span class="string">'root'</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/NRZYGN?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>é”®æ˜¯ React çš„ä¸€ä¸ªå†…éƒ¨æ˜ å°„ï¼Œä½†å…¶ä¸ä¼šä¼ é€’ç»™ç»„ä»¶çš„å†…éƒ¨ã€‚å¦‚æœä½ éœ€è¦åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç›¸åŒçš„å€¼ï¼Œå¯ä»¥æ˜ç¡®ä½¿ç”¨ä¸€ä¸ªä¸åŒåå­—çš„ prop ä¼ å…¥ã€‚</p><figure class="highlight stata"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> content = posts.map((<span class="keyword">post</span>) =&gt;</span><br><span class="line">  &lt;<span class="keyword">Post</span></span><br><span class="line">    key=&#123;<span class="keyword">post</span>.id&#125;</span><br><span class="line">    id=&#123;<span class="keyword">post</span>.id&#125;</span><br><span class="line">    title=&#123;<span class="keyword">post</span>.title&#125; /&gt;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ <code>Post</code>  ç»„ä»¶å¯ä»¥è¯»å–  <code>props.id</code>ï¼Œä½†æ˜¯ä¸èƒ½è¯»å–  <code>props.key</code> ã€‚</p><h3 id="åœ¨-jsx-ä¸­åµŒå…¥-map"><a class="markdownIt-Anchor" href="#åœ¨-jsx-ä¸­åµŒå…¥-map"></a> åœ¨ JSX ä¸­åµŒå…¥ map()</h3><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å•ç‹¬å£°æ˜äº†ä¸€ä¸ª  <code>listItems</code>  å˜é‡ï¼Œå¹¶åœ¨ JSX ä¸­å¼•ç”¨äº†è¯¥å˜é‡ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NumberList</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> numbers = props.numbers;</span><br><span class="line">  <span class="keyword">const</span> listItems = numbers.map(<span class="function">(<span class="params">number</span>) =&gt;</span></span><br><span class="line">    &lt;ListItem key=&#123;number.toString()&#125;</span><br><span class="line">              value=&#123;number&#125; /&gt;</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;listItems&#125;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>JSX å…è®¸åœ¨å¤§æ‹¬å·ä¸­<a href="http://www.css88.com/react/docs/introducing-jsx.html#embedding-expressions-in-jsx" target="_blank" rel="noopener">åµŒå…¥ä»»ä½•è¡¨è¾¾å¼</a>ï¼Œå› æ­¤å¯ä»¥ å†…è”  <code>map()</code>  ç»“æœï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">NumberList</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> numbers = props.numbers;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">      &#123;numbers.map(<span class="function">(<span class="params">number</span>) =&gt;</span></span><br><span class="line">        &lt;ListItem key=&#123;number.toString()&#125;</span><br><span class="line">                  value=&#123;number&#125; /&gt;</span><br><span class="line">      )&#125;</span><br><span class="line">    &lt;<span class="regexp">/ul&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/BLvYrB?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>æœ‰æ—¶è¿™å¯ä»¥äº§ç”Ÿæ¸…æ™°çš„ä»£ç ï¼Œä½†æ˜¯è¿™ä¸ªé£æ ¼ä¹Ÿå¯èƒ½è¢«æ»¥ç”¨ã€‚å°±åƒåœ¨ JavaScript ä¸­ï¼Œæ˜¯å¦æœ‰å¿…è¦æå–ä¸€ä¸ªå˜é‡ä»¥æé«˜ç¨‹åºçš„å¯è¯»æ€§ï¼Œè¿™å–å†³äºä½ ã€‚ä½†æ˜¯è®°ä½ï¼Œå¦‚æœ  <code>map()</code>  ä½“ä¸­æœ‰å¤ªå¤šåµŒå¥—ï¼Œå¯èƒ½æ˜¯<a href="http://www.css88.com/react/docs/components-and-props.html#extracting-components" target="_blank" rel="noopener">æå–ç»„ä»¶</a>çš„å¥½æ—¶æœºã€‚</p><h1 id="è¡¨å•forms"><a class="markdownIt-Anchor" href="#è¡¨å•forms"></a> è¡¨å•(Forms)</h1><p>HTML è¡¨å•å…ƒç´ ä¸ React ä¸­çš„å…¶ä»– DOM å…ƒç´ æœ‰æ‰€ä¸åŒï¼Œå› ä¸ºè¡¨å•å…ƒç´ è‡ªç„¶åœ°ä¿ç•™äº†ä¸€äº›å†…éƒ¨çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œè¿™ä¸ªçº¯ HTML è¡¨å•æ¥å—ä¸€ä¸ªå•ç‹¬çš„ nameï¼š</p><figure class="highlight stata"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">form</span>&gt;</span><br><span class="line">  &lt;<span class="keyword">label</span>&gt;</span><br><span class="line">    Name:</span><br><span class="line">    &lt;<span class="keyword">input</span> <span class="keyword">type</span>=<span class="string">"text"</span> name=<span class="string">"name"</span> /&gt;</span><br><span class="line">  &lt;/<span class="keyword">label</span>&gt;</span><br><span class="line">  &lt;<span class="keyword">input</span> <span class="keyword">type</span>=<span class="string">"submit"</span> value=<span class="string">"Submit"</span> /&gt;</span><br><span class="line">&lt;/<span class="keyword">form</span>&gt;</span><br></pre></td></tr></table></figure><p>è¯¥è¡¨å•å’Œ HTML è¡¨å•çš„é»˜è®¤è¡Œä¸ºä¸€è‡´ï¼Œå½“ç”¨æˆ·æäº¤æ­¤è¡¨å•æ—¶æµè§ˆå™¨ä¼šæ‰“å¼€ä¸€ä¸ªæ–°é¡µé¢ã€‚å¦‚æœä½ å¸Œæœ› React ä¸­ä¿æŒè¿™ä¸ªè¡Œä¸ºï¼Œä¹Ÿå¯ä»¥å·¥ä½œã€‚ä½†æ˜¯å¤šæ•°æƒ…å†µä¸‹ï¼Œç”¨ä¸€ä¸ªå¤„ç†è¡¨å•æäº¤å¹¶è®¿é—®ç”¨æˆ·è¾“å…¥åˆ°è¡¨å•ä¸­çš„æ•°æ®çš„ JavaScript å‡½æ•°ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚å®ç°è¿™ä¸€ç‚¹çš„æ ‡å‡†æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ç§ç§°ä¸ºâ€œå—æ§ç»„ä»¶(controlled components)â€çš„æŠ€æœ¯ã€‚</p><h2 id="å—æ§ç»„ä»¶controlled-components"><a class="markdownIt-Anchor" href="#å—æ§ç»„ä»¶controlled-components"></a> å—æ§ç»„ä»¶(Controlled Components)</h2><p>åœ¨ HTML ä¸­ï¼Œè¡¨å•å…ƒç´ å¦‚  <code>ï¼Œ</code>  å’Œ  ``  è¡¨å•å…ƒç´ é€šå¸¸ä¿æŒè‡ªå·±çš„çŠ¶æ€ï¼Œå¹¶æ ¹æ®ç”¨æˆ·è¾“å…¥è¿›è¡Œæ›´æ–°ã€‚è€Œåœ¨ React ä¸­ï¼Œå¯å˜çŠ¶æ€ä¸€èˆ¬ä¿å­˜åœ¨ç»„ä»¶çš„ state(çŠ¶æ€) å±æ€§ä¸­ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡  <a href="http://www.css88.com/react/docs/react-component.html#setstate" target="_blank" rel="noopener"><code>setState()</code></a>  æ›´æ–°ã€‚</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ React çš„ state æˆä¸º â€œå•ä¸€æ•°æ®æºåŸåˆ™â€ æ¥ç»“åˆè¿™ä¸¤ä¸ªå½¢å¼ã€‚ç„¶åæ¸²æŸ“è¡¨å•çš„ React ç»„ä»¶ä¹Ÿå¯ä»¥æ§åˆ¶åœ¨ç”¨æˆ·è¾“å…¥ä¹‹åçš„è¡Œä¸ºã€‚è¿™ç§å½¢å¼ï¼Œå…¶å€¼ç”± React æ§åˆ¶çš„è¾“å…¥è¡¨å•å…ƒç´ ç§°ä¸ºâ€œå—æ§ç»„ä»¶â€ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³ä½¿ä¸Šä¸€ä¸ªä¾‹å­åœ¨æäº¤æ—¶è®°å½•åç§°ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¡¨å•å†™ä¸ºå—æ§ç»„ä»¶ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NameForm</span> <span class="title">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;value: <span class="string">''</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.handleChange = <span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.handleSubmit = <span class="keyword">this</span>.handleSubmit.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(event) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;value: event.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleSubmit(event) &#123;</span><br><span class="line">    alert(<span class="string">'A name was submitted: '</span> + <span class="keyword">this</span>.state.value);</span><br><span class="line">    event.preventDefault();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;form onSubmit=&#123;<span class="keyword">this</span>.handleSubmit&#125;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          Name:</span><br><span class="line">          &lt;input type=<span class="string">"text"</span> value=&#123;<span class="keyword">this</span>.state.value&#125; onChange=&#123;<span class="keyword">this</span>.handleChange&#125; /&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">"submit"</span> value=<span class="string">"Submit"</span> /&gt;</span><br><span class="line">      &lt;/form&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/VmmPgp?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>è®¾ç½®è¡¨å•å…ƒç´ çš„ value å±æ€§ä¹‹åï¼Œå…¶æ˜¾ç¤ºå€¼å°†ç”± this.state.value å†³å®šï¼Œä»¥æ»¡è¶³ React çŠ¶æ€çš„åŒä¸€æ•°æ®ç†å¿µã€‚æ¯æ¬¡é”®ç›˜æ•²å‡»ä¹‹åä¼šæ‰§è¡Œ handleChange æ–¹æ³•ä»¥æ›´æ–° React çŠ¶æ€ï¼Œæ˜¾ç¤ºå€¼ä¹Ÿå°†éšç€ç”¨æˆ·çš„è¾“å…¥æ”¹å˜ã€‚</p><p>ç”±äº  <code>value</code>  å±æ€§è®¾ç½®åœ¨æˆ‘ä»¬çš„è¡¨å•å…ƒç´ ä¸Šï¼Œæ˜¾ç¤ºçš„å€¼æ€»æ˜¯  <code>this.state.value</code>ï¼Œä»¥æ»¡è¶³ state çŠ¶æ€çš„åŒä¸€æ•°æ®ç†å¿µã€‚ç”±äº  <code>handleChange</code>  åœ¨æ¯æ¬¡æ•²å‡»é”®ç›˜æ—¶è¿è¡Œï¼Œä»¥æ›´æ–° React state(çŠ¶æ€)ï¼Œæ˜¾ç¤ºçš„å€¼å°†æ›´æ–°ä¸ºç”¨æˆ·çš„è¾“å…¥ã€‚</p><p>å¯¹äºå—æ§ç»„ä»¶æ¥è¯´ï¼Œæ¯ä¸€æ¬¡ state(çŠ¶æ€) å˜åŒ–éƒ½ä¼šä¼´æœ‰ç›¸å…³è”çš„å¤„ç†å‡½æ•°ã€‚è¿™ä½¿å¾—å¯ä»¥ç›´æ¥ä¿®æ”¹æˆ–éªŒè¯ç”¨æˆ·çš„è¾“å…¥ã€‚æ¯”å¦‚ï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›å¼ºåˆ¶ name çš„è¾“å…¥éƒ½æ˜¯å¤§å†™å­—æ¯ï¼Œå¯ä»¥è¿™æ ·æ¥å†™<code>handleChange</code>  æ–¹æ³•ï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">handle<span class="constructor">Change(<span class="params">event</span>)</span> &#123;</span><br><span class="line">  this.set<span class="constructor">State(&#123;<span class="params">value</span>: <span class="params">event</span>.<span class="params">target</span>.<span class="params">value</span>.<span class="params">toUpperCase</span>()</span>&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="textare-æ ‡ç­¾"><a class="markdownIt-Anchor" href="#textare-æ ‡ç­¾"></a> textare æ ‡ç­¾</h2><p>åœ¨ HTML ä¸­ï¼Œ``  å…ƒç´ é€šè¿‡å®ƒçš„å­èŠ‚ç‚¹å®šä¹‰äº†å®ƒçš„æ–‡æœ¬å€¼ï¼š</p><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">&lt;textarea&gt;</span><br><span class="line">  Hello there, this <span class="keyword">is</span> <span class="keyword">some</span> <span class="built_in">text</span> <span class="keyword">in</span> a <span class="built_in">text</span> area</span><br><span class="line">&lt;/textarea&gt;</span><br></pre></td></tr></table></figure><p>åœ¨ React ä¸­ï¼Œ<code>çš„èµ‹å€¼ä½¿ç”¨ `value` å±æ€§æ›¿ä»£ã€‚è¿™æ ·ä¸€æ¥ï¼Œè¡¨å•ä¸­</code>  çš„ä¹¦å†™æ–¹å¼æ¥è¿‘äºå•è¡Œæ–‡æœ¬è¾“å…¥æ¡† ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EssayForm</span> <span class="title">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      value: <span class="string">'Please write an essay about your favorite DOM element.'</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.handleChange = <span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.handleSubmit = <span class="keyword">this</span>.handleSubmit.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(event) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;value: event.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleSubmit(event) &#123;</span><br><span class="line">    alert(<span class="string">'An essay was submitted: '</span> + <span class="keyword">this</span>.state.value);</span><br><span class="line">    event.preventDefault();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;form onSubmit=&#123;<span class="keyword">this</span>.handleSubmit&#125;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          Name:</span><br><span class="line">          &lt;textarea value=&#123;<span class="keyword">this</span>.state.value&#125; onChange=&#123;<span class="keyword">this</span>.handleChange&#125; /&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;input type=<span class="string">"submit"</span> value=<span class="string">"Submit"</span> /&gt;</span><br><span class="line">      &lt;/form&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œ<code>this.state.value</code>  åœ¨æ„é€ å‡½æ•°ä¸­åˆå§‹åŒ–ï¼Œæ‰€ä»¥è¿™äº›æ–‡æœ¬ä¸€å¼€å§‹å°±å‡ºç°åœ¨æ–‡æœ¬åŸŸä¸­ã€‚</p><h2 id="select-æ ‡ç­¾"><a class="markdownIt-Anchor" href="#select-æ ‡ç­¾"></a> select æ ‡ç­¾</h2><p>åœ¨ HTML ä¸­ï¼Œ``  åˆ›å»ºäº†ä¸€ä¸ªä¸‹æ‹‰åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œè¿™æ®µ HTML åˆ›å»ºä¸€ä¸ªä¸‹æ‹‰çš„å£å‘³(flavors)åˆ—è¡¨ï¼š</p><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">&lt;<span class="keyword">select</span>&gt;</span><br><span class="line">  &lt;<span class="keyword">option</span> <span class="keyword">value</span>="grapefruit"&gt;Grapefruit&lt;/<span class="keyword">option</span>&gt;</span><br><span class="line">  &lt;<span class="keyword">option</span> <span class="keyword">value</span>="lime"&gt;Lime&lt;/<span class="keyword">option</span>&gt;</span><br><span class="line">  &lt;<span class="keyword">option</span> selected <span class="keyword">value</span>="coconut"&gt;Coconut&lt;/<span class="keyword">option</span>&gt;</span><br><span class="line">  &lt;<span class="keyword">option</span> <span class="keyword">value</span>="mango"&gt;Mango&lt;/<span class="keyword">option</span>&gt;</span><br><span class="line">&lt;/<span class="keyword">select</span>&gt;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼ŒCoconut é€‰é¡¹æ˜¯åˆå§‹åŒ–é€‰ä¸­çš„ï¼Œå› ä¸ºå®ƒçš„  <code>selected</code>  å±æ€§ã€‚React ä¸­ï¼Œå¹¶ä¸ä½¿ç”¨è¿™ä¸ª<code>selected</code>  å±æ€§ï¼Œè€Œæ˜¯åœ¨æ ¹  <code>select</code>  æ ‡ç­¾ä¸­ä½¿ç”¨äº†ä¸€ä¸ª  <code>value</code>  å±æ€§ã€‚è¿™ä½¿å¾—å—æ§ç»„ä»¶ä½¿ç”¨æ›´æ–¹ä¾¿ï¼Œå› ä¸ºä½ åªéœ€è¦æ›´æ–°ä¸€å¤„å³å¯ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">FlavorForm</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;<span class="attr">value</span>: <span class="string">'coconut'</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.handleChange = <span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.handleSubmit = <span class="keyword">this</span>.handleSubmit.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(event) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">value</span>: event.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleSubmit(event) &#123;</span><br><span class="line">    alert(<span class="string">'Your favorite flavor is: '</span> + <span class="keyword">this</span>.state.value);</span><br><span class="line">    event.preventDefault();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;form onSubmit=&#123;<span class="keyword">this</span>.handleSubmit&#125;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          Pick your favorite La Croix flavor:</span><br><span class="line">          &lt;select value=&#123;<span class="keyword">this</span>.state.value&#125; onChange=&#123;<span class="keyword">this</span>.handleChange&#125;&gt;</span><br><span class="line">            &lt;option value=<span class="string">"grapefruit"</span>&gt;Grapefruit&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">            &lt;option value="lime"&gt;Lime&lt;/</span>option&gt;</span><br><span class="line">            &lt;option value=<span class="string">"coconut"</span>&gt;Coconut&lt;<span class="regexp">/option&gt;</span></span><br><span class="line"><span class="regexp">            &lt;option value="mango"&gt;Mango&lt;/</span>option&gt;</span><br><span class="line">          &lt;<span class="regexp">/select&gt;</span></span><br><span class="line"><span class="regexp">        &lt;/</span>label&gt;</span><br><span class="line">        &lt;input type=<span class="string">"submit"</span> value=<span class="string">"Submit"</span> /&gt;</span><br><span class="line">      &lt;<span class="regexp">/form&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/JbbEzX?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œè¿™ä½¿  <code>ï¼Œ</code>  å’Œ  ``  éƒ½ä»¥ç±»ä¼¼çš„æ–¹å¼å·¥ä½œ â€”â€” å®ƒä»¬éƒ½æ¥å—ä¸€ä¸ª  <code>value</code>  å±æ€§å¯ä»¥ç”¨æ¥å®ç°ä¸€ä¸ªå—æ§ç»„ä»¶ã€‚</p><h2 id="å¤„ç†å¤šä¸ªè¾“å…¥å…ƒç´ "><a class="markdownIt-Anchor" href="#å¤„ç†å¤šä¸ªè¾“å…¥å…ƒç´ "></a> å¤„ç†å¤šä¸ªè¾“å…¥å…ƒç´ </h2><p>å½“æ‚¨éœ€è¦å¤„ç†å¤šä¸ªå—æ§çš„  <code>input</code>  å…ƒç´ æ—¶ï¼Œæ‚¨å¯ä»¥ä¸ºæ¯ä¸ªå…ƒç´ æ·»åŠ ä¸€ä¸ª  <code>name</code>  å±æ€§ï¼Œå¹¶ä¸”è®©å¤„ç†å‡½æ•°æ ¹æ®  <code>event.target.name</code>  çš„å€¼æ¥é€‰æ‹©è¦åšä»€ä¹ˆã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Reservation</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      isGoing: <span class="literal">true</span>,</span><br><span class="line">      numberOfGuests: <span class="number">2</span></span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.handleInputChange = <span class="keyword">this</span>.handleInputChange.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleInputChange(event) &#123;</span><br><span class="line">    const target = event.target;</span><br><span class="line">    const value = target.<span class="keyword">type</span> === <span class="symbol">'checkbo</span>x' ? target.checked : target.value;</span><br><span class="line">    const name = target.name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;</span><br><span class="line">      [name]: value</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;form&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          <span class="type">Is</span> going:</span><br><span class="line">          &lt;input</span><br><span class="line">            name=<span class="string">"isGoing"</span></span><br><span class="line">            <span class="class"><span class="keyword">type</span></span>=<span class="string">"checkbox"</span></span><br><span class="line">            checked=&#123;<span class="keyword">this</span>.state.isGoing&#125;</span><br><span class="line">            onChange=&#123;<span class="keyword">this</span>.handleInputChange&#125; /&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;br /&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">          <span class="type">Number</span> of guests:</span><br><span class="line">          &lt;input</span><br><span class="line">            name=<span class="string">"numberOfGuests"</span></span><br><span class="line">            <span class="class"><span class="keyword">type</span></span>=<span class="string">"number"</span></span><br><span class="line">            value=&#123;<span class="keyword">this</span>.state.numberOfGuests&#125;</span><br><span class="line">            onChange=&#123;<span class="keyword">this</span>.handleInputChange&#125; /&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">      &lt;/form&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://codepen.io/gaearon/pen/wgedvV?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>æ³¨æ„æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨ ES6<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Object_initializer#Computed_property_names" target="_blank" rel="noopener">è®¡ç®—çš„å±æ€§åç§°</a>è¯­æ³•æ¥æ›´æ–°ä¸ç»™å®šè¾“å…¥åç§°ç›¸å¯¹åº”çš„ state(çŠ¶æ€) é”®ï¼š</p><figure class="highlight cs"><table><tr><td class="code"><pre><span class="line"><span class="keyword">this</span>.setState(&#123;</span><br><span class="line">  [<span class="meta">name</span>]: <span class="keyword">value</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ç­‰ä»·äº ES5 ä»£ç :</p><figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">var partialState = &#123;&#125;<span class="comment">;</span></span><br><span class="line">partialState[name] = value<span class="comment">;</span></span><br><span class="line">this.setState(partialState)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œç”±äº  <code>setState()</code>  è‡ªåŠ¨<a href="http://www.css88.com/react/docs/state-and-lifecycle.html#state-updates-are-merged" target="_blank" rel="noopener">å°†éƒ¨åˆ†çŠ¶æ€åˆå¹¶åˆ°å½“å‰çŠ¶æ€</a>ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è°ƒç”¨æ›´æ”¹çš„éƒ¨åˆ†å³å¯ã€‚</p><h2 id="å—æ§ç»„ä»¶çš„æ›¿ä»£æ–¹æ¡ˆ"><a class="markdownIt-Anchor" href="#å—æ§ç»„ä»¶çš„æ›¿ä»£æ–¹æ¡ˆ"></a> å—æ§ç»„ä»¶çš„æ›¿ä»£æ–¹æ¡ˆ</h2><p>æœ‰æ—¶ä½¿ç”¨å—æ§ç»„ä»¶æœ‰äº›ä¹å‘³ï¼Œå› ä¸ºä½ éœ€è¦ä¸ºæ¯ä¸€ä¸ªå¯æ›´æ”¹çš„æ•°æ®æä¾›äº‹ä»¶å¤„ç†å™¨ï¼Œå¹¶é€šè¿‡ React ç»„ä»¶ç®¡ç†æ‰€æœ‰è¾“å…¥çŠ¶æ€ã€‚å½“ä½ å°†å·²ç»å­˜åœ¨çš„ä»£ç è½¬æ¢ä¸º React æ—¶ï¼Œæˆ–å°† React åº”ç”¨ç¨‹åºä¸é React åº“é›†æˆæ—¶ï¼Œè¿™å¯èƒ½å˜å¾—ç‰¹åˆ«çƒ¦äººã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨<a href="http://www.css88.com/react/docs/uncontrolled-components.html" target="_blank" rel="noopener">ä¸å—æ§çš„ç»„ä»¶</a>ï¼Œç”¨äºå®ç°è¾“å…¥è¡¨å•çš„æ›¿ä»£æŠ€æœ¯ã€‚</p><h1 id="çŠ¶æ€æå‡lifting-state-up"><a class="markdownIt-Anchor" href="#çŠ¶æ€æå‡lifting-state-up"></a> çŠ¶æ€æå‡(Lifting State Up)</h1><p>é€šå¸¸æƒ…å†µä¸‹ï¼ŒåŒä¸€ä¸ªæ•°æ®çš„å˜åŒ–éœ€è¦å‡ ä¸ªä¸åŒçš„ç»„ä»¶æ¥åæ˜ ã€‚æˆ‘ä»¬å»ºè®®æå‡å…±äº«çš„çŠ¶æ€åˆ°å®ƒä»¬æœ€è¿‘çš„ç¥–å…ˆç»„ä»¶ä¸­ã€‚æˆ‘ä»¬çœ‹ä¸‹è¿™æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚</p><p>åœ¨æœ¬èŠ‚ï¼Œæˆ‘ä»¬å°†ä¼šåˆ›å»ºä¸€ä¸ªæ¸©åº¦è®¡ç®—å™¨ï¼Œç”¨æ¥è®¡ç®—æ°´åœ¨ä¸€ä¸ªç»™å®šæ¸©åº¦ä¸‹æ˜¯å¦ä¼šæ²¸è…¾ã€‚</p><p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç§°ä¸º  <code>BoilingVerdict</code>  çš„ç»„ä»¶å¼€å§‹ã€‚å®ƒæ¥å—  <code>celsius</code>ï¼ˆæ‘„æ°æ¸©åº¦ï¼‰ä½œä¸º prop ï¼Œå¹¶æ‰“å°æ˜¯å¦è¶³ä»¥ä½¿æ°´æ²¸è…¾ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">BoilingVerdict</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (props.celsius &gt;= <span class="number">100</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The water would boil.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>The water would not boil.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¼šåˆ›å»ºä¸€ä¸ª  <code>Calculator</code>  ç»„ä»¶ã€‚å®ƒæ¸²æŸ“ä¸€ä¸ª  ``  è®©ä½ è¾“å…¥æ¸©åº¦ï¼Œå¹¶åœ¨<code>this.state.temperature</code>  ä¸­ä¿å­˜å®ƒçš„å€¼ã€‚</p><p>å¦å¤–ï¼Œå®ƒä¼šæ ¹æ®å½“å‰è¾“å…¥çš„æ¸©åº¦æ¥æ¸²æŸ“  <code>BoilingVerdict</code> ã€‚</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> <span class="title">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.handleChange = <span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;temperature: <span class="string">''</span>&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(e) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;temperature: e.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> temperature = <span class="keyword">this</span>.state.temperature;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;fieldset&gt;</span><br><span class="line">        &lt;legend&gt;Enter temperature <span class="keyword">in</span> Celsius:&lt;/legend&gt;</span><br><span class="line">        &lt;input</span><br><span class="line">          value=&#123;temperature&#125;</span><br><span class="line">          onChange=&#123;<span class="keyword">this</span>.handleChange&#125; /&gt;</span><br><span class="line">        &lt;BoilingVerdict</span><br><span class="line">          celsius=&#123;parseFloat(temperature)&#125; /&gt;</span><br><span class="line">      &lt;/fieldset&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/valscion/pen/VpZJRZ?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><h2 id="æ·»åŠ ç¬¬äºŒä¸ªè¾“å…¥"><a class="markdownIt-Anchor" href="#æ·»åŠ ç¬¬äºŒä¸ªè¾“å…¥"></a> æ·»åŠ ç¬¬äºŒä¸ªè¾“å…¥</h2><p>æˆ‘ä»¬æ–°çš„éœ€æ±‚æ˜¯ï¼Œé™¤äº†ä¸€ä¸ªæ‘„æ°æ¸©åº¦è¾“å…¥ä¹‹å¤–ï¼Œæˆ‘ä»¬å†æä¾›äº†ä¸€ä¸ªåæ°æ¸©åº¦è¾“å…¥ï¼Œå¹¶ä¸”ä¸¤è€…ä¿æŒè‡ªåŠ¨åŒæ­¥ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä»  <code>Calculator</code>  ä¸­æå–ä¸€ä¸ª  <code>TemperatureInput</code>  ç»„ä»¶å¼€å§‹ã€‚æˆ‘ä»¬å°†æ·»åŠ ä¸€ä¸ªæ–°çš„  <code>scale</code>å±æ€§ï¼Œå€¼å¯èƒ½æ˜¯  <code>&quot;c&quot;</code>  æˆ–è€…  <code>&quot;f&quot;</code> ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> scaleNames = &#123;</span><br><span class="line">  c: <span class="string">'Celsius'</span>,</span><br><span class="line">  f: <span class="string">'Fahrenheit'</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TemperatureInput</span> <span class="title">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.handleChange = <span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;temperature: <span class="string">''</span>&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(e) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;temperature: e.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> temperature = <span class="keyword">this</span>.state.temperature;</span><br><span class="line">    <span class="keyword">const</span> scale = <span class="keyword">this</span>.props.scale;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;fieldset&gt;</span><br><span class="line">        &lt;legend&gt;Enter temperature <span class="keyword">in</span> &#123;scaleNames[scale]&#125;:&lt;/legend&gt;</span><br><span class="line">        &lt;input value=&#123;temperature&#125;</span><br><span class="line">               onChange=&#123;<span class="keyword">this</span>.handleChange&#125; /&gt;</span><br><span class="line">      &lt;/fieldset&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥ä¿®æ”¹  <code>Calculator</code>  æ¥æ¸²æŸ“ä¸¤ä¸ªç‹¬ç«‹çš„æ¸©åº¦è¾“å…¥ï¼š</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;<span class="type">TemperatureInput</span> scale=<span class="string">"c"</span> /&gt;</span><br><span class="line">        &lt;<span class="type">TemperatureInput</span> scale=<span class="string">"f"</span> /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/valscion/pen/GWKbao?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>æˆ‘ä»¬ç°åœ¨æœ‰ä¸¤ä¸ª (input)è¾“å…¥æ¡† äº†ï¼Œä½†æ˜¯å½“ä½ è¾“å…¥å…¶ä¸­ä¸€ä¸ªæ¸©åº¦æ—¶ï¼Œå¦ä¸€ä¸ªè¾“å…¥å¹¶æ²¡æœ‰æ›´æ–°ã€‚è¿™æ˜¯è·Ÿæˆ‘ä»¬çš„éœ€è¦ä¸ç¬¦çš„ï¼šæˆ‘ä»¬å¸Œæœ›å®ƒä»¬ä¿æŒåŒæ­¥ã€‚</p><p>æˆ‘ä»¬ä¹Ÿä¸èƒ½åœ¨  <code>Calculator</code>  ä¸­æ˜¾ç¤º  <code>BoilingVerdict</code> ã€‚ <code>Calculator</code>  ä¸çŸ¥é“å½“å‰çš„æ¸©åº¦ï¼Œå› ä¸ºå®ƒæ˜¯åœ¨  <code>TemperatureInput</code>  ä¸­éšè—çš„ã€‚</p><h2 id="ç¼–å†™è½¬æ¢å‡½æ•°"><a class="markdownIt-Anchor" href="#ç¼–å†™è½¬æ¢å‡½æ•°"></a> ç¼–å†™è½¬æ¢å‡½æ•°</h2><p>é¦–å…ˆï¼Œæˆ‘ä»¬ç¼–å†™ä¸¤ä¸ªå‡½æ•°æ¥åœ¨æ‘„æ°æ¸©åº¦å’Œåæ°æ¸©åº¦ä¹‹é—´è½¬æ¢ï¼š</p><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">toCelsius</span>(fahrenheit) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">(fahrenheit</span> - <span class="number">32</span>) * <span class="number">5</span> / <span class="number">9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title">toFahrenheit</span>(celsius) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="type">(celsius</span> * <span class="number">9</span> / <span class="number">5</span>) + <span class="number">32</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤ä¸ªå‡½æ•°ç”¨æ¥è½¬åŒ–æ•°å­—ã€‚æ¥ä¸‹æ¥å†ç¼–å†™ä¸€ä¸ªå‡½æ•°ç”¨æ¥æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²  <code>temperature</code>  å’Œä¸€ä¸ª è½¬åŒ–å™¨å‡½æ•° ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è¿™ä¸ªå‡½æ•°ç”¨æ¥åœ¨ä¸¤ä¸ªè¾“å…¥ä¹‹é—´è¿›è¡Œç›¸äº’è½¬æ¢ã€‚</p><p>å¯¹äºæ— æ•ˆçš„  <code>temperature</code>  å€¼ï¼Œå®ƒè¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œè¾“å‡ºç»“æœä¿ç•™ 3 ä½å°æ•°ï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="keyword">try</span><span class="constructor">Convert(<span class="params">temperature</span>, <span class="params">convert</span>)</span> &#123;</span><br><span class="line">  const input = parse<span class="constructor">Float(<span class="params">temperature</span>)</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="module-access"><span class="module"><span class="identifier">Number</span>.</span></span>is<span class="constructor">NaN(<span class="params">input</span>)</span>) &#123;</span><br><span class="line">    return '';</span><br><span class="line">  &#125;</span><br><span class="line">  const output = convert(input);</span><br><span class="line">  const rounded = <span class="module-access"><span class="module"><span class="identifier">Math</span>.</span></span>round(output<span class="operator"> * </span><span class="number">1000</span>)<span class="operator"> / </span><span class="number">1000</span>;</span><br><span class="line">  return rounded.<span class="keyword">to</span><span class="constructor">String()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œ <code>tryConvert('abc', toCelsius)</code>  å°†è¿”å›ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œè€Œ  <code>tryConvert('10.22', toFahrenheit)</code>  è¿”å›  <code>'50.396'</code> ã€‚</p><h2 id="çŠ¶æ€æå‡lifting-state-up-2"><a class="markdownIt-Anchor" href="#çŠ¶æ€æå‡lifting-state-up-2"></a> çŠ¶æ€æå‡(Lifting State Up)</h2><p>ç›®å‰ï¼Œä¸¤ä¸ª  <code>TemperatureInput</code>  ç»„ä»¶éƒ½å°†å…¶å€¼ä¿æŒåœ¨æœ¬åœ°çŠ¶æ€ä¸­ï¼š</p><figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TemperatureInput</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.handleChange = <span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;temperature: ''&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(e) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;temperature: e.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const temperature = <span class="keyword">this</span>.state.temperature;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ä¸¤ä¸ªè¾“å…¥æ˜¯ç›¸äº’åŒæ­¥çš„ã€‚å½“æˆ‘ä»¬æ›´æ–°æ‘„æ°æ¸©åº¦è¾“å…¥æ—¶ï¼Œåæ°æ¸©åº¦è¾“å…¥åº”åæ˜ è½¬æ¢åçš„æ¸©åº¦ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p>åœ¨ React ä¸­ï¼Œå…±äº« state(çŠ¶æ€) æ˜¯é€šè¿‡å°†å…¶ç§»åŠ¨åˆ°éœ€è¦å®ƒçš„ç»„ä»¶çš„æœ€æ¥è¿‘çš„å…±åŒç¥–å…ˆç»„ä»¶æ¥å®ç°çš„ã€‚ è¿™è¢«ç§°ä¸ºâ€œçŠ¶æ€æå‡(Lifting State Up)â€ã€‚æˆ‘ä»¬å°†ä»  <code>TemperatureInput</code>  ä¸­ç§»é™¤ç›¸å…³çŠ¶æ€æœ¬åœ°çŠ¶æ€ï¼Œå¹¶å°†å…¶ç§»åŠ¨åˆ°  <code>Calculator</code>  ä¸­ã€‚</p><p>å¦‚æœ  <code>Calculator</code>  æ‹¥æœ‰å…±äº«çŠ¶æ€ï¼Œé‚£ä¹ˆå®ƒå°†æˆä¸ºä¸¤ä¸ªè¾“å…¥å½“å‰æ¸©åº¦çš„â€œå•ä¸€æ•°æ®æ¥æºâ€ã€‚å®ƒå¯ä»¥æŒ‡ç¤ºä»–ä»¬å…·æœ‰å½¼æ­¤ä¸€è‡´çš„å€¼ã€‚ç”±äºä¸¤ä¸ª  <code>TemperatureInput</code>  ç»„ä»¶çš„ props éƒ½æ¥è‡ªåŒä¸€ä¸ªçˆ¶çº§<code>Calculator</code>ç»„ä»¶ï¼Œä¸¤ä¸ªè¾“å…¥å°†å§‹ç»ˆä¿æŒåŒæ­¥ã€‚</p><p>è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥çœ‹çœ‹è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†åœ¨  <code>TemperatureInput</code>  ç»„ä»¶ä¸­ç”¨  <code>this.props.temperature</code>  æ›¿æ¢<code>this.state.temperature</code> ã€‚ ç°åœ¨ï¼Œæˆ‘ä»¬å‡è£…  <code>this.props.temperature</code>  å·²ç»å­˜åœ¨ï¼Œè™½ç„¶æˆ‘ä»¬å°†æ¥éœ€è¦ä»  <code>Calculator</code>  ä¼ é€’è¿‡æ¥ï¼š</p><figure class="highlight pf"><table><tr><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">  // ä¹‹å‰æ˜¯: const temperature = this.<span class="keyword">state</span>.temperature;</span><br><span class="line">  const temperature = this.props.temperature;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬çŸ¥é“  <a href="http://www.css88.com/react/docs/components-and-props.html#props-are-read-only" target="_blank" rel="noopener">props(å±æ€§) æ˜¯åªè¯»çš„</a>ã€‚ å½“  <code>temperature</code>  æ˜¯ æœ¬åœ° state(çŠ¶æ€)æ—¶ï¼Œ <code>TemperatureInput</code>å¯ä»¥è°ƒç”¨  <code>this.setState()</code>  æ¥æ›´æ”¹å®ƒã€‚ ç„¶è€Œï¼Œç°åœ¨  <code>temperature</code>  æ¥è‡ªçˆ¶çº§ä½œä¸º prop(å±æ€§) ï¼Œ<code>TemperatureInput</code>  å°±æ— æ³•æ§åˆ¶å®ƒã€‚</p><p>åœ¨ React ä¸­ï¼Œé€šå¸¸é€šè¿‡ä½¿ç»„ä»¶â€œå—æ§â€çš„æ–¹å¼æ¥è§£å†³ã€‚å°±åƒ DOM ``ä¸€æ ·æ¥å—ä¸€ä¸ª  <code>value</code>å’Œä¸€ä¸ª  <code>onChange</code> prop(å±æ€§) ï¼Œæ‰€ä»¥å¯ä»¥å®šåˆ¶  <code>TemperatureInput</code>  æ¥å—æ¥è‡ªå…¶çˆ¶çº§  <code>Calculator</code>  çš„<code>temperature</code>  å’Œ  <code>onTemperatureChange</code> ã€‚</p><p>ç°åœ¨ï¼Œå½“  <code>TemperatureInput</code>  æƒ³è¦æ›´æ–°å…¶æ¸©åº¦æ—¶ï¼Œå®ƒå°±ä¼šè°ƒç”¨<code>this.props.onTemperatureChange</code>ï¼š</p><figure class="highlight reasonml"><table><tr><td class="code"><pre><span class="line">handle<span class="constructor">Change(<span class="params">e</span>)</span> &#123;</span><br><span class="line">  <span class="comment">// ä¹‹å‰æ˜¯: this.setState(&#123;temperature: e.target.value&#125;);</span></span><br><span class="line">  this.props.on<span class="constructor">TemperatureChange(<span class="params">e</span>.<span class="params">target</span>.<span class="params">value</span>)</span>;</span><br></pre></td></tr></table></figure><p>è¯·æ³¨æ„ï¼Œè‡ªå®šä¹‰ç»„ä»¶ä¸­çš„  <code>temperature</code>  æˆ–  <code>onTemperatureChange</code> prop(å±æ€§) åç§°æ²¡æœ‰ç‰¹æ®Šçš„å«ä¹‰ã€‚æˆ‘ä»¬å¯ä»¥å‘½åä¸ºä»»ä½•å…¶ä»–åç§°ï¼Œåƒå‘½åä»–ä»¬ä¸º  <code>value</code>  å’Œ  <code>onChange</code>ï¼Œæ˜¯ä¸€ä¸ªå¸¸è§çš„æƒ¯ä¾‹ã€‚</p><p><code>onTemperatureChange</code> prop(å±æ€§) å’Œ  <code>temperature</code> prop(å±æ€§) ä¸€èµ·ç”±çˆ¶çº§çš„  <code>Calculator</code>  ç»„ä»¶æä¾›ã€‚å®ƒå°†é€šè¿‡ä¿®æ”¹è‡ªå·±çš„æœ¬åœ° state(çŠ¶æ€) æ¥å¤„ç†å˜æ›´ï¼Œä»è€Œé€šè¿‡æ–°å€¼é‡æ–°æ¸²æŸ“ä¸¤ä¸ªè¾“å…¥ã€‚æˆ‘ä»¬å°†å¾ˆå¿«çœ‹åˆ°æ–°çš„  <code>Calculator</code>  å®ç°ã€‚</p><p>åœ¨ä¿®æ”¹  <code>Calculator</code>  ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹å¯¹  <code>TemperatureInput</code>  ç»„ä»¶çš„æ›´æ”¹ã€‚æˆ‘ä»¬å·²ç»ä»ä¸­åˆ é™¤äº†æœ¬åœ° state(çŠ¶æ€) ï¼Œä¸æ˜¯è¯»å–<code>this.state.temperature</code> ï¼Œæˆ‘ä»¬ç°åœ¨è¯»å–<code>this.props.temperature</code> ã€‚å½“æˆ‘ä»¬æƒ³è¦æ›´æ”¹æ—¶ï¼Œ ä¸æ˜¯è°ƒç”¨  <code>this.setState()</code> ï¼Œè€Œæ˜¯è°ƒç”¨<code>this.props.onTemperatureChange()</code>ï¼Œ è¿™å°†ç”±  <code>Calculator</code>  æä¾›ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TemperatureInput</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.handleChange = <span class="keyword">this</span>.handleChange.bind(<span class="keyword">this</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(e) &#123;</span><br><span class="line">    <span class="keyword">this</span>.props.onTemperatureChange(e.target.value);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> temperature = <span class="keyword">this</span>.props.temperature;</span><br><span class="line">    <span class="keyword">const</span> scale = <span class="keyword">this</span>.props.scale;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;fieldset&gt;</span><br><span class="line">        &lt;legend&gt;Enter temperature <span class="keyword">in</span> &#123;scaleNames[scale]&#125;:<span class="xml"><span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span></span><br><span class="line">        &lt;input value=&#123;temperature&#125;</span><br><span class="line">               onChange=&#123;<span class="keyword">this</span>.handleChange&#125; /&gt;</span><br><span class="line">      &lt;<span class="regexp">/fieldset&gt;</span></span><br><span class="line"><span class="regexp">    );</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹  <code>Calculator</code>  ç»„ä»¶ã€‚</p><p>æˆ‘ä»¬å°†å½“å‰è¾“å…¥çš„  <code>temperature</code>  å’Œ  <code>scale</code>  å­˜å‚¨åœ¨æœ¬åœ° state(çŠ¶æ€) ä¸­ã€‚è¿™æ˜¯æˆ‘ä»¬ä»è¾“å…¥ â€œæå‡â€ çš„ state(çŠ¶æ€) ï¼Œå®ƒå°†ä½œä¸ºä¸¤ä¸ªè¾“å…¥çš„ â€œå•ä¸€æ•°æ®æ¥æºâ€ ã€‚ä¸ºäº†æ¸²æŸ“ä¸¤ä¸ªè¾“å…¥ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“çš„æ‰€æœ‰æ•°æ®çš„æœ€å°è¡¨ç¤ºã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬åœ¨æ‘„æ°åº¦è¾“å…¥æ¡†ä¸­è¾“å…¥ 37 ï¼Œåˆ™  <code>Calculator</code>  ç»„ä»¶çš„çŠ¶æ€å°†æ˜¯ï¼š</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attribute">temperature</span>: <span class="string">'37'</span>,</span><br><span class="line">  scale: <span class="string">'c'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬ç¨åå°†åæ°æ¸©åº¦å­—æ®µç¼–è¾‘ä¸º 212 ï¼Œåˆ™  <code>Calculator</code>  ç»„ä»¶çš„çŠ¶æ€å°†æ˜¯ï¼š</p><figure class="highlight css"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attribute">temperature</span>: <span class="string">'212'</span>,</span><br><span class="line">  scale: <span class="string">'f'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å­˜å‚¨ä¸¤ä¸ªè¾“å…¥æ¡†çš„å€¼ï¼Œä½†äº‹å®è¯æ˜æ˜¯ä¸å¿…è¦çš„ã€‚å­˜å‚¨æœ€è¿‘æ›´æ”¹çš„è¾“å…¥æ¡†çš„å€¼ï¼Œä»¥åŠå®ƒæ‰€è¡¨ç¤ºçš„åº¦é‡è¡¡å°±å¤Ÿäº†ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºå½“å‰çš„  <code>temperature</code>(æ¸©åº¦) å’Œ  <code>scale</code>(åº¦é‡è¡¡) æ¥æ¨æ–­å…¶ä»–è¾“å…¥çš„å€¼ã€‚</p><p>è¾“å…¥æ¡†ä¿æŒåŒæ­¥ï¼Œå› ä¸ºå®ƒä»¬çš„å€¼æ˜¯ä»ç›¸åŒçš„ state(çŠ¶æ€) è®¡ç®—å‡ºæ¥çš„ï¼š</p><figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> <span class="title">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props) &#123;</span><br><span class="line">    <span class="keyword">super</span>(props);</span><br><span class="line">    <span class="keyword">this</span>.handleCelsiusChange = <span class="keyword">this</span>.handleCelsiusChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.handleFahrenheitChange = <span class="keyword">this</span>.handleFahrenheitChange.bind(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;temperature: <span class="string">''</span>, scale: <span class="string">'c'</span>&#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleCelsiusChange(temperature) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;scale: <span class="string">'c'</span>, temperature&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleFahrenheitChange(temperature) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;scale: <span class="string">'f'</span>, temperature&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> scale = <span class="keyword">this</span>.state.scale;</span><br><span class="line">    <span class="keyword">const</span> temperature = <span class="keyword">this</span>.state.temperature;</span><br><span class="line">    <span class="keyword">const</span> celsius = scale === <span class="string">'f'</span> ? tryConvert(temperature, toCelsius) : temperature;</span><br><span class="line">    <span class="keyword">const</span> fahrenheit = scale === <span class="string">'c'</span> ? tryConvert(temperature, toFahrenheit) : temperature;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;TemperatureInput</span><br><span class="line">          scale=<span class="string">"c"</span></span><br><span class="line">          temperature=&#123;celsius&#125;</span><br><span class="line">          onTemperatureChange=&#123;<span class="keyword">this</span>.handleCelsiusChange&#125; /&gt;</span><br><span class="line">        &lt;TemperatureInput</span><br><span class="line">          scale=<span class="string">"f"</span></span><br><span class="line">          temperature=&#123;fahrenheit&#125;</span><br><span class="line">          onTemperatureChange=&#123;<span class="keyword">this</span>.handleFahrenheitChange&#125; /&gt;</span><br><span class="line">        &lt;BoilingVerdict</span><br><span class="line">          celsius=&#123;parseFloat(celsius)&#125; /&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/valscion/pen/jBNjja?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>ç°åœ¨ï¼Œæ— è®ºä½ ç¼–è¾‘å“ªä¸ªè¾“å…¥æ¡†ï¼Œ<code>Calculator</code>  ä¸­çš„  <code>this.state.temperature</code>  å’Œ  <code>this.state.scale</code>éƒ½ä¼šæ›´æ–°ã€‚å…¶ä¸­ä¸€ä¸ªè¾“å…¥æ¡†è·å–å€¼ï¼Œæ‰€ä»¥ä»»ä½•ç”¨æˆ·è¾“å…¥éƒ½è¢«ä¿ç•™ï¼Œå¹¶ä¸”å¦ä¸€ä¸ªè¾“å…¥æ€»æ˜¯åŸºäºå®ƒé‡æ–°è®¡ç®—å€¼ã€‚</p><p>è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ç¼–è¾‘è¾“å…¥æ—¶ä¼šå‘ç”Ÿä»€ä¹ˆï¼š</p><ul><li>React è°ƒç”¨åœ¨ DOM ``  ä¸Šçš„  <code>onChange</code>  æŒ‡å®šçš„å‡½æ•°ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè¿™æ˜¯<code>TemperatureInput</code>  ç»„ä»¶ä¸­çš„  <code>handleChange</code>  æ–¹æ³•ã€‚</li><li><code>TemperatureInput</code>  ç»„ä»¶ä¸­çš„  <code>handleChange</code>  æ–¹æ³•ä½¿ç”¨ æ–°çš„æœŸæœ›å€¼ è°ƒç”¨<code>this.props.onTemperatureChange()</code>ã€‚<code>TemperatureInput</code>  ç»„ä»¶ä¸­çš„ props(å±æ€§) ï¼ŒåŒ…æ‹¬<code>onTemperatureChange</code>ï¼Œç”±å…¶çˆ¶ç»„ä»¶  <code>Calculator</code>  æä¾›ã€‚</li><li>å½“å®ƒé¢„å…ˆå‘ˆç°æ—¶ï¼Œ <code>Calculator</code>  æŒ‡å®šäº†æ‘„æ°  <code>TemperatureInput</code>  çš„  <code>onTemperatureChange</code>  æ˜¯<code>Calculator</code>  çš„  <code>handleCelsiusChange</code>  æ–¹æ³•ï¼Œå¹¶ä¸”åæ°  <code>TemperatureInput</code>  çš„<code>onTemperatureChange</code>  æ˜¯  <code>Calculator</code>  çš„  <code>handleFahrenheitChange</code>  æ–¹æ³•ã€‚å› æ­¤ï¼Œä¼šæ ¹æ®æˆ‘ä»¬ç¼–è¾‘çš„è¾“å…¥æ¡†ï¼Œåˆ†åˆ«è°ƒç”¨è¿™ä¸¤ä¸ª  <code>Calculator</code>  æ–¹æ³•ã€‚</li><li>åœ¨è¿™äº›æ–¹æ³•ä¸­ï¼Œ <code>Calculator</code>  ç»„ä»¶è¦æ±‚ React é€šè¿‡ä½¿ç”¨ æ–°çš„è¾“å…¥å€¼ å’Œ åˆšåˆšç¼–è¾‘çš„è¾“å…¥æ¡†çš„å½“å‰åº¦é‡è¡¡ æ¥è°ƒç”¨  <code>this.setState()</code>  æ¥é‡æ–°æ¸²æŸ“è‡ªèº«ã€‚</li><li>React è°ƒç”¨  <code>Calculator</code>  ç»„ä»¶çš„  <code>render</code>  æ–¹æ³•æ¥äº†è§£ UI å¤–è§‚åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚åŸºäºå½“å‰æ¸©åº¦å’Œæ¿€æ´»çš„åº¦é‡è¡¡æ¥é‡æ–°è®¡ç®—ä¸¤ä¸ªè¾“å…¥æ¡†çš„å€¼ã€‚è¿™é‡Œè¿›è¡Œæ¸©åº¦è½¬æ¢ã€‚</li><li>React ä½¿ç”¨  <code>Calculator</code>  æŒ‡å®šçš„æ–° props(å±æ€§) è°ƒç”¨å„ä¸ª  <code>TemperatureInput</code>  ç»„ä»¶çš„  <code>render</code>æ–¹æ³•ã€‚ å®ƒäº†è§£ UI å¤–è§‚åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚</li><li>React DOM æ›´æ–° DOM ä»¥åŒ¹é…æœŸæœ›çš„è¾“å…¥å€¼ã€‚æˆ‘ä»¬åˆšåˆšç¼–è¾‘çš„è¾“å…¥æ¡†æ¥æ”¶å½“å‰å€¼ï¼Œå¦ä¸€ä¸ªè¾“å…¥æ¡†æ›´æ–°ä¸ºè½¬æ¢åçš„æ¸©åº¦ã€‚</li></ul><p>æ¯ä¸ªæ›´æ–°éƒ½ä¼šæ‰§è¡Œç›¸åŒçš„æ­¥éª¤ï¼Œä»¥ä¾¿è¾“å…¥ä¿æŒåŒæ­¥ã€‚</p><h2 id="ç»éªŒæ€»ç»“"><a class="markdownIt-Anchor" href="#ç»éªŒæ€»ç»“"></a> ç»éªŒæ€»ç»“</h2><p>åœ¨ä¸€ä¸ª React åº”ç”¨ä¸­ï¼Œå¯¹äºä»»ä½•å¯å˜çš„æ•°æ®éƒ½åº”è¯¥å¾ªåºâ€œå•ä¸€æ•°æ®æºâ€åŸåˆ™ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œstate é¦–å…ˆè¢«æ·»åŠ åˆ°éœ€è¦å®ƒè¿›è¡Œæ¸²æŸ“çš„ç»„ä»¶ã€‚ç„¶åï¼Œå¦‚æœå…¶å®ƒçš„ç»„ä»¶ä¹Ÿéœ€è¦å®ƒï¼Œä½ å¯ä»¥æå‡çŠ¶æ€åˆ°å®ƒä»¬æœ€è¿‘çš„ç¥–å…ˆç»„ä»¶ã€‚ä½ åº”è¯¥ä¾èµ–  <a href="http://www.css88.com/react/docs/state-and-lifecycle.html#the-data-flows-down" target="_blank" rel="noopener">ä»ä¸Šåˆ°ä¸‹çš„æ•°æ®æµå‘</a> ï¼Œè€Œä¸æ˜¯è¯•å›¾åœ¨ä¸åŒçš„ç»„ä»¶ä¸­åŒæ­¥çŠ¶æ€ã€‚</p><p>æå‡çŠ¶æ€ç›¸å¯¹äºåŒå‘ç»‘å®šæ–¹æ³•éœ€è¦å†™æ›´å¤šçš„â€œæ¨¡æ¿â€ä»£ç ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå®ƒå¯ä»¥æ›´æ–¹ä¾¿çš„æ‰¾åˆ°å’Œéš”ç¦» bugsã€‚ç”±äºä»»ä½• state(çŠ¶æ€) éƒ½ â€œå­˜æ´»â€ åœ¨è‹¥å¹²çš„ç»„ä»¶ä¸­ï¼Œè€Œä¸”å¯ä»¥åˆ†åˆ«å¯¹å…¶ç‹¬ç«‹ä¿®æ”¹ï¼Œæ‰€ä»¥å‘ç”Ÿé”™è¯¯çš„å¯èƒ½å¤§å¤§å‡å°‘ã€‚å¦å¤–ï¼Œä½ å¯ä»¥å®ç°ä»»ä½•å®šåˆ¶çš„é€»è¾‘æ¥æ‹’ç»æˆ–è€…è½¬æ¢ç”¨æˆ·è¾“å…¥ã€‚</p><p>å¦‚æœæŸä¸ªä¸œè¥¿å¯ä»¥ä» props(å±æ€§) æˆ–è€… state(çŠ¶æ€) å¾—åˆ°ï¼Œé‚£ä¹ˆå®ƒå¯èƒ½ä¸åº”è¯¥åœ¨ state(çŠ¶æ€) ä¸­ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åªä¿å­˜æœ€åç¼–è¾‘çš„  <code>temperature</code>  å’Œå®ƒçš„  <code>scale</code>ï¼Œè€Œä¸æ˜¯ä¿å­˜  <code>celsiusValue</code>  å’Œ<code>fahrenheitValue</code> ã€‚å¦ä¸€ä¸ªè¾“å…¥æ¡†çš„å€¼æ€»æ˜¯åœ¨  <code>render()</code>  æ–¹æ³•ä¸­è®¡ç®—å¾—æ¥çš„ã€‚è¿™ä½¿æˆ‘ä»¬å¯¹å…¶è¿›è¡Œæ¸…é™¤å’Œå››èˆäº”å…¥åˆ°å…¶ä»–å­—æ®µåŒæ—¶ä¸ä¼šä¸¢å¤±ç”¨æˆ·è¾“å…¥çš„ç²¾åº¦ã€‚</p><p>å½“ä½ çœ‹åˆ° UI ä¸­çš„é”™è¯¯ï¼Œä½ å¯ä»¥ä½¿ç”¨  <a href="https://github.com/facebook/react-devtools" target="_blank" rel="noopener">React å¼€å‘è€…å·¥å…·</a>æ¥æ£€æŸ¥ props ï¼Œå¹¶å‘ä¸Šéå†æ ‘ï¼Œç›´åˆ°æ‰¾åˆ°è´Ÿè´£æ›´æ–°çŠ¶æ€çš„ç»„ä»¶ã€‚è¿™ä½¿ä½ å¯ä»¥è·Ÿè¸ªåˆ° bug çš„æºå¤´ï¼š</p><h1 id="ç»„åˆå’Œç»§æ‰¿å¯¹æ¯”composition-vs-inheritance"><a class="markdownIt-Anchor" href="#ç»„åˆå’Œç»§æ‰¿å¯¹æ¯”composition-vs-inheritance"></a> ç»„åˆå’Œç»§æ‰¿å¯¹æ¯”ï¼ˆComposition vs Inheritanceï¼‰</h1><p>React æ‹¥æœ‰ä¸€ä¸ªå¼ºå¤§çš„ç»„åˆæ¨¡å‹ï¼Œæˆ‘ä»¬å»ºè®®ä½¿ç”¨ç»„åˆè€Œä¸æ˜¯ç»§æ‰¿ä»¥å®ç°ä»£ç çš„é‡ç”¨ã€‚</p><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†è€ƒè™‘å‡ ä¸ªé—®é¢˜ï¼Œå³ React æ–°æ‰‹ç»å¸¸ä¼šä½¿ç”¨ç»§æ‰¿ï¼Œå¹¶å±•ç¤ºæˆ‘ä»¬å¦‚ä½•é€šè¿‡ç»„åˆæ¥è§£å†³å®ƒä»¬ã€‚</p><h2 id="åŒ…å«"><a class="markdownIt-Anchor" href="#åŒ…å«"></a> åŒ…å«</h2><p>ä¸€äº›ç»„ä»¶åœ¨è®¾è®¡å‰æ— æ³•è·çŸ¥è‡ªå·±è¦ä½¿ç”¨ä»€ä¹ˆå­ç»„ä»¶ï¼Œå°¤å…¶åœ¨  <code>Sidebar</code>  å’Œ  <code>Dialog</code>  ç­‰é€šç”¨ â€œå®¹å™¨â€ ä¸­æ¯”è¾ƒå¸¸è§ã€‚</p><p>æˆ‘ä»¬å»ºè®®è¿™ç§ç»„ä»¶ä½¿ç”¨ç‰¹åˆ«çš„  <code>children</code> prop æ¥ç›´æ¥ä¼ é€’ å­å…ƒç´ åˆ°ä»–ä»¬çš„è¾“å‡ºä¸­ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">FancyBorder</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=&#123;<span class="string">'FancyBorder FancyBorder-'</span> + props.color&#125;&gt;</span><br><span class="line">      &#123;props.children&#125;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p>è¿™å…è®¸å…¶ä»–ç»„ä»¶é€šè¿‡åµŒå¥— JSX ä¼ é€’ä»»æ„å­ç»„ä»¶ç»™ä»–ä»¬ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">WelcomeDialog</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;FancyBorder color=<span class="string">"blue"</span>&gt;</span><br><span class="line">      &lt;h1 className=<span class="string">"Dialog-title"</span>&gt;</span><br><span class="line">        Welcome</span><br><span class="line">      &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p className="Dialog-message"&gt;</span></span><br><span class="line"><span class="regexp">        Thank you for visiting our spacecraft!</span></span><br><span class="line"><span class="regexp">      &lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/FancyBorder&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/ozqNOV?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>åœ¨  <code>JSX æ ‡ç­¾ä¸­çš„ä»»ä½•å†…å®¹è¢«ä¼ é€’åˆ° `FancyBorder` ç»„ä»¶ä¸­ï¼Œä½œä¸ºä¸€ä¸ª `children`prop(å±æ€§)ã€‚ç”±äº `FancyBorder` æ¸²æŸ“ `{props.children}` åˆ°ä¸€ä¸ª</code>  ä¸­ï¼Œä¼ é€’çš„å…ƒç´ ä¼šå‘ˆç°åœ¨æœ€ç»ˆçš„è¾“å‡ºä¸­ã€‚</p><p>ç„¶è€Œè¿™å¹¶ä¸å¸¸è§ï¼Œæœ‰æ—¶å€™ï¼Œåœ¨ä¸€ä¸ªç»„ä»¶ä¸­ä½ å¯èƒ½éœ€è¦å¤šä¸ª â€œå ä½ç¬¦â€ ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ prop(å±æ€§)ï¼Œè€Œä¸æ˜¯ä½¿ç”¨  <code>children</code> ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">SplitPane</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;div className=<span class="string">"SplitPane"</span>&gt;</span><br><span class="line">      &lt;div className=<span class="string">"SplitPane-left"</span>&gt;</span><br><span class="line">        &#123;props.left&#125;</span><br><span class="line">      &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">      &lt;div className="SplitPane-right"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;props.right&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>div&gt;</span><br><span class="line">    &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function App() &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;SplitPane</span></span><br><span class="line"><span class="regexp">      left=&#123;</span></span><br><span class="line"><span class="regexp">        &lt;Contacts /</span>&gt;</span><br><span class="line">      &#125;</span><br><span class="line">      right=&#123;</span><br><span class="line">        &lt;Chat /&gt;</span><br><span class="line">      &#125; /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/gwZOJp?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>å¦‚  <code>å’Œ</code>  ç­‰ React å…ƒç´ æœ¬è´¨ä¸Šä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥å°†å…¶åƒå…¶ä»–æ•°æ®ä¸€æ ·ä½œä¸º props(å±æ€§) ä¼ é€’ä½¿ç”¨ã€‚</p><h2 id="ç‰¹ä¾‹"><a class="markdownIt-Anchor" href="#ç‰¹ä¾‹"></a> ç‰¹ä¾‹</h2><p>æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬è€ƒè™‘ç»„ä»¶ä½œä¸ºå…¶å®ƒç»„ä»¶çš„â€œç‰¹æ®Šæƒ…å†µâ€ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯èƒ½è¯´ä¸€ä¸ª  <code>WelcomeDialog</code>  æ˜¯<code>Dialog</code>  çš„ä¸€ä¸ªç‰¹æ®Šç”¨ä¾‹ã€‚</p><p>åœ¨ React ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç»„åˆæ¥å®ç°ï¼Œä¸€ä¸ªåâ€œç‰¹æ®Šâ€çš„ç»„ä»¶æ¸²æŸ“å‡ºä¸€ä¸ªåâ€œé€šç”¨â€çš„ç»„ä»¶ï¼Œé€šè¿‡ props(å±æ€§) é…ç½®å®ƒï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dialog</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;FancyBorder color=<span class="string">"blue"</span>&gt;</span><br><span class="line">      &lt;h1 className=<span class="string">"Dialog-title"</span>&gt;</span><br><span class="line">        &#123;props.title&#125;</span><br><span class="line">      &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p className="Dialog-message"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;props.message&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>p&gt;</span><br><span class="line">    &lt;<span class="regexp">/FancyBorder&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">function WelcomeDialog() &#123;</span></span><br><span class="line"><span class="regexp">  return (</span></span><br><span class="line"><span class="regexp">    &lt;Dialog</span></span><br><span class="line"><span class="regexp">      title="Welcome"</span></span><br><span class="line"><span class="regexp">      message="Thank you for visiting our spacecraft!" /</span>&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/kkEaOZ?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><p>å¯¹äºç”¨ç±»å®šä¹‰çš„ç»„ä»¶ç»„åˆä¹ŸåŒæ ·é€‚ç”¨ï¼š</p><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Dialog</span>(<span class="params">props</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    &lt;FancyBorder color=<span class="string">"blue"</span>&gt;</span><br><span class="line">      &lt;h1 className=<span class="string">"Dialog-title"</span>&gt;</span><br><span class="line">        &#123;props.title&#125;</span><br><span class="line">      &lt;<span class="regexp">/h1&gt;</span></span><br><span class="line"><span class="regexp">      &lt;p className="Dialog-message"&gt;</span></span><br><span class="line"><span class="regexp">        &#123;props.message&#125;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>p&gt;</span><br><span class="line">      &#123;props.children&#125;</span><br><span class="line">    &lt;<span class="regexp">/FancyBorder&gt;</span></span><br><span class="line"><span class="regexp">  );</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">class SignUpDialog extends React.Component &#123;</span></span><br><span class="line"><span class="regexp">  constructor(props) &#123;</span></span><br><span class="line"><span class="regexp">    super(props);</span></span><br><span class="line"><span class="regexp">    this.handleChange = this.handleChange.bind(this);</span></span><br><span class="line"><span class="regexp">    this.handleSignUp = this.handleSignUp.bind(this);</span></span><br><span class="line"><span class="regexp">    this.state = &#123;login: ''&#125;;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  render() &#123;</span></span><br><span class="line"><span class="regexp">    return (</span></span><br><span class="line"><span class="regexp">      &lt;Dialog title="Mars Exploration Program"</span></span><br><span class="line"><span class="regexp">              message="How should we refer to you?"&gt;</span></span><br><span class="line"><span class="regexp">        &lt;input value=&#123;this.state.login&#125;</span></span><br><span class="line"><span class="regexp">               onChange=&#123;this.handleChange&#125; /</span>&gt;</span><br><span class="line">        &lt;button onClick=&#123;<span class="keyword">this</span>.handleSignUp&#125;&gt;</span><br><span class="line">          Sign Me Up!</span><br><span class="line">        &lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;/</span>Dialog&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleChange(e) &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">login</span>: e.target.value&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handleSignUp() &#123;</span><br><span class="line">    alert(<span class="string">`Welcome aboard, <span class="subst">$&#123;<span class="keyword">this</span>.state.login&#125;</span>!`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://codepen.io/gaearon/pen/gwZbYa?editors=0010" target="_blank" rel="noopener">åœ¨ CodePen ä¸­å°è¯•</a>ã€‚</p><h2 id="å¦‚ä½•çœ‹å¾…"><a class="markdownIt-Anchor" href="#å¦‚ä½•çœ‹å¾…"></a> å¦‚ä½•çœ‹å¾…ï¼Ÿ</h2><p>åœ¨ Facebook ï¼Œæˆ‘ä»¬åœ¨åƒä¸‡çš„ç»„ä»¶ä¸­ä½¿ç”¨ Reactï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰å‘ç°ä»»ä½•ç”¨ä¾‹ï¼Œå€¼å¾—æˆ‘ä»¬å»ºè®®ä½ ç”¨ç»§æ‰¿å±‚æ¬¡ç»“æ„æ¥åˆ›å»ºç»„ä»¶ã€‚</p><p>ä½¿ç”¨ props(å±æ€§) å’Œ ç»„åˆå·²ç»è¶³å¤Ÿçµæ´»æ¥æ˜ç¡®ã€å®‰å…¨çš„å®šåˆ¶ä¸€ä¸ªç»„ä»¶çš„å¤–è§‚å’Œè¡Œä¸ºã€‚åˆ‡è®°ï¼Œç»„ä»¶å¯ä»¥æ¥å—ä»»æ„çš„ props(å±æ€§) ï¼ŒåŒ…æ‹¬åŸå§‹å€¼ã€React å…ƒç´ ï¼Œæˆ–è€…å‡½æ•°ã€‚</p><p>å¦‚æœè¦åœ¨ç»„ä»¶ä¹‹é—´é‡ç”¨é UI åŠŸèƒ½ï¼Œæˆ‘ä»¬å»ºè®®å°†å…¶æå–åˆ°å•ç‹¬çš„ JavaScript æ¨¡å—ä¸­ã€‚ç»„ä»¶å¯ä»¥å¯¼å…¥å®ƒå¹¶ä½¿ç”¨è¯¥å‡½æ•°ï¼Œå¯¹è±¡æˆ–ç±»ï¼Œè€Œä¸æ‰©å±•å®ƒã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;react-å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#react-å¿«é€Ÿå…¥é—¨&quot;&gt;&lt;/a&gt; React å¿«é€Ÿå…¥é—¨&lt;/h1&gt;
&lt;!-- TOC depthFrom:2 depthTo:3 --&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/frontend/README/"/>
    <id>https://dunwu.github.io/2019/03/06/frontend/README/</id>
    <published>2019-03-06T08:38:11.236Z</published>
    <updated>2019-03-26T15:47:27.231Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰ç«¯æŠ€æœ¯"><a class="markdownIt-Anchor" href="#å‰ç«¯æŠ€æœ¯"></a> å‰ç«¯æŠ€æœ¯</h1><blockquote><p>ğŸ¯ æ‰€æœ‰é…å¥—æºç æ•´ç†å½’æ¡£åœ¨ <a href="https://github.com/dunwu/frontend-tutorial" target="_blank" rel="noopener"><strong>frontend-tutorial</strong></a> é¡¹ç›®ä¸­ã€‚</p></blockquote><h2 id="çŸ¥è¯†ç‚¹"><a class="markdownIt-Anchor" href="#çŸ¥è¯†ç‚¹"></a> ğŸ“ çŸ¥è¯†ç‚¹</h2><h3 id="base"><a class="markdownIt-Anchor" href="#base"></a> Base</h3><blockquote><p>å‰ç«¯ web æŠ€æœ¯çš„åŸºçŸ³ï¼š <code>html</code> + <code>css</code> + <code>js</code></p><ul><li>HTML å®šä¹‰äº†ç½‘é¡µçš„å†…å®¹ã€‚</li><li>CSS å®šä¹‰äº†ç½‘é¡µçš„æ ·å¼ã€‚</li><li>JavaScript å®šä¹‰äº†ç½‘é¡µçš„è¡Œä¸ºã€‚</li></ul></blockquote><ul><li><a href="base/html.md">Html</a></li><li><a href="base/css.md">Css</a></li><li><a href="base/js.md">Javascript</a></li></ul><h3 id="nodejs-npm-yarn"><a class="markdownIt-Anchor" href="#nodejs-npm-yarn"></a> Nodejs, Npm, Yarn</h3><blockquote><p>Nodejs å’ŒåŒ…ç®¡ç†å™¨</p><p>æµè¡Œï¼š <code>npm</code>, <code>yarn</code></p></blockquote><ul><li><a href="nodejs/nodejs.md">Nodejs</a> - å…³é”®è¯ï¼š <code>nodejs</code>, <code>REPL</code>ï¼Œ <code>require</code>, <code>exports</code></li><li><a href="nodejs/npm.md">Npm</a> - å…³é”®è¯ï¼š <code>nodejs</code>, <code>åŒ…ç®¡ç†</code>, <code>npm</code>, <code>cnpm</code>, <code>package.json</code>, <code>node_modules</code></li><li><a href="nodejs/yarn.md">Yarn</a> - å…³é”®è¯ï¼š <code>nodejs</code>, <code>åŒ…ç®¡ç†</code>, <code>yarn</code>, <code>yarn.lock</code></li></ul><h3 id="es6-typescript-babel"><a class="markdownIt-Anchor" href="#es6-typescript-babel"></a> ES6, TypeScript, Babel</h3><blockquote><p>ä¸‹ä¸€ä»£ Javascript è¯­è¨€</p></blockquote><ul><li><a href="es6/ES6.md">ES6</a> - å…³é”®è¯ï¼š <code>ES6</code>, <code>ECMAScript</code>, <code>arrow</code>, <code>this</code>, <code>let</code>, <code>const</code>, <code>class</code>, <code>extends</code>, <code>super</code>, <code>arrow</code> â€¦</li><li><a href="es6/babel.md">Babel</a> - å…³é”®è¯ï¼š <code>babel-cli</code>, <code>.babelrc</code>, <code>preset</code>, <code>polyfill</code></li><li><a href="es6/typescript.md">TypeScript</a> - å…³é”®è¯ï¼š <code>typescript</code>, <code>tsc</code></li></ul><h3 id="bundlers"><a class="markdownIt-Anchor" href="#bundlers"></a> Bundlers</h3><blockquote><p>æ†ç»‘èµ„æºç®¡ç†å™¨</p><p>æµè¡Œï¼š <code>Webpack</code></p></blockquote><ul><li><a href="webpack/webpack.md">Webpack å…¥é—¨</a></li><li><a href="webpack/concept.md">Webpack æ¦‚å¿µ</a></li><li><a href="webpack/asset-management.md">Webpack èµ„æºç®¡ç†</a></li><li><a href="webpack/code-splitting.md">Webpack ä»£ç åˆ†ç¦»</a></li><li><a href="webpack/development.md">Webpack å¼€å‘å·¥å…·</a></li></ul><h3 id="qa"><a class="markdownIt-Anchor" href="#qa"></a> QA</h3><blockquote><p>é™æ€æ£€æŸ¥å·¥å…·ã€ä»£ç æ ¼å¼åŒ–å·¥å…·</p><p>æµè¡Œï¼š <code>JSLint</code>, <code>JSHint</code>, <code>ESLint</code>, <code>Prettier</code>, <code>Standard</code>, <code>TSlint</code></p></blockquote><ul><li><a href="qa/qa-summary.md">JavaScript QA å·¥å…·æ€»ç»“</a></li><li><a href="qa/eslint.md">eslint</a></li></ul><h3 id="mvc-react-vue-angular"><a class="markdownIt-Anchor" href="#mvc-react-vue-angular"></a> MVC - React, Vue, Angular</h3><ul><li><a href="mvc/Angular,React,Vue%E6%AF%94%E8%BE%83.md">Angular,React,Vue æ¯”è¾ƒ</a></li></ul><h4 id="react-æŠ€æœ¯æ ˆ"><a class="markdownIt-Anchor" href="#react-æŠ€æœ¯æ ˆ"></a> React æŠ€æœ¯æ ˆ</h4><ul><li><a href="mvc/react/react.md">React</a></li></ul><h4 id="vue-æŠ€æœ¯æ ˆ"><a class="markdownIt-Anchor" href="#vue-æŠ€æœ¯æ ˆ"></a> Vue æŠ€æœ¯æ ˆ</h4><h4 id="angular-æŠ€æœ¯æ ˆ"><a class="markdownIt-Anchor" href="#angular-æŠ€æœ¯æ ˆ"></a> Angular æŠ€æœ¯æ ˆ</h4><ul><li><a href="mvc/angular/angular.md">Angular</a></li></ul><h2 id="ä¼ é€é—¨"><a class="markdownIt-Anchor" href="#ä¼ é€é—¨"></a> ğŸšª ä¼ é€é—¨</h2><p>| <a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">å›é¦–é </a> |</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å‰ç«¯æŠ€æœ¯&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å‰ç«¯æŠ€æœ¯&quot;&gt;&lt;/a&gt; å‰ç«¯æŠ€æœ¯&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ¯ æ‰€æœ‰é…å¥—æºç æ•´ç†å½’æ¡£åœ¨ &lt;a href=&quot;https://github.com/dunwu/fron
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/database/sql/README/"/>
    <id>https://dunwu.github.io/2019/03/06/database/sql/README/</id>
    <published>2019-03-06T08:38:10.953Z</published>
    <updated>2019-03-26T15:47:26.267Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å…³ç³»å‹æ•°æ®åº“"><a class="markdownIt-Anchor" href="#å…³ç³»å‹æ•°æ®åº“"></a> å…³ç³»å‹æ•°æ®åº“</h1><blockquote><p>å…³ç³»æ•°æ®åº“ï¼Œæ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šçš„æ•°æ®åº“ï¼Œå€ŸåŠ©äºé›†åˆä»£æ•°ç­‰æ•°å­¦æ¦‚å¿µå’Œæ–¹æ³•æ¥å¤„ç†æ•°æ®åº“ä¸­çš„æ•°æ®ã€‚ç°å®ä¸–ç•Œä¸­çš„å„ç§å®ä½“ä»¥åŠå®ä½“ä¹‹é—´çš„å„ç§è”ç³»å‡ç”¨å…³ç³»æ¨¡å‹æ¥è¡¨ç¤ºã€‚å…³ç³»æ¨¡å‹ç”±å…³ç³»æ•°æ®ç»“æ„ã€å…³ç³»æ“ä½œé›†åˆã€å…³ç³»å®Œæ•´æ€§çº¦æŸä¸‰éƒ¨åˆ†ç»„æˆã€‚</p></blockquote><h2 id="çŸ¥è¯†ç‚¹"><a class="markdownIt-Anchor" href="#çŸ¥è¯†ç‚¹"></a> ğŸ“ çŸ¥è¯†ç‚¹</h2><h3 id="é€šç”¨çŸ¥è¯†ç‚¹"><a class="markdownIt-Anchor" href="#é€šç”¨çŸ¥è¯†ç‚¹"></a> é€šç”¨çŸ¥è¯†ç‚¹</h3><ul><li><a href="sql.md">å…³ç³»å‹æ•°æ®åº“ SQL åŸºæœ¬è¯­æ³•</a></li><li><a href="%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86.md">å…³ç³»å‹æ•°æ®åº“åŸºæœ¬åŸç†</a></li><li><a href="%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9D%A2%E8%AF%95%E9%A2%98.md">å…³ç³»å‹æ•°æ®åº“é¢è¯•é¢˜</a></li></ul><h3 id="å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿrdbms"><a class="markdownIt-Anchor" href="#å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿrdbms"></a> å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆRDBMSï¼‰</h3><ul><li><a href="mysql">Mysql</a></li><li>Oracle</li><li>SQL Server</li><li><a href="postgresql.md">PostgreSQL</a></li><li><a href="sqlite">SQLite</a></li><li>DB2</li><li><a href="h2.md">H2</a></li></ul><h3 id="æµè¡Œæ•°æ®åº“ä¸­é—´ä»¶"><a class="markdownIt-Anchor" href="#æµè¡Œæ•°æ®åº“ä¸­é—´ä»¶"></a> æµè¡Œæ•°æ®åº“ä¸­é—´ä»¶</h3><ul><li><a href="middleware/flyway.md">flyway</a></li></ul><h2 id="å­¦ä¹ èµ„æº"><a class="markdownIt-Anchor" href="#å­¦ä¹ èµ„æº"></a> ğŸ“š å­¦ä¹ èµ„æº</h2><h2 id="ä¼ é€é—¨"><a class="markdownIt-Anchor" href="#ä¼ é€é—¨"></a> ğŸšª ä¼ é€é—¨</h2><p>| <a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">å›é¦–é </a> |</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å…³ç³»å‹æ•°æ®åº“&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å…³ç³»å‹æ•°æ®åº“&quot;&gt;&lt;/a&gt; å…³ç³»å‹æ•°æ®åº“&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;å…³ç³»æ•°æ®åº“ï¼Œæ˜¯å»ºç«‹åœ¨å…³ç³»æ¨¡å‹åŸºç¡€ä¸Šçš„æ•°æ®åº“ï¼Œå€ŸåŠ©äºé›†åˆä»£æ•°ç­‰æ•°å­¦æ¦‚å¿µå’Œæ–¹æ³•æ¥å¤„ç†æ•°æ®åº“ä¸­çš„æ•°æ®
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/database/nosql/README/"/>
    <id>https://dunwu.github.io/2019/03/06/database/nosql/README/</id>
    <published>2019-03-06T08:38:10.878Z</published>
    <updated>2019-03-26T15:47:25.776Z</updated>
    
    <content type="html"><![CDATA[<h1 id="éå…³ç³»å‹æ•°æ®åº“"><a class="markdownIt-Anchor" href="#éå…³ç³»å‹æ•°æ®åº“"></a> éå…³ç³»å‹æ•°æ®åº“</h1><h2 id="çŸ¥è¯†ç‚¹"><a class="markdownIt-Anchor" href="#çŸ¥è¯†ç‚¹"></a> ğŸ“ çŸ¥è¯†ç‚¹</h2><h3 id="éå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#éå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ"></a> éå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ</h3><ul><li><a href="redis">Redis</a></li><li><a href="mongodb">MongoDB</a></li><li><a href="Cassandra.md">Cassandra</a></li></ul><h2 id="å­¦ä¹ èµ„æº"><a class="markdownIt-Anchor" href="#å­¦ä¹ èµ„æº"></a> ğŸ“š å­¦ä¹ èµ„æº</h2><h2 id="ä¼ é€é—¨"><a class="markdownIt-Anchor" href="#ä¼ é€é—¨"></a> ğŸšª ä¼ é€é—¨</h2><p>| <a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">å›é¦–é </a> |</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;éå…³ç³»å‹æ•°æ®åº“&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#éå…³ç³»å‹æ•°æ®åº“&quot;&gt;&lt;/a&gt; éå…³ç³»å‹æ•°æ®åº“&lt;/h1&gt;
&lt;h2 id=&quot;çŸ¥è¯†ç‚¹&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#çŸ¥è¯†ç‚¹&quot;&gt;&lt;/a&gt; ï¿½
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/database/README/"/>
    <id>https://dunwu.github.io/2019/03/06/database/README/</id>
    <published>2019-03-06T08:38:10.866Z</published>
    <updated>2019-03-26T15:47:26.135Z</updated>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®åº“"><a class="markdownIt-Anchor" href="#æ•°æ®åº“"></a> æ•°æ®åº“</h1><blockquote><p>ğŸ¯ æ‰€æœ‰é…å¥—æºç æ•´ç†å½’æ¡£åœ¨ <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener"><strong>db-tutorial</strong></a> é¡¹ç›®ä¸­ã€‚</p></blockquote><h2 id="çŸ¥è¯†ç‚¹"><a class="markdownIt-Anchor" href="#çŸ¥è¯†ç‚¹"></a> ğŸ“ çŸ¥è¯†ç‚¹</h2><ul><li><a href="sql">å…³ç³»å‹æ•°æ®åº“</a></li><li><a href="nosql">éå…³ç³»å‹æ•°æ®åº“</a></li></ul><h2 id="ä¼ é€é—¨"><a class="markdownIt-Anchor" href="#ä¼ é€é—¨"></a> ğŸšª ä¼ é€é—¨</h2><p>| <a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">å›é¦–é </a> |</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;æ•°æ®åº“&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#æ•°æ®åº“&quot;&gt;&lt;/a&gt; æ•°æ®åº“&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ¯ æ‰€æœ‰é…å¥—æºç æ•´ç†å½’æ¡£åœ¨ &lt;a href=&quot;https://github.com/dunwu/db-tuto
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="https://dunwu.github.io/2019/03/06/bigdata/README/"/>
    <id>https://dunwu.github.io/2019/03/06/bigdata/README/</id>
    <published>2019-03-06T08:38:10.810Z</published>
    <updated>2019-03-26T15:47:25.369Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¤§æ•°æ®"><a class="markdownIt-Anchor" href="#å¤§æ•°æ®"></a> å¤§æ•°æ®</h1><h2 id="çŸ¥è¯†ç‚¹"><a class="markdownIt-Anchor" href="#çŸ¥è¯†ç‚¹"></a> ğŸ“ çŸ¥è¯†ç‚¹</h2><ul><li><a href="MapReduce.md">MapReduce</a></li><li><a href="HDFS.md">HDFS</a></li><li><a href="YARN.md">YARN</a></li><li><a href="hbase">HBase</a><ul><li><a href="hbase/hbase-cli.md">HBase å‘½ä»¤</a></li><li><a href="hbase/hbase-ops.md">HBase é…ç½®</a></li></ul></li></ul><h2 id="å­¦ä¹ èµ„æº"><a class="markdownIt-Anchor" href="#å­¦ä¹ èµ„æº"></a> ğŸ“š å­¦ä¹ èµ„æº</h2><h3 id="ä¹¦"><a class="markdownIt-Anchor" href="#ä¹¦"></a> ä¹¦</h3><p><a href="https://book.douban.com/subject/6523762/" target="_blank" rel="noopener">Hadoop æƒå¨æŒ‡å—</a></p><h2 id="ä¼ é€é—¨"><a class="markdownIt-Anchor" href="#ä¼ é€é—¨"></a> ğŸšª ä¼ é€é—¨</h2><p>| <a href="https://github.com/dunwu/blog" target="_blank" rel="noopener">å›é¦–é </a> |</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å¤§æ•°æ®&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#å¤§æ•°æ®&quot;&gt;&lt;/a&gt; å¤§æ•°æ®&lt;/h1&gt;
&lt;h2 id=&quot;çŸ¥è¯†ç‚¹&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#çŸ¥è¯†ç‚¹&quot;&gt;&lt;/a&gt; ğŸ“ çŸ¥è¯†ç‚¹&lt;/h2&gt;
&lt;
      
    
    </summary>
    
    
      <category term="hide" scheme="https://dunwu.github.io/tags/hide/"/>
    
  </entry>
  
</feed>
